{"version":3,"sources":["assets/icons/play.svg","assets/icons/remove_from_cart.svg","assets/icons/edit.svg","assets/icons/arrow_up.svg","assets/icons/arrow_down.svg","assets/icons/wishlist.svg","assets/icons/shopping_cart.svg","assets/icons/bin.svg","history.js","services/HttpService.js","services/OrderService.js","services/UtilService.js","services/GameService.js","actions/gameActions.js","services/UserService.js","actions/userActions.js","services/StorageService.js","services/CartService.js","actions/cartActions.js","cmps/charts/TinyBarChart.js","cmps/modal/Modal.js","cmps/helpers/Notification.js","cmps/game-preview/GamePreview.js","cmps/game-list/GameList.js","pages/homepage/HomePage.js","pages/login/Login.js","services/MediaUploadService.js","pages/sign-up/SignUp.js","cmps/filter/Filter.js","pages/explore-page/Explore.js","cmps/helpers/LongTxt.js","cmps/charts/AreaChart.js","cmps/charts/PieChart.js","cmps/info-card/InfoCard.js","services/SocketService.js","cmps/dashboard/Dashboard.js","cmps/owned-games/OwnedGames.js","cmps/dynamic-cmps/DynamicTabMap.js","cmps/dynamic-cmps/DynamicTabPrev.js","pages/profile-page/ProfilePage.js","cmps/game-media/GameMedia.js","cmps/game-desc/GameDesc.js","cmps/comments/Comment.js","cmps/review/new-review/NewReview.js","cmps/is-user-logged-in/IsUserLoggedIn.js","cmps/review/Review.js","pages/game-details/GameDetails.js","pages/play-game/PlayGame.js","cmps/game-counter/GameCounter.js","cmps/nav-bar/NavBar.js","cmps/helpers/ConfirmDelete.js","cmps/edit-game/media-url-list/MediaUrlList.js","cmps/edit-game/thumbnail/Thumbnail.js","cmps/edit-game/tag-list/TagList.js","cmps/edit-game/inputForm/InputForm.js","cmps/edit-game/EditGame.js","cmps/shopping-cart/ShoppingCart.js","cmps/wish-list/WishList.js","cmps/footer/Footer.js","App.js","serviceWorker.js","reducers/gameReducer.js","reducers/userReducer.js","reducers/cartReducer.js","reducers/index.js","store.js","index.js","assets/icons/full_heart.svg","assets/icons/empty_heart.svg"],"names":["module","exports","history","createBrowserHistory","axios","Axios","create","withCredentials","endpoint","data","params","ajax","a","async","method","url","res","console","log","dir","response","status","push","query","filterBy","HttpService","add","order","sortGames","games","sortBy","sortByDownloads","_sortByRecency","_sortByRating","getGraphsDetails","getGameRating","dateByMillisecond","dateFromObjectId","objectId","Date","parseInt","substring","formatDate","date","year","getFullYear","getMonth","getSum","downloadsByGame","sum","map","currGame","idx","price","sortByPrice","isAscending","sort","game1","game2","formatGameRating","rating","game","reviews","reduce","acc","review","length","time","setDate","getDate","getTime","sortedGames","publishedAt","forEach","totalRating","downloadNumbers","downloadsCount","title","type","prms","ordersBy","gameByNameOrder","ordersByGame","OrderService","lastMonthId","gameIds","_id","Promise","all","orders","i","createdAt","currOrderDate","num","addedGame","getById","gameId","update","updatedGame","remove","setGames","setGame","loadGames","dispatch","GameService","login","loginCred","loggedInUser","signUp","signUpCred","logout","loggedOutUser","user","addedUser","userId","updatedUser","updateUser","UserService","_updateUser","setUser","loadFromStorage","key","val","localStorage","getItem","JSON","parse","saveToStorage","stringify","StorageService","addToCart","item","cartItems","find","currItem","err","removeFromCart","updatedCart","filter","clear","addGameToCart","CartService","_addToCart","_setCart","cart","Example","state","setData","gameOrders","props","orderCount","name","setState","prevprops","this","className","width","height","margin","top","right","left","bottom","dataKey","stroke","fill","Component","modalRoot","document","getElementById","Modal","el","createElement","appendChild","removeChild","ReactDOM","createPortal","children","React","Notification","modalTxt","GamePreview","publisherName","toggleModal","onOpenDetails","onOpenEdit","ev","stopPropagation","onRemoveFromCart","removeGameFromCart","onPlayClick","getDetailsForChart","UtilService","toggleWishedGame","wishedGames","findIndex","id","wishedGame","onUpdateUser","onAddToCart","onToggleModal","setTimeout","prevState","publisher","userName","isDashboard","isProfile","isModal","isWishList","onClick","alt","src","thumbnail","full_heart","empty_heart","remove_from_cart","play_img","edit_img","mapDispatchToProps","_removeFromCart","connect","cartStore","GameList","isHomepage","HomePage","mostPopular","recentGames","topRated","splice","window","scrollTo","to","on","gameStore","userStore","Login","password","isIncorrectInput","loginHandleChange","target","value","doLogin","preventDefault","userCreds","loginSection","onSubmit","onChange","placeholder","cred","uploadImg","files","split","UPLOAD_URL","formData","FormData","append","post","filesData","urls","file","SignUp","fullName","about","imgUrl","isLoadingImg","addMediaAndTags","MediaUploadService","signUpHandleChange","doSignUp","signUpCreds","removeImg","imgPreview","signUpSection","Filter","tag","inputChange","fieldName","onFilterBy","changeOrder","defaultChecked","htmlFor","arrow_up","arrow_down","Explore","componentDidMount","gamesIds","shoppingCartIds","LongTxt","isLongTxtShown","getText","text","shortLength","handleReadMore","prevstate","getButtonTxt","Graph","purcheses","purchases","orderDates","PureComponent","PieCharts","gameTitles","colors","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","RADIAN","index","Math","PI","radius","x","cos","y","sin","textAnchor","dominantBaseline","toFixed","sumOfGames","isAnimationActive","labelLine","label","style","background","InfoCard","includes","socket","Dashboard","monthMoneySum","downloadsByMonth","downloadsByWeek","getWeekInfo","downloadsSum","gameSum","toLocaleString","getMonthInfo","componentDidUpdate","prevProps","gameList","OwnedGames","orderBy","DynamicTabPrev","DynamicTabMap","mode","Cmp","getComponent","Fragment","ProfilePage","updateMode","checked","setup","io","terminate","eventName","cb","off","emit","GameMedia","mediaUrls","onThumbNailPhotoClick","GameDesc","isOwned","setOrderCount","setGameRating","setPublisherName","purchaseCheck","publisherId","isPurchased","onPlayClikc","description","priceOrPlay","publishedDate","onToggleWishedGame","Comment","onAddComment","onAddCommentOrReview","comments","commentMap","comment","NewReview","onAddReview","Review","GameDetails","currMediaUrl","match","loadGame","initiateSockets","SocketService","componentWillUnmount","newText","isSent","newGame","updateGame","updateComments","mainMedia","tags","allowFullScreen","volume","PlayGame","sendComment","newComment","addComment","addedComments","logInMsg","frameBorder","scrolling","GameCounter","loadCart","alignSelf","color","NavBar","doLogOut","wishlistImg","shoppingCartImg","exact","activeClassName","ConfirmDelete","modalAction","modalType","MediaUrlsList","removeMediaAndTags","TagList","InputForm","addedTags","addedUrls","addedThumbnail","onRemoveGame","form","loading","multiple","trash_bin","EditGame","currTag","getDateInput","removeGame","publishDate","day","slice","month","editedData","ShoppingCart","onBuyClick","clearCart","gamesToRender","isCart","WishList","Footer","App","path","render","component","Boolean","location","hostname","INITIAL_STATE","localLoggedInUser","sessionStorage","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","Store","createStore","applyMiddleware","thunk","store","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.95c175e2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/play.110eb8dc.svg\";","module.exports = __webpack_public_path__ + \"static/media/remove_from_cart.ccf11e5c.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit.a679f828.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_up.d7b22dd4.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_down.eb493c40.svg\";","module.exports = __webpack_public_path__ + \"static/media/wishlist.58d71a39.svg\";","module.exports = __webpack_public_path__ + \"static/media/shopping_cart.0ff5ef33.svg\";","module.exports = __webpack_public_path__ + \"static/media/bin.817d91ee.svg\";","import { createBrowserHistory } from 'history';\r\nconst history = createBrowserHistory();\r\n\r\nexport default history;","import history from '../history';\r\nimport Axios from 'axios';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nlet axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport default {\r\n    get(endpoint, data, params){\r\n        return ajax(endpoint, 'GET', data, params)\r\n    },\r\n    post(endpoint, data){\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data){\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data){\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method='get', data=null ,params, dispatch) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params\r\n        })\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\r\n        console.dir(err);\r\n        if (err.response && err.response.status === 401) {\r\n          history.push('/login'); // diaspatch ('authorition error')\r\n        }\r\n          // diaspatch ('error')\r\n          throw err; \r\n    }\r\n}","\r\nimport HttpService from './HttpService';\r\n\r\nexport default {\r\n    query,\r\n    add\r\n}\r\n\r\n\r\nasync function query(filterBy) {\r\n    return HttpService.get('order', '', filterBy);\r\n}\r\n\r\nasync function add(order) {\r\n    return HttpService.post('order', order);\r\n}\r\n\r\n\r\n","import OrderService from './OrderService';\r\nexport default {\r\n    sortGames,\r\n    sortByDownloads,\r\n    getGraphsDetails,\r\n    getGameRating,\r\n    dateByMillisecond,\r\n    dateFromObjectId,\r\n    formatDate,\r\n    getSum,\r\n    sortByPrice,\r\n    formatGameRating\r\n}\r\n\r\nfunction dateFromObjectId(objectId) {\r\n    const date = new Date(parseInt(objectId.substring(0, 8), 16) * 1000)\r\n    return date\r\n};\r\n\r\n\r\n\r\n\r\nfunction getGameRating(game) {\r\n    const { reviews } = game\r\n    let sumOfRating = reviews.reduce((acc, review) => {\r\n        if (review.rating === 'like') {\r\n            return acc += 1\r\n        } else {\r\n            return acc -= 1\r\n        }\r\n    }, 0)\r\n    const rating = +(sumOfRating / reviews.length) * 100\r\n    return rating\r\n}\r\n\r\nfunction dateByMillisecond(time) {\r\n    let date = new Date()\r\n    if (time) {\r\n        date.setDate(date.getDate() - time);\r\n    }\r\n    return date.getTime()\r\n}\r\n\r\nasync function getSum(games) {\r\n    const downloadsByGame = await getGraphsDetails(games, 'games')\r\n    const sum = games.map((currGame, idx) => {\r\n        return downloadsByGame[idx] * currGame.price\r\n    })\r\n    return { sum, downloadsByGame }\r\n}\r\n\r\nasync function sortGames(games, sortBy) {\r\n    if (sortBy === 'mostPopular') {\r\n        return sortByDownloads(games)\r\n    } else if (sortBy === 'recentGames') {\r\n        return _sortByRecency(games)\r\n    } else {\r\n        return _sortByRating(games)\r\n    }\r\n\r\n}\r\n\r\nasync function _sortByRecency(games) {\r\n    const sortedGames = games.sort((game1, game2) => {\r\n        return game2.publishedAt - game1.publishedAt\r\n    })\r\n    return sortedGames\r\n}\r\n\r\nasync function _sortByRating(games) {\r\n    games.forEach(game => game.totalRating = getGameRating(game))\r\n    const sortedGames = games.sort((game1, game2) => {\r\n        return game2.totalRating - game1.totalRating\r\n    })\r\n    return sortedGames\r\n}\r\n\r\nasync function sortByDownloads(games, isAscending = false) {\r\n    const downloadNumbers = await getGraphsDetails(games)\r\n    games.forEach((game) => {\r\n        game.downloadsCount = downloadNumbers[game.title]\r\n    });\r\n    const sortedGames = games.sort((game1, game2) => {\r\n        if (isAscending) {\r\n            return game1.downloadsCount < game2.downloadsCount ? -1 : game1.downloadsCount > game2.downloadsCount ? 0 : 1\r\n        }\r\n        return game1.downloadsCount > game2.downloadsCount ? -1 : game1.downloadsCount < game2.downloadsCount ? 0 : 1\r\n    })\r\n    return sortedGames\r\n}\r\n\r\nfunction sortByPrice(games, isAscending) {\r\n    const sortedGames = games.sort((game1, game2) => {\r\n        if (isAscending) {\r\n            return game2.price > game1.price ? -1 : game2.price < game1.price ? 0 : 1\r\n        }\r\n        return game2.price < game1.price ? -1 : game2.price > game1.price ? 0 : 1\r\n    })\r\n    return sortedGames\r\n}\r\n\r\n\r\nfunction formatDate(date) {\r\n    const year = date.getFullYear()\r\n    const monthNames = [\r\n        \"Jan\", \"Feb\", \"Mar\", \"Apr\",\r\n        \"May\", \"Jun\", \"Jul\", \"Aug\",\r\n        \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n    let month = monthNames[date.getMonth()]\r\n    const fullDate = month + ' ' + year\r\n    return fullDate\r\n}\r\n\r\nasync function getGraphsDetails(games, type, time = 31) {\r\n    const prms = []\r\n    const ordersBy = {}\r\n    const gameByNameOrder = []\r\n    const ordersByGame = []\r\n    games.forEach((game) => {\r\n        prms.push(OrderService.query({\r\n            lastMonthId: dateByMillisecond(time),\r\n            gameIds: game._id\r\n        }))\r\n        gameByNameOrder.push(game.title)\r\n        ordersByGame.push(0)\r\n    })\r\n    const gameOrders = await Promise.all(prms)\r\n    gameOrders.forEach((orders, i) => {\r\n        return orders.forEach((order, idx) => {\r\n            const date = new Date(order.createdAt / 1)\r\n            let currOrderDate = date.getDate()\r\n            currOrderDate += `/${date.getMonth() + 1}`\r\n            let num = ordersBy[currOrderDate]\r\n            if (num && idx === 0) return\r\n            if (type === 'games') {\r\n                return ordersByGame[i] += 1\r\n            }\r\n            if (!num) return ordersBy[currOrderDate] = 1\r\n            ordersBy[gameByNameOrder[i]] = idx\r\n            return ordersBy[currOrderDate] = num + 1\r\n        })\r\n    })\r\n    if (type === 'games') return ordersByGame\r\n    return ordersBy\r\n}\r\n\r\nfunction formatGameRating(rating) {\r\n    if (rating > 50) {\r\n        return 'Really positive'\r\n    } else if (rating > 10) {\r\n        return 'Positive'\r\n    } else if (rating > -10) {\r\n        return 'Mixed'\r\n    } else if (rating > -50) {\r\n        return 'Negetive'\r\n    } else {\r\n        return 'Really negetive'\r\n    }\r\n}\r\n\r\n","import HttpService from './HttpService';\r\n\r\nexport default {\r\n  add,\r\n  query,\r\n  getById,\r\n  update,\r\n  remove\r\n};\r\n\r\n// const gGames = createGames();\r\n\r\nfunction query(filterBy = '') {\r\n  const games = HttpService.get('game', '', filterBy);\r\n  return games\r\n}\r\n\r\nasync function update(updatedGame){\r\n  const game = await HttpService.put(`game/${updatedGame._id}`, updatedGame);\r\n  return game\r\n  \r\n}\r\n\r\nasync function remove(gameId) {\r\n  return await HttpService.delete(`game/${gameId}`);\r\n}\r\n\r\nasync function add(game) {\r\n  const addedGame  = await HttpService.post(`game`, game);\r\n  return  addedGame\r\n}\r\n\r\nasync function getById(gameId) {\r\n  return HttpService.get(`game/${gameId}`);\r\n}","import GameService from '../services/GameService';\r\n\r\nfunction setGames(games) {\r\n    return {\r\n        type: 'SET_GAMES',\r\n        games\r\n    }\r\n}\r\n\r\nfunction setGame(game) {\r\n    return {\r\n        type: 'SET_GAME',\r\n        game\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function loadGames(filterBy) {\r\n    return async dispatch => {\r\n        try {\r\n            const games = await GameService.query(filterBy);\r\n            dispatch(setGames(games));\r\n            return games\r\n\r\n        } catch (err) {\r\n            console.log('Had issues getting games', err);\r\n        }\r\n    };\r\n}\r\n\r\nexport function loadGame(id) {\r\n    return async dispatch => {\r\n        try {\r\n            const game = await GameService.getById(id);\r\n            dispatch(setGame(game));\r\n            return game\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    };\r\n}\r\nexport function updateGame(newGame) {\r\n    return async dispatch => {\r\n        try {\r\n            const game = await GameService.update(newGame);\r\n            dispatch(setGame(newGame));\r\n            return game\r\n        } catch (err) {\r\n        }\r\n    };\r\n}\r\nexport function updateComments(newGame) {\r\n    return  dispatch => {\r\n        try {\r\n            dispatch(setGame(newGame));\r\n            return newGame\r\n        } catch (err) {\r\n        }\r\n    };\r\n}\r\n\r\nfunction setFilter(filterBy) {\r\n    return {\r\n        type: 'SET_FILTER',\r\n        filterBy\r\n    }\r\n}\r\nexport function setFilterBy(filterBy) {\r\n    return (dispatch) => dispatch(setFilter(filterBy))\r\n}","import HttpService from './HttpService';\r\n\r\nexport default {\r\n  login,\r\n  signUp,\r\n  logout,\r\n  add,\r\n  remove,\r\n  getById,\r\n  update\r\n}\r\n\r\nasync function login(loginCred) {\r\n  const loggedInUser = await HttpService.post('auth/login', loginCred)\r\n  return loggedInUser\r\n}\r\n\r\nasync function signUp(signUpCred) {\r\n  const loggedInUser = await HttpService.post('auth/signup', signUpCred)\r\n  return loggedInUser\r\n}\r\n\r\nasync function logout() {\r\n  const loggedOutUser = await HttpService.post('auth/logout')\r\n  return loggedOutUser\r\n}\r\n\r\nasync function update(updatedUser) {\r\n  const user = await HttpService.put(`user/${updatedUser._id}`, updatedUser);\r\n  return user\r\n}\r\n\r\nfunction remove(userId) {\r\n  return HttpService.delete(`user/${userId}`);\r\n}\r\n\r\nasync function add(user) {\r\n  const addedUser = await HttpService.post(`user`, user);\r\n  return addedUser\r\n}\r\n\r\nasync function getById(userId) {\r\n  return HttpService.get(`user/${userId}`);\r\n}","import UserService from '../services/UserService';\r\n\r\nexport function login(cred) {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await UserService.login(cred);\r\n            dispatch(setUser(user));\r\n            return;\r\n        } catch (err) {\r\n            console.log(err);\r\n            throw err;\r\n        }\r\n    };\r\n}\r\n\r\nexport function logout() {\r\n    return async dispatch => {\r\n        try {\r\n            await UserService.logout();\r\n            dispatch(setUser(null))\r\n            return;\r\n        } catch (err) {\r\n            console.log('Had issues in logging out', err)\r\n            throw err;\r\n        }\r\n    };\r\n}\r\n\r\nexport function signUp(cred) {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await UserService.signUp(cred);\r\n            dispatch(setUser(user));\r\n            return;\r\n        } catch (err) {\r\n            console.log('Had issues in signing up', err)\r\n            throw err;\r\n        }\r\n    };\r\n}\r\n\r\n\r\nexport function loadUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await UserService.query(userId);\r\n            dispatch(setUser(user));\r\n            return;\r\n        } catch (err) {\r\n            console.log('Had issues in getting user', err)\r\n            throw err;\r\n        }\r\n    };\r\n}\r\n\r\nexport function updateUser(user) {\r\n    return async dispatch => {\r\n        try {\r\n            const updatedUser = await UserService.update(user);\r\n            dispatch(_updateUser(updatedUser));\r\n            return;\r\n        } catch (err) {\r\n            console.log('Had issues in updating user', err)\r\n            throw err;\r\n        }\r\n    };\r\n}\r\n\r\nexport function setUser(user) {\r\n    return {\r\n        type: 'SET_USER',\r\n        user\r\n    };\r\n}\r\n\r\nfunction _updateUser(user) {\r\n    return {\r\n        type: 'UPDATE_USER',\r\n        user\r\n    }\r\n}\r\n","function loadFromStorage(key) {\r\n    var val = localStorage.getItem(key)\r\n    return (val)? JSON.parse(val) : [];\r\n}\r\n\r\nfunction saveToStorage(key, val) {\r\n    localStorage[key] = JSON.stringify(val);\r\n}\r\n\r\nexport default {\r\n    loadFromStorage,\r\n    saveToStorage\r\n}","import StorageService from './StorageService'\r\n\r\nexport default {\r\n    query,\r\n    addToCart,\r\n    removeFromCart,\r\n    clear\r\n}\r\n\r\nfunction query() {\r\n    return StorageService.loadFromStorage('cart')\r\n}\r\n\r\nfunction addToCart(item) {\r\n    const cartItems = StorageService.loadFromStorage('cart')\r\n    try {\r\n        if (!cartItems.find((currItem) => item === currItem)) {\r\n            cartItems.push(item)\r\n            StorageService.saveToStorage('cart', cartItems)\r\n            return 'success'\r\n        }else {\r\n            throw 'Already in the cart'\r\n        }\r\n    } catch (err) {\r\n        console.log('Already in the cart')\r\n        throw err\r\n    }\r\n}\r\n\r\nfunction removeFromCart(item) {\r\n    const cartItems = StorageService.loadFromStorage('cart')\r\n    const updatedCart = cartItems.filter((currItem) => currItem !== item)\r\n    StorageService.saveToStorage('cart', updatedCart)\r\n}\r\n\r\nfunction clear() {\r\n    StorageService.saveToStorage('cart', [])\r\n    return [];\r\n}","import CartService from '../services/CartService'\r\n\r\nexport function loadCart() {\r\n    return dispatch => {\r\n        const cart = CartService.query();\r\n        dispatch(_setCart(cart));\r\n    }\r\n}\r\n\r\nexport function clearCart() {\r\n    return dispatch => {\r\n        const cart = CartService.clear();\r\n        dispatch(_setCart(cart))\r\n    }\r\n}\r\n\r\nexport function removeGameFromCart(item) {\r\n    return dispatch => {\r\n        CartService.removeFromCart(item)\r\n        dispatch(_removeFromCart(item));\r\n    }\r\n}\r\n\r\nexport function addGameToCart(item) {\r\n    return dispatch => {\r\n        try {\r\n            CartService.addToCart(item)\r\n            dispatch(_addToCart(item))\r\n            return;\r\n        } catch (err) {\r\n            console.log(err);\r\n            throw err;\r\n        }\r\n    }\r\n}\r\n\r\nfunction _setCart(cart) {\r\n    return {\r\n        type: 'SET_CART',\r\n        cart\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction _addToCart(item) {\r\n    return {\r\n        type: 'ADD_TO_CART',\r\n        item\r\n    }\r\n}\r\n\r\nfunction _removeFromCart(item) {\r\n    return {\r\n        type: 'REMOVE_FROM_CART',\r\n        item\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, } from 'recharts';\r\n\r\nexport default class Example extends Component {\r\n\r\n    state = { data: [] }\r\n\r\n    componentDidUpdate(prevprops) {\r\n        if (prevprops.gameOrders !== this.props.gameOrders) {\r\n            this.setData(this.props.gameOrders)\r\n        }\r\n    }\r\n\r\n    setData = (gameOrders) => {\r\n        const data = []\r\n        if (!this.props.game) return\r\n        for (let i = 30; i >= 0; i--) {\r\n            let date = new Date()\r\n            date.setDate(date.getDate() - i)\r\n            const formatDate = `${date.getDate()}/${date.getMonth() + 1}`\r\n            let orderCount\r\n            if (gameOrders[formatDate]) {\r\n                orderCount = gameOrders[formatDate]\r\n            } else {\r\n                orderCount = 0\r\n            }\r\n            data.push({ name: formatDate, sum: this.props.game.price * orderCount })\r\n        }\r\n        this.setState({ data })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { data } = this.state\r\n        return (\r\n            <div className=\"flex column chart align-center\">\r\n                <strong className=\"small-chart-title\">Income distribution per day</strong>\r\n                <BarChart\r\n                    width={200}\r\n                    height={150}\r\n                    data={data}\r\n                    margin={{ top: 5, right: 5, left: 5, bottom: 5 }}>\r\n                    <XAxis dataKey=\"name\" />\r\n                    <Tooltip />\r\n                    <Bar stroke=\"#45667d\" dataKey=\"sum\" fill=\"#5c88a7\" />\r\n                </BarChart>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nexport default class Modal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.el = document.createElement('div');\r\n    }\r\n    \r\n    componentDidMount() {\r\n        modalRoot.appendChild(this.el);\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        modalRoot.removeChild(this.el);\r\n    }\r\n\r\n    render() {\r\n        return ReactDOM.createPortal(\r\n            this.props.children,\r\n            this.el\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport './_Notification.scss'\r\n\r\nexport default function Notification(props) {\r\n    return <div className=\"notification\">\r\n        <p>{props.modalTxt}</p>\r\n    </div>\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport history from '../../history'\r\n\r\nimport UtilService from '../../services/UtilService'\r\nimport UserService from '../../services/UserService'\r\nimport { removeGameFromCart, addGameToCart } from '../../actions/cartActions'\r\nimport TinyBarChart from '../charts/TinyBarChart'\r\n\r\nimport './_GamePreview.scss'\r\n\r\nimport full_heart from '../../assets/icons/full_heart.svg'\r\nimport empty_heart from '../../assets/icons/empty_heart.svg'\r\nimport remove_from_cart from '../../assets/icons/remove_from_cart.svg'\r\nimport edit_img from '../../assets/icons/edit.svg'\r\nimport play_img from '../../assets/icons/play.svg'\r\nimport Modal from '../modal/Modal'\r\nimport Notification from '../helpers/Notification'\r\nclass GamePreview extends Component {\r\n\r\n    state = {\r\n        publisherName: '',\r\n        gameOrders: null,\r\n        toggleModal: false,\r\n        modalTxt: ''\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { game } = this.props\r\n        const publisher = await UserService.getById(game.publisher)\r\n        const publisherName = publisher.userName\r\n        this.setState({ publisherName })\r\n        if (this.props.isDashboard) {\r\n            this.getDetailsForChart()\r\n        }\r\n    }\r\n\r\n    onOpenDetails = (gameId) => {\r\n        history.push(`/game/${gameId}`)\r\n    }\r\n    onOpenEdit = (ev) => {\r\n        ev.stopPropagation()\r\n        history.push(`/edit/${this.props.game._id}`)\r\n    }\r\n\r\n    onRemoveFromCart = (ev) => {\r\n        ev.stopPropagation();\r\n        this.props.onRemoveFromCart(this.props.game._id)\r\n        this.props.removeGameFromCart(this.props.game._id)\r\n    }\r\n\r\n    onPlayClick = (ev) => {\r\n        ev.stopPropagation()\r\n        history.push(`/play/${this.props.game._id}`)\r\n    }\r\n\r\n    getDetailsForChart = async () => {\r\n        const gameOrders = await UtilService.getGraphsDetails([this.props.game])\r\n        this.setState({ gameOrders })\r\n    }\r\n\r\n    toggleWishedGame = (ev) => {\r\n        const { user, game } = this.props\r\n        ev.stopPropagation();\r\n        let wishedGames = (user && user.wishedGames) || []\r\n        let updatedUser\r\n        const idx = wishedGames.findIndex(id => id === game._id)\r\n        if (idx === -1) {\r\n            updatedUser = { ...user, wishedGames: [...wishedGames, game._id] }\r\n        } else {\r\n            updatedUser = { ...user, wishedGames: wishedGames.filter(wishedGame => wishedGame !== game._id) }\r\n        }\r\n        this.props.onUpdateUser(updatedUser)\r\n    }\r\n\r\n    onAddToCart = (ev) => {\r\n        ev.stopPropagation();\r\n        try {\r\n            this.props.addGameToCart(this.props.game._id)\r\n            this.setState({\r\n                modalTxt: 'Game has been added to the cart',\r\n                toggleModal: true\r\n            }, this.onToggleModal())\r\n        } catch {\r\n            this.setState({\r\n                modalTxt: 'Game is already in the cart',\r\n                toggleModal: true\r\n            }, this.onToggleModal())\r\n        }\r\n    };\r\n\r\n    onToggleModal = () => {\r\n        setTimeout(() => {\r\n            this.setState(prevState => ({ toggleModal: !prevState.toggleModal }))\r\n        }, 2000)\r\n    }\r\n\r\n    render() {\r\n        const { game, user, isProfile, isDashboard, isModal, isWishList } = this.props\r\n        const { gameOrders, toggleModal, modalTxt } = this.state\r\n        const review = UtilService.formatGameRating((UtilService.getGameRating(game)))\r\n        return (\r\n            <li className={isDashboard ? \"game-card flex column dsh-game-card\" : isModal ? \"modal-card flex modal-game-container\" : \"game-card\"} onClick={() => this.onOpenDetails(game._id)}>\r\n                {!isDashboard ? <div className={\"img-container\"}><img alt=\"thumbnail\" className=\"game-thumbnail\" src={game.thumbnail}></img></div> :\r\n                    <TinyBarChart game={game} gameOrders={gameOrders} />}\r\n                <section className=\"details-container flex column\">\r\n                    <div className=\"full\">\r\n                        <div className={isModal ? \"flex align-center column\" : \"flex align-center\"}>\r\n                            <strong className={isModal || isDashboard ? 'short-title' : \"full game-title\"} title={game.title}>{game.title}</strong>\r\n                            {isProfile && isDashboard && <p className=\"price\">${game.price}</p>}\r\n\r\n                            {!isProfile && !isModal &&\r\n                                <img alt=\"like\" className={isModal ? 'flex align-self-end like-icon' : \"like-icon\"} onClick={this.toggleWishedGame} src={user && user.wishedGames.find(wishedGame => wishedGame === game._id) ?\r\n                                    full_heart : empty_heart} />}\r\n                        </div>\r\n                        {!isModal && !isDashboard &&\r\n                            <strong className=\"publisher\">{this.state.publisherName}</strong>}\r\n                    </div>\r\n                    <div className=\"flex space-between align-end\">\r\n                        {!isProfile && <p className=\"price\">${game.price}</p>}\r\n                        {!isProfile && !isModal &&\r\n                            <p className=\"rating\">{review} ({game.reviews.length})</p>}\r\n                        {isModal && !isWishList && <img alt=\"remove\" src={remove_from_cart} className=\"pointer like-icon\" onClick={this.onRemoveFromCart} />}\r\n                        {isProfile && !isDashboard && <div className=\"play-btn-container flex flex-end\">\r\n                            <button title=\"Play\" className=\"play-btn btn\" onClick={this.onPlayClick}><img alt=\"\" src={play_img} /></button></div>}\r\n                        {isProfile && isDashboard && <button title=\"Edit\" className=\"btn\" onClick={this.onOpenEdit}><img alt=\"\" src={edit_img} /></button>}\r\n                        {isWishList &&\r\n                            <img alt=\"like\" className={isModal ? 'flex align-self-end like-icon' : \"like-icon\"} onClick={this.toggleWishedGame} src={user && user.wishedGames.find(wishedGame => wishedGame === game._id) ?\r\n                                full_heart : empty_heart} />}\r\n                        {isWishList &&\r\n\r\n                            <button type=\"primary\" className='buy-btn' onClick={this.onAddToCart}>Add to cart </button>}\r\n                        {toggleModal && <Modal><Notification modalTxt={modalTxt} toggleModal={this.onToggleModal} /></Modal>}\r\n\r\n                    </div>\r\n                </section >\r\n            </li >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        cart: state.cartStore.cart\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    removeGameFromCart,\r\n    addGameToCart\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(GamePreview)\r\n","import GamePreview from '../game-preview/GamePreview'\r\nimport React from 'react'\r\n\r\nexport default function GameList(props) {\r\n    const { games, user, } = props;\r\n    return <ul className={props.isHomepage ? \"hp-cards-container clean-list container\" : props.isModal ? \"clean-list modal-cards\" : \"cards-container clean-list container\"}>\r\n        {games?.map((game) => {\r\n            return <GamePreview\r\n                isModal={props.isModal}\r\n                game={game}\r\n                user={user}\r\n                key={game._id}\r\n                isProfile={props.isProfile}\r\n                isHomepage={props.isHomepage}\r\n                isDashboard={props.isDashboard}\r\n                onUpdateUser={props.onUpdateUser}\r\n                onRemoveFromCart={props.onRemoveFromCart}\r\n                isWishList={props.isWishList}\r\n            >\r\n            </GamePreview>\r\n        })}\r\n    </ul >\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\n\r\nimport UtilService from '../../services/UtilService';\r\nimport { loadGames } from '../../actions/gameActions';\r\nimport { updateUser } from '../../actions/userActions'\r\nimport GameList from '../../cmps/game-list/GameList'\r\n\r\nimport './_HomePage.scss'\r\nclass HomePage extends Component {\r\n  state = {\r\n    mostPopular: [],\r\n    recentGames: [],\r\n    topRated: []\r\n  }\r\n\r\n  async componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n    await this.props.loadGames()\r\n    this.setGames('mostPopular')\r\n    this.setGames('recentGames')\r\n    this.setGames('topRated')\r\n  }\r\n\r\n  onUpdateUser = async (updatedUser) => {\r\n    this.props.updateUser(updatedUser)\r\n  }\r\n\r\n  setGames = async (sortBy, num = 4) => {\r\n    const games = [...this.props.games]\r\n    const sortedGames = await UtilService.sortGames(games, sortBy)\r\n    sortedGames.splice(num, games.length)\r\n    this.setState({ [sortBy]: sortedGames })\r\n  }\r\n\r\n\r\n  render() {\r\n    const { mostPopular, recentGames, topRated } = this.state\r\n    return (\r\n      <div className=\"homepage-container content-container container full\">\r\n        <div className=\"hero-text flex column totally-center\">\r\n          <h1 className=\"main-heading\">Gamein</h1>\r\n          <p>The ultimate destination for buying, discussing, and playing games</p>\r\n          <Link to=\"/game\" onClick={this.on} className=\"hero-btn\">To the shop</Link>\r\n        </div>\r\n        <div><p className=\"heading\">Most Popular</p>\r\n          <GameList isHomepage={true} user={this.props.user} onUpdateUser={this.onUpdateUser} games={mostPopular} />\r\n        </div>\r\n        <div>\r\n          <p className=\"heading\">Recently Released</p>\r\n          <GameList isHomepage={true} user={this.props.user} onUpdateUser={this.onUpdateUser} games={recentGames} />\r\n        </div>\r\n        <div>\r\n          <p className=\"heading\">Top Rated</p>\r\n          <GameList isHomepage={true} user={this.props.user} onUpdateUser={this.onUpdateUser} games={topRated} />\r\n        </div>\r\n      </div>)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    games: state.gameStore.games,\r\n    user: state.userStore.loggedInUser\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  loadGames,\r\n  updateUser\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(HomePage);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport history from '../../history';\r\n\r\nimport { login } from '../../actions/userActions';\r\n\r\nimport './_Login.scss'\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    loginCred: {\r\n      userName: '',\r\n      password: ''\r\n    },\r\n    isIncorrectInput: false\r\n  };\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  loginHandleChange = ev => {\r\n    const { name, value } = ev.target;\r\n    this.setState(prevState => ({\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  doLogin = async ev => {\r\n    ev.preventDefault();\r\n    const { userName, password } = this.state.loginCred;\r\n    if (!userName || !password) {\r\n      return console.log('all details are required');\r\n    }\r\n    const userCreds = { userName, password };\r\n\r\n    try {\r\n      await this.props.login(userCreds);\r\n      this.setState({ loginCred: { userName: '', password: '' } }, () => history.push('/'));\r\n    } catch (err) {\r\n      this.setState({ isIncorrectInput: true })\r\n      console.log('Had issues while logging in ')\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { loggedInUser } = this.props\r\n    const loginSection = (\r\n      <form className=\"login-form flex column justify-center align-center\" onSubmit={this.doLogin}>\r\n        <input className=\"login-input input\" type=\"text\" name=\"userName\" value={this.state.loginCred.userName}\r\n          onChange={this.loginHandleChange} placeholder=\"User name\" />\r\n        <input className=\"login-input input\" type=\"password\" name=\"password\" value={this.state.loginCred.password}\r\n          onChange={this.loginHandleChange} placeholder=\"Password\" />\r\n        {this.state.isIncorrectInput && <strong className=\"wrong-input\">Wrong username/password please try again.</strong>}\r\n        <button className=\"login-btn btn\">Login</button>\r\n        <p>Not with us yet ?</p>\r\n        <button className=\"login-btn btn\" onClick={() => history.push('/sign-up')}>Join</button>\r\n      </form>\r\n    );\r\n\r\n    return (\r\n      <div className=\"login-container content-container flex column justify-center align-center container\">\r\n        <img className=\"login-logo\" alt=\"logo\" src=\"/logo.png\" width=\"100px\" />\r\n        {(!loggedInUser || !loggedInUser.userName) && loginSection}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedInUser: state.userStore.loggedInUser\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  login\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Login);\r\n","import Axios from 'axios';\r\n\r\nexport default async function uploadImg(files) {\r\n    const prms = []\r\n    for (let i = 0; i < files.length; i++) {\r\n        const CLOUD_NAME = 'dfdvfunfj';\r\n        const PRESET_NAME = 'zc8aff64';\r\n        const type = files[i].type.split('/')\r\n        const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/${type[0]}/upload`;\r\n        const formData = new FormData();\r\n        formData.append('file', files[i])\r\n        formData.append('upload_preset', PRESET_NAME);\r\n        try {\r\n            prms.push(Axios.post(UPLOAD_URL, formData)\r\n            )\r\n        } catch (err) {\r\n            console.log('Had issues uploading to cloudinary', err);\r\n        }\r\n\r\n    }\r\n    const filesData = await Promise.all(prms)\r\n    const urls = filesData.map((file) => {\r\n        return file.data.url\r\n    })\r\n    return urls\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport history from '../../history';\r\n\r\nimport './_SignUp.scss'\r\nimport MediaUploadService from '../../services/MediaUploadService';\r\nimport { signUp } from '../../actions/userActions';\r\n\r\nclass SignUp extends Component {\r\n  state = {\r\n    signUpCred: {\r\n      fullName: '',\r\n      userName: '',\r\n      password: '',\r\n      about: '',\r\n      imgUrl: ''\r\n    },\r\n    isLoadingImg: false\r\n\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  addMediaAndTags = async ev => {\r\n    this.setState({ isLoadingImg: true })\r\n    const imgUrl = await MediaUploadService(ev.target.files);\r\n    return this.setState({ imgUrl: imgUrl[0], isLoadingImg: false })\r\n  }\r\n\r\n  signUpHandleChange = ev => {\r\n    const { name, value } = ev.target;\r\n    this.setState(prevState => ({\r\n      signUpCred: {\r\n        ...prevState.signUpCred,\r\n        [name]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  doSignUp = async ev => {\r\n    ev.preventDefault();\r\n    const { fullName, userName, password, about } = this.state.signUpCred;\r\n    if (!fullName || !userName || !password || !about) {\r\n      return console.log('all inputs are required fullName, userName, password, about', fullName, userName, password, about);\r\n    }\r\n    const signUpCreds = { fullName, userName, password, about, imgUrl: this.state.imgUrl };\r\n    try {\r\n      await this.props.signUp(signUpCreds);\r\n      this.setState({ signUpCred: { fullName: '', password: '', userName: '', about: '', imgUrl: '' } }, () => history.push('/'));\r\n    } catch (err) {\r\n      throw err\r\n    }\r\n  };\r\n\r\n  removeImg = () => {\r\n    return this.setState({ imgUrl: '' })\r\n  };\r\n\r\n  render() {\r\n    const { imgUrl, isLoadingImg } = this.state\r\n    const { loggedInUser } = this.props\r\n    let imgPreview = ''\r\n    if (imgUrl) {\r\n      imgPreview = <div className=\"media-container\">\r\n        <img src={imgUrl} className='signup-img' alt=\"\" />\r\n        <span className=\"pointer\"\r\n          onClick={this.removeImg}>X</span>\r\n      </div>\r\n    }\r\n    const signUpSection = (\r\n      <form className='signup-form flex column align-center' onSubmit={this.doSignUp}>\r\n        <input type=\"text\" className='input' name=\"fullName\" value={this.state.signUpCred.fullName}\r\n          onChange={this.signUpHandleChange} placeholder=\"Full Name\" />\r\n        <br />\r\n        <input type=\"text\" className='input' name=\"userName\" value={this.state.signUpCred.userName}\r\n          onChange={this.signUpHandleChange} placeholder=\"UserName\" />\r\n        <br />\r\n        <input type=\"password\" className='input' name=\"password\" value={this.state.signUpCred.password}\r\n          onChange={this.signUpHandleChange} placeholder=\"Password\" />\r\n        <br />\r\n        <input type=\"text\" className='input' name=\"about\" value={this.state.signUpCred.about}\r\n          onChange={this.signUpHandleChange} placeholder=\"About\" />\r\n        <br />\r\n        <input type=\"file\" className='input pointer' name=\"imgUrl\" placeholder=\"Profile Image\"\r\n          onChange={this.addMediaAndTags} />\r\n        {imgPreview}\r\n        <br />\r\n        {(imgPreview && <button className='signup-btn'>Join</button>)}\r\n      </form>\r\n    );\r\n\r\n    return (\r\n      <div className='content-container signup-container flex column align-center'>\r\n          <img className=\"signup-logo\" alt=\"logo\" src=\"/logo.png\" width=\"100px\" />\r\n        {isLoadingImg && <div className='loader'></div>}\r\n        {(!loggedInUser || !loggedInUser.userName) && signUpSection}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedInUser: state.userStore.loggedInUser\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  signUp\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SignUp);\r\n","import React, { Component } from 'react'\r\n\r\nimport arrow_up from '../../assets/icons/arrow_up.svg'\r\nimport arrow_down from '../../assets/icons/arrow_down.svg'\r\n\r\nimport './_Filter.scss'\r\n\r\nexport default class Filter extends Component {\r\n    state = {\r\n        title: '',\r\n        tag: '',\r\n        filterBy: 'title',\r\n        sortBy: '',\r\n        isAscending: false\r\n    }\r\n\r\n    inputChange = ev => {\r\n        let fieldName = ev.target.name;\r\n        if (fieldName === 'filterBy') {\r\n            return this.setState({ title: '', tag: '', filterBy: ev.target.value }, () => this.onFilterBy())\r\n        }\r\n        if (fieldName === 'sortBy') {\r\n            console.log('got here');\r\n\r\n            return this.setState({ sortBy: ev.target.value }, this.onFilterBy);\r\n        }\r\n        this.setState({ [this.state.filterBy]: ev.target.value }, this.onFilterBy);\r\n    };\r\n\r\n    onFilterBy = () => {\r\n        this.props.onFilterBy(this.state)\r\n    }\r\n\r\n    changeOrder = () => {\r\n        this.setState((prevState) => ({ ...prevState, isAscending: !prevState.isAscending }), this.onFilterBy)\r\n    }\r\n\r\n    render() {\r\n        const { sortByPrice, sortByDownloads } = this.props\r\n        const { filterBy } = this.state\r\n        return <div className=\"search-container totally-center\">\r\n            <input className=\"search-input input\" value={this.state[this.state.filterBy]}\r\n                type=\"search\" placeholder={`Search by ${filterBy}`} onChange={this.inputChange} />\r\n            <input className='hidden' name='filterBy' onChange={this.inputChange} defaultChecked id='title' value='title' type='radio' />\r\n            <label className='btn title-btn pointer' htmlFor='title'>\r\n                Title\r\n             </label>\r\n            <input className='hidden' onChange={this.inputChange} name='filterBy' id='tag' value='tag' type='radio' />\r\n            <label className='btn tag-btn pointer' htmlFor='tag'>\r\n                Tag\r\n             </label>\r\n            <span>Sort by: </span>\r\n            <input className='hidden' name='sortBy' onClick={this.inputChange} id='popularity' value='popularity' type='radio' />\r\n            <label className='btn popularity-btn pointer' htmlFor='popularity'>\r\n                Popularity\r\n             </label>\r\n            <input className='hidden' onClick={this.inputChange} name='sortBy' id='price' value='price' type='radio' />\r\n            <label className='btn price-btn pointer' htmlFor='price'>\r\n                Price\r\n             </label>\r\n            <button className='btn order-btn' onClick={this.changeOrder}><img alt=\"\" src={this.state.isAscending ? arrow_up : arrow_down}/></button>\r\n            {/* <button className='btn filter-btn' onClick={sortByDownloads}>Popularity</button>\r\n            <button className='btn filter-btn' onClick={sortByPrice}>Price</button> */}\r\n        </div>\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadGames } from '../../actions/gameActions';\r\nimport { updateUser } from '../../actions/userActions';\r\n\r\nimport Filter from '../../cmps/filter/Filter';\r\nimport GameList from '../../cmps/game-list/GameList';\r\nimport UtilService from '../../services/UtilService';\r\n\r\nimport './_Explore.scss'\r\n\r\nclass Explore extends Component {\r\n    state = { games: null }\r\n\r\n    componentDidMount = async () => {\r\n        window.scrollTo(0, 0);\r\n        this.onFilterBy()\r\n    }\r\n\r\n    onUpdateUser = async (updatedUser) => {\r\n        this.props.updateUser(updatedUser)\r\n    }\r\n\r\n    onFilterBy = async (filterBy = {}) => {\r\n        console.log(filterBy);\r\n        \r\n        filterBy.gamesIds = this.state.gamesIds\r\n        await this.props.loadGames({ ...filterBy, shoppingCartIds: this.state.gamesIds })\r\n        if (filterBy.sortBy === 'popularity') {\r\n            this.sortByDownloads(filterBy.isAscending)\r\n        } else if (filterBy.sortBy === 'price') {\r\n            this.sortByPrice(filterBy.isAscending)\r\n        } else {\r\n            this.setState({ games: this.props.games })\r\n        }\r\n    }\r\n\r\n    sortByDownloads = async (isAscending) => {\r\n        let games = [...this.props.games]\r\n        games = await UtilService.sortByDownloads(games, isAscending)\r\n        this.setState({ games })\r\n    }\r\n    sortByPrice = (isAscending) => {\r\n        console.log(isAscending);\r\n        \r\n        let games = [...this.props.games]\r\n        games = UtilService.sortByPrice(games, isAscending)\r\n        this.setState({ games })\r\n    }\r\n\r\n    render() {\r\n        const { games } = this.state\r\n        return <div className=\"content-container flex column container align-center\">\r\n            <Filter sortByPrice={this.sortByPrice} sortByDownloads={this.sortByDownloads} onFilterBy={this.onFilterBy} />\r\n            <GameList history={this.props.history} user={this.props.user} onUpdateUser={this.onUpdateUser} games={games} />\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        games: state.gameStore.games,\r\n        user: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadGames,\r\n    updateUser\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Explore);","import React,{ Component } from \"react\";\r\n\r\n\r\n\r\n\r\nexport default class LongTxt extends Component {\r\n\r\n    state = {\r\n        isLongTxtShown: this.props.isLongTxtShown\r\n    }\r\n\r\n    getText = () => {\r\n        return (this.state.isLongTxtShown) ? this.props.text : this.props.text.substring(0, this.props.shortLength);\r\n    }\r\n\r\n    handleReadMore = () => {\r\n        this.setState(prevstate => ({ isLongTxtShown: !prevstate.isLongTxtShown }))\r\n    }\r\n\r\n    getButtonTxt() {\r\n        return this.state.isLongTxtShown ? '': '...'\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <span className=\"read-more\" onClick={this.handleReadMore}>       \r\n                {this.getText()}\r\n                {this.props.text.length >= this.props.shortLength &&\r\n                    <span className=\"read-more-button\">\r\n                    {this.getButtonTxt()}\r\n                    </span>}\r\n            </span>\r\n        )\r\n    }\r\n}","import React, { PureComponent } from 'react';\r\nimport {\r\n  AreaChart, Area, XAxis, YAxis, Tooltip,\r\n} from 'recharts';\r\n\r\nexport default class Graph extends PureComponent {\r\n  state = { data: [{ name: '0', purcheses: 0 }] }\r\n\r\n  componentDidUpdate(prevprops) {\r\n    if (prevprops.orderDates !== this.props.orderDates) {\r\n      this.setData(this.props.orderDates)\r\n    }\r\n  }\r\n\r\n  setData = (purchases) => {\r\n    const data = []\r\n    if (!this.props.games.length) return\r\n    for (let i = 29; i >= 0; i--) {\r\n      let date = new Date()\r\n      date.setDate(date.getDate() - i)\r\n      const formatDate = `${date.getDate()}/${date.getMonth() + 1}`\r\n      let price\r\n      if (purchases[formatDate]) {\r\n        price = purchases[formatDate]\r\n      } else {\r\n        price = 0\r\n      }\r\n      data.push({ name: formatDate, purchases: price })\r\n    }\r\n    this.setState({ data })\r\n  }\r\n\r\n  render() {\r\n    const { data } = this.state\r\n    return (\r\n      <div className=\"flex column chart align-center\">\r\n        <strong className=\"chart-title\">Downloads distribution per day</strong>\r\n        <AreaChart\r\n          width={350}\r\n          height={300}\r\n          data={data}\r\n          margin={{\r\n            top: 10, right: 30, left: 0, bottom: 0,\r\n          }}\r\n        >\r\n          <XAxis dataKey=\"name\" />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Area type=\"monotone\" dataKey=\"purchases\" stroke=\"#517692\" fill=\"#6899bc\" />\r\n        </AreaChart>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { PureComponent } from 'react';\r\nimport { PieChart, Pie, Tooltip } from 'recharts';\r\n\r\nimport './_charts.scss'\r\n\r\nexport default class PieCharts extends PureComponent {\r\n  state = {\r\n    data: [{ fill: '#16578F', name: 'publish Games', value: 1 }],\r\n    gameTitles: null,\r\n    colors: ['#6899bc', '#517692', '#3a5568', '#81b2d5', '#2e4453',\r\n      '#1b2a49', '#465881', '#00909e', '#c9d1d3']\r\n  }\r\n\r\n  componentDidUpdate(prevprops) {\r\n    if (prevprops.sumOfGames !== this.props.sumOfGames) {\r\n      this.setData(this.props.sumOfGames)\r\n    }\r\n  }\r\n\r\n  setData = (sum) => {\r\n    const { colors } = this.state\r\n    const data = []\r\n    const gameTitles = []\r\n    this.props.games.forEach((game, i) => {\r\n      if (!sum[i]) return\r\n      if (!this.props.user && i > 3) return\r\n      gameTitles.push(game.title)\r\n      data.push({ fill: colors[i], name: game.title, value: sum[i] })\r\n    })\r\n    this.setState({ data, gameTitles })\r\n  }\r\n\r\n  renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\r\n    const RADIAN = Math.PI / 183;\r\n    const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n    return (\r\n      <text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n        {`${(percent * 100).toFixed(0)}%`}\r\n      </text>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { data, gameTitles, colors } = this.state\r\n\r\n    return (\r\n      <div className=\"flex column chart align-center\">\r\n        <strong className=\"chart-title\">Income distribution per game</strong>\r\n        <div className=\"flex column align-center\">\r\n          <PieChart width={250} height={250}>\r\n            <Pie\r\n              dataKey=\"value\"\r\n              isAnimationActive={true}\r\n              data={data}\r\n              cx={100}\r\n              cy={100}\r\n              outerRadius={100}\r\n              fill=\"#8884d8\"\r\n              labelLine={false}\r\n              label={this.renderCustomizedLabel} />\r\n            <Tooltip />\r\n          </PieChart>\r\n          <div className=\"legend flex wrap\">\r\n            {gameTitles && gameTitles.map((title, i) => {\r\n              return <div className=\"legend-item flex\" key={title}>\r\n                <div className=\"menu-color\" style={{ background: colors[i], width: \"20px\", height: \"20px\" }}></div>\r\n                <div className=\"title\">{title}</div>\r\n              </div>\r\n            })}\r\n          </div>\r\n        </div >\r\n      </div >\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport './_InfoCard.scss';\r\n\r\nexport default function InfoCard(props) {\r\n    return (\r\n        <div className='info-card flex column align-center'>\r\n            <p>\r\n                {props.children}\r\n            </p>\r\n            <p className=\"data\">\r\n                {props.children.includes('Earned') && '$'}{props.data}\r\n            </p>\r\n        </div>)\r\n\r\n}\r\n","import io from 'socket.io-client';\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === 'production' ? '/' : '//localhost:3030';\r\n\r\nlet socket;\r\n\r\nexport default {\r\n  setup,\r\n  terminate,\r\n  on,\r\n  off,\r\n  emit\r\n};\r\n\r\nfunction setup() {\r\n  socket = io(BASE_URL);\r\n}\r\n\r\nfunction terminate() {\r\n  socket = null;\r\n}\r\n\r\nfunction on(eventName, cb) {\r\n  socket.on(eventName, cb);\r\n}\r\n\r\nfunction off(eventName, cb) {\r\n  socket.off(eventName, cb);\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n  socket.emit(eventName, data);\r\n}\r\n","\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport UtilService from '../../services/UtilService';\r\nimport { loadGames } from '../../actions/gameActions';\r\n\r\nimport GameList from '../game-list/GameList';\r\nimport AreaChart from '../charts/AreaChart';\r\nimport PieChart from '../charts/PieChart';\r\nimport InfoCard from '../info-card/InfoCard';\r\n\r\nimport './_Dashboard.scss'\r\n\r\n\r\nclass Dashboard extends Component {\r\n    state = {\r\n        orders: null,\r\n        filterBy: {\r\n            _id: '',\r\n        },\r\n        sumOfGames: [],\r\n        monthMoneySum: null,\r\n        downloadsByMonth: null,\r\n        downloadsByWeek: null\r\n    }\r\n\r\n    getGraphsDetails = async () => {\r\n        const ordersBy = await UtilService.getGraphsDetails(this.props.games)\r\n        this.setState({ orders: ordersBy })\r\n    }\r\n\r\n    getWeekInfo = async () => {\r\n        const downloadsSum = await UtilService.getGraphsDetails(this.props.games, 'games', 7)\r\n        const downloadsByWeek = downloadsSum.reduce((acc, gameSum) => {\r\n            return acc += gameSum\r\n        }, 0).toLocaleString()\r\n        this.setState({ downloadsByWeek })\r\n    }\r\n\r\n    getMonthInfo = async () => {\r\n        const sumOfGames = await UtilService.getSum(this.props.games)\r\n        const monthMoneySum = sumOfGames.sum.reduce((acc, gameSum) => {\r\n            return acc += gameSum\r\n        }, 0).toLocaleString()\r\n        const downloadsByMonth = sumOfGames.downloadsByGame.reduce((acc, gameSum) => {\r\n            return acc += gameSum\r\n        }, 0).toLocaleString()\r\n        this.setState({ sumOfGames: sumOfGames.sum, monthMoneySum, downloadsByMonth })\r\n    }\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if (prevProps.games.length !== this.props.games.length) {\r\n            this.getGraphsDetails()\r\n            this.getWeekInfo()\r\n            this.getMonthInfo()\r\n        }\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        if (this.props.loggedInUser) {\r\n            const _id = this.props.loggedInUser._id\r\n            this.setState({\r\n                filterBy: {\r\n                    _id\r\n                }\r\n            }, async () => {\r\n                await this.props.loadGames(this.state.filterBy)\r\n            })\r\n        } else {\r\n            this.props.loadGames()\r\n        }\r\n        await this.getGraphsDetails()\r\n        this.getWeekInfo()\r\n        this.getMonthInfo()\r\n    }\r\n\r\n    render() {\r\n        const { orders, sumOfGames, monthMoneySum, downloadsByMonth, downloadsByWeek } = this.state\r\n        let gameList\r\n        if (this.props.loggedInUser) {\r\n            gameList = (<div className=\"games-container flex column totally-center\">\r\n                <h3 className=\"data-header\">Per Game</h3>\r\n                <GameList isDashboard={true} isProfile={true} games={this.props.games} />\r\n            </div>\r\n            )\r\n            if (!this.props.games.length) {\r\n                return <div className=\"container dashboard-container flex column align-center\">\r\n                    <h3 className=\"dashboard-header\">Publish games to see more</h3>\r\n                </div>\r\n            }\r\n        }\r\n        return (<div className=\"container dashboard-container flex column align-center\">\r\n            {!this.props.loggedInUser ? <h3 className=\"dashboard-header\">This is a demo of the dashboard, login to see your data</h3> : <h3 className=\"data-header\">For All Games</h3>}\r\n            <div className='flex info-cards-container'>\r\n                <InfoCard data={monthMoneySum}>Earned this month:</InfoCard>\r\n                <InfoCard data={downloadsByMonth}>Downloads this month:</InfoCard>\r\n                <InfoCard data={downloadsByWeek}>Downloads this week:</InfoCard>\r\n            </div>\r\n            <div className=\"charts-container flex wrap\">\r\n                <AreaChart games={this.props.games} orderDates={orders} />\r\n                <PieChart user={this.props.loggedInUser} games={this.props.games} sumOfGames={sumOfGames} />\r\n            </div>\r\n            {gameList}\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        games: state.gameStore.games,\r\n        loggedInUser: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadGames\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Dashboard);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport GameList from '../game-list/GameList';\r\nimport Filter from '../filter/Filter'\r\n\r\n\r\nimport './_OwnedGames.scss'\r\nimport { loadGames } from '../../actions/gameActions';\r\nimport OrderService from '../../services/OrderService';\r\nimport UtilService from '../../services/UtilService';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass OwnedGames extends Component {\r\n    state = { games: [], gamesIds: [] }\r\n\r\n    componentDidMount = async () => {\r\n        const gamesIds = []\r\n        if (this.props.user) {\r\n            const orders = await OrderService.query({ orderBy: this.props.user._id })\r\n            orders.forEach((order) => {\r\n                order.gameIds.forEach((gameId) => {\r\n                    gamesIds.push(gameId)\r\n                })\r\n            })\r\n        }\r\n        if (gamesIds.length) {\r\n            const games = await this.props.loadGames({ shoppingCartIds: gamesIds })\r\n            this.setState({ games, gamesIds })\r\n        }\r\n    }\r\n\r\n    onFilterBy = async (filterBy = {}) => {\r\n        if (!this.state.gamesIds.length) return\r\n        filterBy.gamesIds = this.state.gamesIds\r\n        await this.props.loadGames({ ...filterBy, shoppingCartIds: this.state.gamesIds })\r\n        this.setState({ games: this.props.games }, () => {\r\n            if (filterBy.sortBy === 'popularity') {\r\n                this.sortByDownloads()\r\n            } else if (filterBy.sortBy === 'price') {\r\n                this.sortByPrice()\r\n            }\r\n        })\r\n    }\r\n\r\n    sortByDownloads = async () => {\r\n        if (!this.state.gamesIds.length) return\r\n        let games = [...this.state.games]\r\n        games = await UtilService.sortByDownloads(games, this.state.isAscending)\r\n        this.setState((prevState) => ({ games, isAscending: !prevState.isAscending }))\r\n    }\r\n    sortByPrice = () => {\r\n        if (!this.state.gamesIds.length) return\r\n        let games = [...this.state.games]\r\n        games = UtilService.sortByPrice(games, this.state.isAscending)\r\n        this.setState((prevState) => ({ games, isAscending: !prevState.isAscending }))\r\n    }\r\n\r\n    render() {\r\n        const { games } = this.state\r\n        return (\r\n            <div className=\"flex column align-center container\">\r\n                <Filter sortByPrice={this.sortByPrice} sortByDownloads={this.sortByDownloads} onFilterBy={this.onFilterBy}></Filter>\r\n                <div className='publish-button btn'>\r\n                    <Link to='/edit'>Publish a game</Link>\r\n                </div>\r\n                <GameList isProfile={true} history={this.props.history} games={games}></GameList>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        games: state.gameStore.games,\r\n        user: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadGames\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(OwnedGames);\r\n","import Dashboard from '../dashboard/Dashboard';\r\nimport OwnedGames from '../owned-games/OwnedGames';\r\n\r\nexport default  {\r\n    Dashboard,\r\n    OwnedGames\r\n}","import React, { Component } from 'react';\r\n\r\nimport DynamicTabMap from './DynamicTabMap.js'\r\n\r\nexport default class DynamicTabPrev extends Component {\r\n    getComponent() {\r\n        return DynamicTabMap[this.props.mode]\r\n    }\r\n\r\n    render() {\r\n        const Cmp = this.getComponent();\r\n        return <React.Fragment>\r\n            <Cmp history={this.props.history}></Cmp>\r\n        </React.Fragment>\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { Icon } from 'antd';\r\n\r\nimport LongText from '../../cmps/helpers/LongTxt'\r\nimport UtilService from '../../services/UtilService'\r\nimport DynamicTabPrev from '../../cmps/dynamic-cmps/DynamicTabPrev';\r\n\r\nimport './_ProfilePage.scss'\r\nclass ProfilePage extends Component {\r\n  state = {\r\n    mode: 'OwnedGames',\r\n    user: {\r\n      \"_id\": \"null\",\r\n      \"fullName\": \"Guest\",\r\n      \"userName\": \"Guest\",\r\n      \"about\": \"Guest\",\r\n      \"createdAt\": 123879186123,\r\n      \"imgUrl\": \"http://keenthemes.com/preview/metronic/theme/assets/pages/media/profile/profile_user.jpg\",\r\n      \"desiredGames\": [{ game: 'gta' }],\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.scrollTo(0,0);\r\n    if (this.props.loggedInUser && this.props.loggedInUser.userName) this.setState({ user: this.props.loggedInUser })\r\n  }\r\n\r\n  updateMode = (ev) => {\r\n    let mode = ev.target.value\r\n    this.setState({ mode })\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.state\r\n    if (user._id !== 'null') user.createdAt = UtilService.formatDate(UtilService.dateFromObjectId(user._id))\r\n    else user.createdAt = 'Dec 2013'\r\n    return (\r\n      <div className=\"profile-container\">\r\n        <div className=\"user-card flex align-center container\">\r\n          <img className=\"user-img small\" alt=\"\" src={user.imgUrl} />\r\n          <div className=\"user-details\">\r\n            <strong>{user.userName}</strong>\r\n            <small>{user.createdAt}</small>\r\n            <div>\r\n            <LongText shortLength={100} isLongTxtShown={false} text={user.about}/>\r\n            </div>\r\n          </div>\r\n          <Icon title=\"Edit details\" type=\"edit\" key=\"edit\" />\r\n        </div>\r\n        <div className=\"tab-nav flex justify-center\">\r\n          <label className={(this.state.mode === \"OwnedGames\") ? \"inner-tab active\" : \"inner-tab\"} htmlFor=\"OwnedGames\">\r\n            <p>Games</p>\r\n            <input name=\"tab\" type=\"radio\" onChange={this.updateMode}\r\n              checked={this.state.mode === \"OwnedGames\"} value=\"OwnedGames\" id=\"OwnedGames\" />\r\n          </label>\r\n          <label className={(this.state.mode === \"Dashboard\") ? \"inner-tab active\" : \"inner-tab\"} htmlFor=\"Dashboard\">\r\n            <p>Dashboard</p>\r\n            <input name=\"tab\" type=\"radio\" onChange={this.updateMode} value=\"Dashboard\" id=\"Dashboard\" />\r\n          </label>\r\n        </div>\r\n        <DynamicTabPrev className=\"dynamic-prev\" history={this.props.history} mode={this.state.mode} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedInUser: state.userStore.loggedInUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ProfilePage);","import React from 'react';\r\n\r\nexport default function GameMedia(props){\r\n\r\n    return  props.mediaUrls.map(url => {\r\n        if (url.includes(\"mp4\")) {\r\n          return (\r\n            <video  key={url}  onClick={props.onThumbNailPhotoClick}  alt=\"\" className=\"game-choose-thumbnail\" src={`${url}#t=23`} />   );\r\n        }\r\n        return (\r\n          <img key={url} onClick={props.onThumbNailPhotoClick} alt=\"\"  className=\"game-choose-thumbnail\" src={url}  />\r\n        );\r\n      })\r\n}\r\n","import React, { Component } from \"react\";\r\nimport OrderService from \"../../services/OrderService\";\r\nimport UtilService from \"../../services/UtilService\";\r\nimport UserService from \"../../services/UserService\";\r\n\r\nimport './_GameDesc.scss'\r\nimport full_heart from '../../assets/icons/full_heart.svg'\r\nimport empty_heart from '../../assets/icons/empty_heart.svg'\r\nimport play_img from '../../assets/icons/play.svg'\r\nimport history from \"../../history\";\r\n\r\nexport default class GameDesc extends Component {\r\n  state = { orderCount: '', rating: '', publisherName: '', isOwned: false }\r\n\r\n  componentDidMount = () => {\r\n    const { game } = this.props\r\n    this.setOrderCount(game)\r\n    this.setGameRating(game)\r\n    this.setPublisherName(game.publisher)\r\n    this.purchaseCheck()\r\n  }\r\n  componentDidUpdate = (prevProps) => {\r\n    const { game } = this.props\r\n    if (game.title !== prevProps.game.title) {\r\n      this.setOrderCount(game)\r\n      this.setGameRating(game)\r\n      this.setPublisherName(game.publisher)\r\n      this.purchaseCheck()\r\n    }\r\n  }\r\n\r\n  setOrderCount = async (game) => {\r\n    const orderCount = await UtilService.getGraphsDetails([game])\r\n    this.setState({ orderCount: orderCount[game.title] })\r\n  }\r\n\r\n  onAddToCart = () => {\r\n    this.props.onAddToCart(this.props.game._id)\r\n  }\r\n\r\n  setGameRating = (game) => {\r\n    const rating = UtilService.formatGameRating((UtilService.getGameRating(game)))\r\n    this.setState({ rating })\r\n  }\r\n\r\n  setPublisherName = async (publisherId) => {\r\n    const publisher = await UserService.getById(publisherId)\r\n    const publisherName = publisher.userName\r\n    this.setState({ publisherName })\r\n  }\r\n\r\n  purchaseCheck = async () => {\r\n    let isPurchased = []\r\n    if (this.props.user) {\r\n      isPurchased = await OrderService.query({ orderBy: this.props.user._id, gameId: this.props.game._id })\r\n    }\r\n    if (isPurchased.length) {\r\n      return this.setState({ isOwned: true })\r\n    } else {\r\n      return this.setState({ isOwned: false })\r\n    }\r\n  }\r\n\r\n  onPlayClikc = () => {\r\n    history.push(`/play/${this.props.game._id}`)\r\n  }\r\n\r\n  render() {\r\n    const { game, user } = this.props\r\n    const { thumbnail, description, publishedAt, price, _id } = game\r\n    const { publisherName, rating, orderCount, isOwned } = this.state\r\n    const priceOrPlay = isOwned ? <button onClick={this.onPlayClikc} className=\"btn play-btn\"><img alt=\"play\" title=\"Play\" src={play_img} /></button> :\r\n      <button type=\"primary\" className='buy-btn' onClick={this.onAddToCart}> {price}$ Add to cart </button>\r\n    const date = new Date(publishedAt / 1)\r\n    const publishedDate = UtilService.formatDate(date)\r\n    return (\r\n      <div className=\"desc desc-container flex column\">\r\n        <img alt=\"\" className=\"game-thumbnail\" src={thumbnail}></img>\r\n        <table className=\"details\">\r\n          <tbody>\r\n            <tr>\r\n              <td className=\"publisher\">{publisherName}</td>\r\n              <td className=\"published\">{publishedDate}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div className=\"rating-downloads\">\r\n          <p className=\"rating\">Rating: {rating}</p>\r\n          <p className=\"downloads\">Last month downloads: {orderCount}</p>\r\n        </div>\r\n        <p className=\"description full\">{description}</p>\r\n        <div className=\"flex space-between\">\r\n          <img alt=\"like\" className=\"wish-btn\" title=\"Wish list\" onClick={this.props.onToggleWishedGame} src={user && user.wishedGames.find(wishedGame => wishedGame === _id) ? full_heart : empty_heart} />\r\n          <div>{priceOrPlay}</div>\r\n        </div>\r\n      </div>)\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport default class Comment extends Component {\r\n  state = { text: \"\" };\r\n  inputChange = ev => {\r\n    let fieldName = ev.target.name;\r\n    this.setState({ [fieldName]: ev.target.value });\r\n  };\r\n\r\n  onAddComment = () => {\r\n    const { text } = this.state\r\n    if (!text) return\r\n    let user = { userName: 'Guest' }\r\n    if (this.props.user) user = this.props.user\r\n    this.props.onAddCommentOrReview({ text, user }, true)\r\n    this.setState({ text: '' })\r\n  }\r\n\r\n  render() {\r\n    const { comments } = this.props;\r\n    const { text } = this.state;\r\n    if (!comments) return ''\r\n    const commentMap = comments.map(comment => {\r\n      if (!comment.user) {\r\n        return <p key={comment.text}>{comment.text}</p>\r\n      }\r\n      return (\r\n        <p key={comment.text + comment.user.userName}>{comment.user.userName} : {comment.text}</p>\r\n      );\r\n    })\r\n    return (\r\n      <div>\r\n        <div className='social-content-container'>\r\n          {commentMap}\r\n        </div>\r\n        <div>\r\n          <div className='flex new-comment-container align-center'>\r\n            <textarea\r\n              type=\"text\"\r\n              name=\"text\"\r\n              value={text}\r\n              onChange={this.inputChange}\r\n              placeholder=\"write your text\"\r\n            />\r\n            <button className='add-button' onClick={this.onAddComment} type='primary'>Add A Comment</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\n\r\nexport default class NewReview extends Component {\r\n    state = { rating: '', text: \"\" };\r\n\r\n    inputChange = ev => {\r\n        let fieldName = ev.target.name;\r\n        this.setState({ [fieldName]: ev.target.value });\r\n    };\r\n\r\n    onAddReview = () => {\r\n        const { rating, text } = this.state\r\n        if (!rating) return\r\n        this.props.onAddCommentOrReview({ user: { userName: this.props.user.userName }, rating, text }, true, 'reviews')\r\n        this.setState({ text: '' })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { text } = this.state\r\n        return (\r\n            <div>\r\n                <div className='new-comment-container flex align-center'>\r\n                <textarea\r\n                    type=\"text\"\r\n                    name=\"text\"\r\n                    value={text}\r\n                    onChange={this.inputChange}\r\n                    placeholder=\"write your text\"\r\n                />\r\n                <input className='hidden' type='radio' value='like' onChange={this.inputChange} name='rating' id='like' />\r\n                <label className='like-img pointer' htmlFor='like' name='rating'>\r\n                    <img alt='like' src=\"https://img.icons8.com/ultraviolet/40/000000/good-quality.png\" />\r\n                </label>\r\n                <input className='hidden' type='radio' onChange={this.inputChange} value='dislike' name='rating' id='dislike' />\r\n                <label htmlFor='dislike' className='dislike-img pointer' name='rating'>\r\n                    <img alt='dislike' src=\"https://img.icons8.com/ultraviolet/40/000000/poor-quality.png\" />\r\n                </label>\r\n                <button  className='add-button' onClick={this.onAddReview}>Add a Review</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction IsUserLoggedIn(props) {\r\n    if (props.loggedInUser) {\r\n        if (props.loggedInUser.userName){\r\n        return (\r\n            <div>\r\n              {props.children}\r\n            </div>\r\n        )\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(IsUserLoggedIn);\r\n","import React, { Component } from 'react';\r\nimport NewReview from './new-review/NewReview';\r\nimport IsUserLoggedIn from '../is-user-logged-in/IsUserLoggedIn';\r\n\r\nexport default class Review extends Component {\r\n  render() {\r\n\r\n    const { reviews, user } = this.props;\r\n    return (\r\n      <div className='reviews-container' >\r\n        <ul className='social-content-container'>\r\n          {reviews.map(review => {\r\n            return (\r\n              <div className='review-container flex' key={review.text}>\r\n                <div className='flex column review-user-details'>\r\n                  <p>{review.user.userName}</p>\r\n                  {review.rating === 'like' ? <img alt='like' src=\"https://img.icons8.com/ultraviolet/40/000000/good-quality.png\" />\r\n                    : <img alt='dislike' src=\"https://img.icons8.com/ultraviolet/40/000000/poor-quality.png\" />}\r\n                </div>\r\n                <div>\r\n                  <p>{review.text}</p>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </ul>\r\n        <IsUserLoggedIn>\r\n          <NewReview user={user} onAddCommentOrReview={this.props.onAddCommentOrReview} onAddReview={this.onAddReview} inputChange={this.inputChange} />\r\n        </IsUserLoggedIn>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux'\r\n\r\nimport SocketService from \"../../services/SocketService\";\r\n\r\nimport { loadGame, updateGame, updateComments } from \"../../actions/gameActions\";\r\nimport { updateUser } from '../../actions/userActions';\r\nimport { addGameToCart } from '../../actions/cartActions';\r\n\r\nimport Notification from '../../cmps/helpers/Notification'\r\nimport GameMedia from '../../cmps/game-media/GameMedia';\r\nimport GameDesc from '../../cmps/game-desc/GameDesc';\r\nimport Comments from '../../cmps/comments/Comment';\r\nimport Review from '../../cmps/review/Review';\r\nimport Modal from '../../cmps/modal/Modal'\r\nimport './_GameDetails.scss';\r\n\r\n\r\nclass GameDetails extends Component {\r\n  state = {\r\n    currMediaUrl: '',\r\n    toggleModal: false,\r\n    modalTxt: ''\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    window.scrollTo(0, 0);\r\n    const { id } = this.props.match.params\r\n    await this.props.loadGame(id)\r\n    this.setState({ currMediaUrl: this.props.game.mediaUrls[0] });\r\n    this.initiateSockets()\r\n  }\r\n\r\n  initiateSockets = () => {\r\n    SocketService.setup()\r\n    SocketService.emit('chat room', this.props.game.title);\r\n    SocketService.on('chat newComment', this.onAddCommentOrReview)\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    SocketService.terminate()\r\n  }\r\n\r\n  onAddCommentOrReview = (newText, isSent = false, name = 'comments') => {\r\n    const newGame = { ...this.props.game }\r\n    newGame[name] = [...newGame[name], newText]\r\n    if (!isSent) { return this.props.updateComments(newGame) }\r\n    if (name === 'comments') { SocketService.emit('chat newComment', newText); }\r\n    return this.props.updateGame(newGame)\r\n  }\r\n\r\n  onAddToCart = (gameId) => {\r\n    try {\r\n      this.props.addGameToCart(gameId)\r\n      this.setState({\r\n        modalTxt: 'Game has been added to the cart',\r\n        toggleModal: true\r\n      }, this.onToggleModal())\r\n    } catch {\r\n      this.setState({\r\n        modalTxt: 'Game is already in the cart',\r\n        toggleModal: true\r\n      }, this.onToggleModal())\r\n    }\r\n  };\r\n\r\n  toggleWishedGame = (ev) => {\r\n    const { loggedInUser, game } = this.props\r\n    ev.stopPropagation();\r\n    let wishedGames = (loggedInUser && loggedInUser.wishedGames) || []\r\n    let updatedUser\r\n    const idx = wishedGames.findIndex(id => id === game._id)\r\n    if (idx === -1) {\r\n      updatedUser = { ...loggedInUser, wishedGames: [...wishedGames, game._id] }\r\n    } else {\r\n      updatedUser = { ...loggedInUser, wishedGames: wishedGames.filter(wishedGame => wishedGame !== game._id) }\r\n    }\r\n    this.props.updateUser(updatedUser)\r\n  }\r\n\r\n  onToggleModal = () => {\r\n    setTimeout(() => {\r\n      this.setState(prevState => ({ toggleModal: !prevState.toggleModal }))\r\n    }, 2000)\r\n  }\r\n\r\n\r\n  onThumbNailPhotoClick = ev => {\r\n    this.setState({ currMediaUrl: ev.target.src });\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.game) return <h1>Loading</h1>;\r\n    const { loggedInUser, game: { title, reviews, mediaUrls, tags, comments } } = this.props\r\n    const { modalTxt, currMediaUrl, toggleModal } = this.state\r\n    let mainMedia;\r\n    currMediaUrl.includes(\".mp4\") ?\r\n      mainMedia = <iframe title=\"video\" src={`${currMediaUrl}?#t=0&#autoplay=1&mute=1`} allowFullScreen='allowfullscreen' volume={0} className=\"game-main-thumbnail\" />\r\n      : mainMedia = <img src={currMediaUrl} alt=\"\" className=\"game-main-thumbnail\" />\r\n    return (\r\n      <div className=\"container content-container\" >\r\n        {toggleModal && <Modal><Notification modalTxt={modalTxt} toggleModal={this.onToggleModal} /></Modal>}\r\n        <h1>{title}</h1>\r\n        <div className=\"grid game-main-content-container \">\r\n          {mainMedia}\r\n          <div className=\"flex game-choose-thumbnail-container\">\r\n            <GameMedia onThumbNailPhotoClick={this.onThumbNailPhotoClick} mediaUrls={mediaUrls} />\r\n          </div>\r\n          <GameDesc user={loggedInUser} onToggleWishedGame={this.toggleWishedGame} onAddToCart={this.onAddToCart} game={this.props.game} />\r\n        </div>\r\n        <h2>Tags:</h2>\r\n        {tags.map(tag => {\r\n          return <span className=\"tag\" key={tag}>{tag} </span>;\r\n        })}\r\n        <h2>Reviews :</h2>\r\n        <Review user={loggedInUser} onAddCommentOrReview={this.onAddCommentOrReview} reviews={reviews} />\r\n        <h2>Comments :</h2>\r\n        <Comments user={loggedInUser} onAddCommentOrReview={this.onAddCommentOrReview} comments={comments} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cart: state.cartStore.cart,\r\n    game: state.gameStore.game,\r\n    loggedInUser: state.userStore.loggedInUser,\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  addGameToCart,\r\n  loadGame,\r\n  updateGame,\r\n  updateComments,\r\n  updateUser\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(GameDetails)\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport SocketService from \"../../services/SocketService\";\r\nimport Comments from \"../../cmps/comments/Comment\";\r\nimport './_PlayGame.scss'\r\n\r\nclass PlayGame extends Component {\r\n    state = { comments: null }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        let userName = (this.props.loggedInUser) ? this.props.loggedInUser.userName : 'Guest';\r\n        SocketService.setup()\r\n        SocketService.emit('chat room', this.props.match.params.id);\r\n        SocketService.emit('user joined', { text: `${userName} has joined the chat` });\r\n        SocketService.on('chat newComment', this.addComment)\r\n        SocketService.on('user joined', this.addComment)\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        SocketService.terminate()\r\n    }\r\n\r\n    sendComment = (newComment) => {\r\n        SocketService.emit('chat newComment', newComment);\r\n    };\r\n\r\n    addComment = newComment => {\r\n        if (!this.state.comments) return this.setState({ comments: [newComment] })\r\n        this.setState(prevState => ({ comments: [...prevState.comments, newComment] }));\r\n    };\r\n\r\n    render() {\r\n        const { comments } = this.state\r\n        let addedComments\r\n        const logInMsg = !this.props.loggedInUser ? 'Buy the game to enjoy the game fully' : '';\r\n        addedComments = <Comments user={this.props.loggedInUser} onAddCommentOrReview={this.sendComment} comments={comments} />\r\n        return (<div className=' container play-container'>\r\n            <h3>{logInMsg}</h3>\r\n            <div className='game-content-container flex'>\r\n                <iframe title=\"play\" src=\"https://www.gameflare.com/embed/cartoon-strike/\" frameBorder=\"0\" scrolling=\"no\" width=\"1000\" height=\"635\" allowFullScreen></iframe>\r\n                <div className='comments-container'>{addedComments}</div>\r\n            </div>\r\n        </div>)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(PlayGame);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadCart } from '../../actions/cartActions'\r\n\r\nclass GameCounter extends Component {\r\n    componentDidMount() {\r\n        this.props.loadCart()\r\n    }\r\n\r\n    render() {\r\n        return <p  style={{ alignSelf:\"center\",color: \"white\" }}>{this.props.cart.length}</p>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        cart: state.cartStore.cart\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadCart\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(GameCounter)","import React, { Component } from 'react';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport history from '../../history';\r\n\r\nimport { logout } from '../../actions/userActions';\r\nimport GameCounter from '../game-counter/GameCounter'\r\nimport './_NavBar.scss'\r\nimport wishlistImg from '../../assets/icons/wishlist.svg'\r\nimport shoppingCartImg from '../../assets/icons/shopping_cart.svg'\r\n\r\nclass NavBar extends Component {\r\n\r\n  doLogOut = async () => {\r\n    try {\r\n      await this.props.logout();\r\n      history.push('/')\r\n    } catch (err) {\r\n      console.log('Had issues while logging out ', err)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loggedInUser } = this.props\r\n    const userName = (!loggedInUser) ? 'guest' : loggedInUser.userName;\r\n    return (\r\n      <nav className=\"nav-bar flex align-center\">\r\n        <div className=\"nav-logo full\">\r\n          <Link to=\"/\">\r\n            <img alt=\"logo\" src=\"/navbar-logo.png\" />\r\n          </Link>\r\n        </div>\r\n        <input type=\"checkbox\" className=\"hidden\" id=\"menu\" />\r\n        <div className=\"flex nav-link-container\">\r\n          <div className=\"flex\">\r\n            <div className=\"nav-link flex align-center\" onClick={() => this.props.toggleModal(\"wishlist\")}>\r\n              <img alt=\"\" src={wishlistImg} />\r\n            </div>\r\n            <div className=\"nav-link flex align-center\" onClick={() => this.props.toggleModal(\"shoppingCart\")}>\r\n              <GameCounter />\r\n              <img alt=\"\" src={shoppingCartImg} />\r\n            </div>\r\n          </div>\r\n          <label className=\"nav-bar-hamburger pointer\" htmlFor=\"menu\">\r\n            ☰\r\n          </label>\r\n\r\n          <div className=\"nav-bar-menu\">\r\n            <NavLink to=\"/\" exact className=\"nav-link flex align-center\" activeClassName=\"devactive\" >\r\n              Homepage\r\n        </NavLink>\r\n            <NavLink to=\"/game\" exact className=\"nav-link flex align-center\" activeClassName=\"active\" >\r\n              Explore\r\n        </NavLink>\r\n            <NavLink to={`/user/${userName || 'guest'}`} exact className=\"nav-link flex align-center\" activeClassName=\"active\"  >\r\n              Profile\r\n        </NavLink>\r\n            {(!loggedInUser || !loggedInUser.userName) ? <NavLink to=\"/login\" exact className=\"nav-link flex align-center\" activeClassName=\"active\" >Login</NavLink>\r\n              : <NavLink onClick={this.doLogOut} to=\"/\" exact className=\"nav-link flex align-center\" activeClassName=\"\">Logout</NavLink>}\r\n          </div>\r\n        </div>\r\n      </nav >\r\n\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedInUser: state.userStore.loggedInUser\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  logout\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(NavBar);","import React from 'react'\r\n\r\nexport default function ConfirmDelete(props) {\r\n    return <div>\r\n        <p>Confirm Delete</p>\r\n        <button onClick={props.modalAction}>Confirm</button>\r\n        <button onClick={()=>props.toggleModal(props.modalType)}>Cancel</button>\r\n    </div>\r\n}","import React from 'react';\r\n\r\nexport default function MediaUrlsList(props) {\r\n  return props.mediaUrls.map((url, idx) => {\r\n    if (url.includes(\".mp4\")) {\r\n      return (\r\n        <div className=\"media-container flex\" key={url}>\r\n          <iframe src={url} allowFullScreen='allowfullscreen' title='video' alt={url} />\r\n          <span\r\n            className=\"pointer absolute\"\r\n            onClick={() => props.removeMediaAndTags(\"mediaUrls\", idx)}\r\n          >\r\n            X\r\n          </span>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"media-container  flex\" key={url}>\r\n        <img src={url} alt={url} />\r\n        <span\r\n          className=\"pointer absolute\"\r\n          onClick={() => props.removeMediaAndTags(\"mediaUrls\", idx)}\r\n        >\r\n          X\r\n        </span>\r\n      </div>\r\n    );\r\n  });\r\n}\r\n","import React from 'react';\r\n\r\nexport default function thumbnail(props) {\r\n  const { thumbnail } = props\r\n  return (\r\n    <div className=\"flex media-container\">\r\n      <img src={thumbnail} alt=\"\" />\r\n      <span className=\"pointer absolute\" onClick={() => props.removeMediaAndTags(\"thumbnail\")}>\r\n        X\r\n      </span>\r\n    </div>)\r\n}\r\n","import React from 'react';\r\n\r\nexport default function TagList(props) {\r\n  return props.tags.map((tag, idx) => {\r\n    return (\r\n      <div className=\"tag-container\" key={tag}>\r\n        <span\r\n          className=\"pointer\"\r\n          onClick={() => props.removeMediaAndTags(\"tags\", idx)}\r\n        >\r\n          X\r\n        </span>\r\n        <p>{tag}</p>\r\n      </div>\r\n    );\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport MediaUrlsList from '../media-url-list/MediaUrlList';\r\nimport Thumbnail from '../thumbnail/Thumbnail';\r\nimport TagList from '../tag-list/TagList';\r\nimport trash_bin from '../../../assets/icons/bin.svg';\r\n\r\nexport default function InputForm(props) {\r\n    const { onRemoveGame, inputChange, addMediaAndTags, onSubmit, removeMediaAndTags,\r\n        form: { price, publishedAt, title, mediaUrls, tags, thumbnail, description, loading } } = props\r\n    let addedTags;\r\n    let addedUrls;\r\n    let addedThumbnail\r\n    if (mediaUrls && mediaUrls.length) {\r\n        addedUrls = (<MediaUrlsList removeMediaAndTags={removeMediaAndTags} mediaUrls={mediaUrls} />)\r\n    }\r\n    if (tags && tags.length) {\r\n        addedTags = (<TagList removeMediaAndTags={removeMediaAndTags} tags={tags} />)\r\n    }\r\n    if (thumbnail) {\r\n        addedThumbnail = <Thumbnail thumbnail={thumbnail} removeMediaAndTags={removeMediaAndTags} />\r\n    }\r\n\r\n    return <div className=\"edit-container content-container\">\r\n        {loading && <div className='loader'></div>}\r\n        <p> Title : </p>\r\n        <input type=\"text\" onChange={inputChange} value={title} placeholder=\"title\" name=\"title\" />\r\n        <p>Publish Date</p>\r\n        <input type=\"date\" onChange={inputChange} value={publishedAt} name=\"publishedAt\" />\r\n        <p> Descripiton: </p>\r\n        <textarea type=\"text\" onChange={inputChange} placeholder=\"description\" name=\"description\" value={description} />\r\n        <p> Thumbnail Img: </p>\r\n        <input type=\"file\" onChange={addMediaAndTags} placeholder=\"thumbnail\" name=\"thumbnail\" />\r\n        {addedThumbnail}\r\n        <p> Media: </p>\r\n        <div>\r\n            <input type=\"file\" onChange={addMediaAndTags} placeholder=\"Put your image Urls here\" name=\"mediaUrls\" multiple />\r\n            <div className=\"flex wrap\">{addedUrls}</div>\r\n        </div>\r\n        <p>Price: </p>\r\n        <input type=\"number\" onChange={inputChange} placeholder=\"price\" name=\"price\" value={price} />\r\n        <p>Tags:</p>\r\n        <input type=\"tags\" onChange={inputChange} placeholder=\"tags\" name=\"currTag\" />\r\n        <button name=\"tags\" onClick={addMediaAndTags}>\r\n            Add Tag\r\n          </button>\r\n        <div className=\"flex\">{addedTags}</div>\r\n        <button title=\"Delete\" className=\"btn\" onClick={onRemoveGame}><img alt=\"\" src={trash_bin} /></button>\r\n        <button onClick={onSubmit}>Submit</button>\r\n    </div>\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport history from '../../history'\r\n\r\nimport GameService from '../../services/GameService';\r\nimport MediaUploadService from '../../services/MediaUploadService';\r\n\r\nimport Modal from '../modal/Modal'\r\nimport ConfirmDelete from '../helpers/ConfirmDelete'\r\nimport InputForm from './inputForm/InputForm';\r\n\r\nimport './_EditGame.scss';\r\n\r\nclass EditGame extends Component {\r\n  state = {\r\n    title: '',\r\n    description: '',\r\n    thumbnail: '',\r\n    mediaUrls: [],\r\n    price: '',\r\n    publishedAt: '',\r\n    tags: null,\r\n    currTag: '',\r\n    loading: false,\r\n    modalType: '',\r\n    toggleModal: false,\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    const gameId = this.props.match.params.id\r\n    if (gameId) {\r\n      const game = await GameService.getById(gameId)\r\n      const publishedAt = this.getDateInput(game.publishedAt)\r\n      this.setState({ ...game, publishedAt })\r\n    }\r\n  }\r\n\r\n  onRemoveGame = async () => {\r\n    this.setState({\r\n      toggleModal: true\r\n    })\r\n    this.onToggleModal('confirmDelete')\r\n  }\r\n\r\n  removeGame = async () => {\r\n    this.setState(prevState => { return { toggleModal: !prevState.toggleModal, modalType: '' } })\r\n    try {\r\n      await GameService.remove(this.state._id)\r\n      history.push(`/user/${this.props.loggedInUser.userName}`)\r\n    } catch{\r\n      console.log('cant remove game')\r\n    }\r\n  }\r\n\r\n  onToggleModal = (modalType) => {\r\n    if (!this.state.toggleModal) {\r\n      this.setState({ modalType, toggleModal: true });\r\n    } else if (modalType === this.state.modalType) {\r\n      this.setState(prevState => { return { toggleModal: !prevState.toggleModal, modalType: '' } })\r\n    } else {\r\n      this.setState({ modalType })\r\n    }\r\n  }\r\n\r\n  getDateInput = (publishDate) => {\r\n    const publishedAt = new Date(publishDate / 1)\r\n    const day = (\"0\" + publishedAt.getDate()).slice(-2);\r\n    const month = (\"0\" + (publishedAt.getMonth() + 1)).slice(-2);\r\n    const date = publishedAt.getFullYear() + \"-\" + (month) + \"-\" + (day)\r\n    return date\r\n  }\r\n\r\n  onSubmit = async () => {\r\n    const newGame = { ...this.state }\r\n    newGame.publishedAt = new Date(newGame.publishedAt).getTime()\r\n    if (!newGame.mediaUrls) return\r\n    if (!newGame.thumbnail) return\r\n    if (this.props.match.params.id) {\r\n      delete newGame.currTag\r\n      delete newGame.loading\r\n      const game = await GameService.update(newGame)\r\n      return this.props.history.push(`/game/${game._id}`)\r\n    }\r\n    if (!this.props.loggedInUser) return\r\n    newGame.publisher = this.props.loggedInUser._id\r\n    newGame.comments = []\r\n    newGame.reviews = []\r\n    delete newGame.currTag\r\n    delete newGame.loading\r\n    const game = await GameService.add(newGame)\r\n    return this.props.history.push(`/game/${game._id}`)\r\n  }\r\n\r\n  addMediaAndTags = async ev => {\r\n    const fieldName = ev.target.name\r\n    if (fieldName !== \"tags\") {\r\n      this.setState({ loading: true })\r\n      const urls = await MediaUploadService(ev.target.files);\r\n      if (fieldName === 'thumbnail') {\r\n        return this.setState({ thumbnail: urls[0], loading: false })\r\n      }\r\n      return this.setState(prevState => ({\r\n        mediaUrls: [...prevState.mediaUrls, ...urls], loading: false\r\n      }));\r\n    }\r\n    if (!this.state.currTag) return\r\n    this.setState(prevState => ({\r\n      tags: [...prevState.tags, this.state.currTag]\r\n    }))\r\n  }\r\n\r\n  removeMediaAndTags = (fieldName, idx) => {\r\n    if (fieldName === 'thumbnail') {\r\n      return this.setState({ thumbnail: '' })\r\n    }\r\n    let editedData = [...this.state[fieldName]];\r\n    editedData.splice(idx, 1);\r\n    this.setState({\r\n      [fieldName]: editedData\r\n    });\r\n  };\r\n\r\n  inputChange = ev => {\r\n    let fieldName = ev.target.name;\r\n    this.setState({ [fieldName]: ev.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <InputForm onRemoveGame={this.onRemoveGame} removeMediaAndTags={this.removeMediaAndTags} inputChange={this.inputChange}\r\n          onSubmit={this.onSubmit} addMediaAndTags={this.addMediaAndTags} form={this.state} />\r\n        {this.state.modalType === 'confirmDelete' && <Modal >\r\n          <ConfirmDelete modalType={this.modalType} modalAction={this.removeGame} toggleModal={this.onToggleModal} />\r\n        </Modal>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedInUser: state.userStore.loggedInUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(EditGame);\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport history from '../../history'\r\n\r\n\r\nimport CartService from '../../services/CartService'\r\nimport GameList from '../../cmps/game-list/GameList'\r\nimport GameService from '../../services/GameService';\r\nimport UtilService from '../../services/UtilService';\r\nimport OrderService from '../../services/OrderService';\r\n\r\nimport { updateUser } from '../../actions/userActions'\r\nimport { clearCart } from '../../actions/cartActions';\r\n\r\nclass ShoppingCart extends Component {\r\n    state = {\r\n        games: null,\r\n        gamesIds: null,\r\n        sum: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadGames()\r\n    }\r\n\r\n    async loadGames() {\r\n        const gamesIds = CartService.query();\r\n        let gamesToRender = []\r\n        if (gamesIds.length) {\r\n            gamesToRender = await GameService.query({ shoppingCartIds: gamesIds })\r\n        }\r\n        this.setState({ gamesIds, games: gamesToRender })\r\n        if (this.state.games) {\r\n            this.getSum()\r\n        }\r\n    }\r\n\r\n    onUpdateUser = async (updatedUser) => {\r\n        this.props.updateUser(updatedUser)\r\n    }\r\n\r\n    onRemoveFromCart = (gameId) => {\r\n        CartService.removeFromCart(gameId)\r\n        this.loadGames()\r\n    }\r\n\r\n    onBuyClick = async () => {\r\n        if (!this.props.user) { history.push('/login'); return }\r\n\r\n        const order = {\r\n            createdAt: UtilService.dateByMillisecond(),\r\n            orderBy: this.props.user._id,\r\n            gameIds: this.state.gamesIds\r\n        }\r\n        await OrderService.add(order)\r\n        this.props.clearCart()\r\n        this.props.toggleModal('shoppingCart')\r\n        history.push(`/user/${this.props.user.userName}`)\r\n    }\r\n    getSum = () => {\r\n        const sum = this.state.games.reduce((acc, currGame) => {\r\n            return acc += currGame.price\r\n        }, 0)\r\n        this.setState({ sum })\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"modal totally-center\">\r\n            {(this.state.games && this.state.games.length) ?\r\n                <div className=\"modal-content\">\r\n                    <GameList isModal={true} user={this.props.user} onUpdateUser={this.onUpdateUser} onRemoveFromCart={this.onRemoveFromCart} isCart={true} games={this.state.games} history={this.props.history}></GameList>\r\n                    <div className='flex justify-center align-center space-between '>\r\n                        <div className='money-sum'> Total: ${this.state.sum}</div>\r\n                        <button className=\"pointer cla-btn\" onClick={this.onBuyClick}>Purchase</button>\r\n                    </div>\r\n                </div>\r\n                : <h3 className=\"flex column totally-center\">Your shopping cart is empty</h3>}\r\n        </div>\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    clearCart,\r\n    updateUser\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(ShoppingCart);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport { updateUser } from '../../actions/userActions'\r\nimport { loadGames } from '../../actions/gameActions'\r\nimport GameList from '../game-list/GameList'\r\n\r\nimport './_WishList.scss'\r\n\r\nclass WishList extends Component {\r\n    componentDidMount() {\r\n        loadGames()\r\n    }\r\n\r\n    onUpdateUser = async (updatedUser) => {\r\n        this.props.updateUser(updatedUser)\r\n    }\r\n\r\n    render() {\r\n        if (this.props.user) {\r\n            const { games, user } = this.props\r\n            let wishedGames = games.filter(game => user.wishedGames.includes(game._id))\r\n            return <div className=\"modal\">\r\n                <div className=\"modal-content\">\r\n                    <GameList isModal={true} isWishList={true} history={this.props.history} user={user} onUpdateUser={this.onUpdateUser} games={wishedGames}></GameList>\r\n                </div>\r\n            </div>\r\n        }\r\n        return <div className=\"modal\"><h3 className=\"modal-content empty-wishlist flex align-center\">Please Login to see your wishlist</h3></div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        games: state.gameStore.games,\r\n        user: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadGames,\r\n    updateUser\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(WishList);","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './_Footer.scss'\r\n\r\nexport default function Footer(props) {\r\n    return (\r\n        <div className=\"footer-container totally-center flex column\">\r\n            <img className=\"logo-footer\" width=\"10\"alt=\"logo\" src=\"/logo.png\" />\r\n            <small className=\"rights\">© 2020, <span className=\"name\">GameIn</span> Inc. All rights reserved</small>\r\n            <div>\r\n                <Link to=\"/about\">About us</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react';\r\nimport { Router, Switch, Route } from 'react-router';\r\n\r\nimport history from './history';\r\n\r\nimport HomePage from './pages/homepage/HomePage';\r\nimport Login from './pages/login/Login';\r\nimport SignUp from './pages/sign-up/SignUp';\r\nimport Explore from './pages/explore-page/Explore';\r\nimport ProfilePage from './pages/profile-page/ProfilePage';\r\nimport GameDetails from './pages/game-details/GameDetails';\r\nimport PlayGame from './pages/play-game/PlayGame';\r\n\r\nimport NavBar from './cmps/nav-bar/NavBar';\r\nimport Modal from './cmps/modal/Modal'\r\nimport EditGame from './cmps/edit-game/EditGame';\r\nimport ShoppingCart from './cmps/shopping-cart/ShoppingCart';\r\nimport WishList from './cmps/wish-list/WishList';\r\nimport Footer from './cmps/footer/Footer';\r\n\r\nimport './assets/styles/global.scss'\r\n\r\nexport default class App extends Component {\r\n   state = {\r\n      modalType: '',\r\n      toggleModal: false\r\n   }\r\n\r\n   toggleModal = (modalType) => {\r\n      if (!this.state.toggleModal) {\r\n         this.setState({ modalType, toggleModal: true });\r\n      } else if (modalType === this.state.modalType) {\r\n         this.setState(prevState => { return { toggleModal: !prevState.toggleModal, modalType: '' } })\r\n      } else {\r\n         this.setState({ modalType })\r\n      }\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <React.Fragment>\r\n            <Router history={history} className=\"App Site\">\r\n               <NavBar toggleModal={this.toggleModal} />\r\n               <Switch className=\"Site-content\">\r\n                  <Route path=\"/\" render={() => <HomePage history={history} />} exact />\r\n                  <Route path=\"/login\" component={Login} exact />\r\n                  <Route path=\"/sign-up\" component={SignUp} exact />\r\n                  <Route path=\"/edit/:id?\" component={EditGame} exact />\r\n                  <Route path=\"/game/:id\" component={GameDetails} exact />\r\n                  <Route path=\"/game\" render={() => <Explore history={history} />} exact />\r\n                  <Route path=\"/user/:id\" render={() => <ProfilePage history={history} />} exact />\r\n                  <Route path=\"/play/:id\" component={PlayGame} exact />\r\n               </Switch>\r\n               <Footer></Footer>\r\n            </Router>\r\n            {this.state.toggleModal && <Modal>\r\n               {(this.state.modalType === 'wishlist') ? <WishList /> : <ShoppingCart toggleModal={this.toggleModal}/>}\r\n            </Modal>}\r\n         </React.Fragment>\r\n      )\r\n   }\r\n}\r\n\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","const INITIAL_STATE = {\r\n  game: null, games: [], filterBy: { publisher: '' }\r\n};\r\n\r\nexport default function gameReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case \"SET_GAMES\":\r\n      return { ...state, games: action.games };\r\n    case 'SET_FILTER':\r\n      return { ...state, filterBy: { ...action.filterBy } }\r\n    case 'SET_GAME':\r\n      return { ...state, game: action.game }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let localLoggedInUser = null;\r\nif (sessionStorage.user) localLoggedInUser = JSON.parse(sessionStorage.user);\r\n\r\nconst INITIAL_STATE = {\r\n    loggedInUser: localLoggedInUser\r\n};\r\n\r\nexport default function userReducer(state = INITIAL_STATE, action) {\r\n    \r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return { ...state, loggedInUser: action.user };\r\n        case 'UPDATE_USER':\r\n            return { ...state, loggedInUser: action.user };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","const INITIAL_STATE = {\r\n  cart: []\r\n};\r\n\r\nexport default function cartReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case \"SET_CART\":\r\n      return {\r\n        ...state,\r\n        cart: action.cart\r\n      };\r\n    case \"ADD_TO_CART\":\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart, action.item]\r\n      }\r\n    case \"REMOVE_FROM_CART\":\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart.filter(item => item !== action.item)]\r\n      }\r\n    case \"CLEAR_CART\":\r\n      return {\r\n        ...state,\r\n        cart: []\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport gameReducer from './gameReducer'\r\nimport userReducer from './userReducer'\r\nimport cartReducer from './cartReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  gameStore: gameReducer,\r\n  userStore: userReducer,\r\n  cartStore: cartReducer\r\n})\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../src/reducers/index';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst Store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default Store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\n// TODO: use scss\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport Store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={Store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/full_heart.1aab119d.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty_heart.1ff089d1.svg\";"],"sourceRoot":""}