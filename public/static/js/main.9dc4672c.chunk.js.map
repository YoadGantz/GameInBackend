{"version":3,"sources":["assets/icons/remove_from_cart.svg","assets/icons/edit.svg","assets/icons/up_down_arrows.svg","assets/icons/send.svg","assets/icons/wishlist.svg","assets/icons/shopping_cart.svg","assets/icons/bin.svg","history.js","services/HttpService.js","services/OrderService.js","services/UtilService.js","services/GameService.js","actions/gameActions.js","services/UserService.js","actions/userActions.js","services/StorageService.js","services/CartService.js","actions/cartActions.js","cmps/charts/TinyBarChart.js","cmps/modal/Modal.js","cmps/helpers/Notification.js","cmps/game-preview/GamePreview.js","cmps/game-list/GameList.js","pages/homepage/HomePage.js","pages/login/Login.js","services/MediaUploadService.js","pages/sign-up/SignUp.js","cmps/filter/Filter.js","pages/explore-page/Explore.js","cmps/helpers/LongTxt.js","cmps/charts/AreaChart.js","cmps/charts/PieChart.js","cmps/info-card/InfoCard.js","services/SocketService.js","cmps/dashboard/Dashboard.js","cmps/owned-games/OwnedGames.js","cmps/dynamic-cmps/DynamicTabMap.js","cmps/dynamic-cmps/DynamicTabPrev.js","pages/profile-page/ProfilePage.js","cmps/game-media/GameMedia.js","cmps/game-desc/GameDesc.js","cmps/comments/Comment.js","cmps/review/new-review/NewReview.js","cmps/is-user-logged-in/IsUserLoggedIn.js","cmps/review/Review.js","pages/game-details/GameDetails.js","pages/play-game/PlayGame.js","cmps/game-counter/GameCounter.js","cmps/nav-bar/NavBar.js","cmps/helpers/ConfirmDelete.js","cmps/edit-game/media-url-list/MediaUrlList.js","cmps/edit-game/thumbnail/Thumbnail.js","cmps/edit-game/tag-list/TagList.js","cmps/edit-game/inputForm/InputForm.js","cmps/edit-game/EditGame.js","cmps/shopping-cart/ShoppingCart.js","cmps/wish-list/WishList.js","cmps/footer/Footer.js","App.js","serviceWorker.js","reducers/gameReducer.js","reducers/userReducer.js","reducers/cartReducer.js","reducers/index.js","store.js","index.js","assets/icons/full_heart.svg","assets/icons/empty_heart.svg"],"names":["module","exports","history","createBrowserHistory","axios","Axios","create","withCredentials","endpoint","data","params","ajax","a","async","method","url","res","console","log","dir","response","status","push","query","filterBy","HttpService","add","order","sortGames","games","sortBy","isAscending","sortByDownloads","_sortByRecency","_sortByRating","_sortByPrice","getGraphsDetails","getGameRating","dateByMillisecond","dateFromObjectId","objectId","Date","parseInt","substring","formatDate","date","year","getFullYear","getMonth","getSum","downloadsByGame","sum","map","currGame","idx","price","formatGameRating","rating","game","reviews","reduce","acc","review","length","time","setDate","getDate","getTime","sortedGames","sort","game1","game2","publishedAt","forEach","totalRating","downloadNumbers","downloadsCount","title","type","prms","ordersBy","gameByNameOrder","ordersByGame","OrderService","lastMonthId","gameIds","_id","Promise","all","orders","i","createdAt","currOrderDate","num","addedGame","getById","gameId","update","updatedGame","remove","setGames","setGame","loadGames","dispatch","GameService","login","loginCred","loggedInUser","signUp","signUpCred","logout","loggedOutUser","user","addedUser","userId","updatedUser","updateUser","UserService","_updateUser","setUser","loadFromStorage","key","val","localStorage","getItem","JSON","parse","saveToStorage","stringify","StorageService","addToCart","item","cartItems","find","currItem","err","removeFromCart","updatedCart","filter","clear","addGameToCart","CartService","_addToCart","_setCart","cart","Example","state","setData","gameOrders","props","orderCount","name","income","setState","prevprops","this","className","width","height","margin","top","right","left","bottom","dataKey","stroke","fill","Component","modalRoot","document","getElementById","Modal","el","createElement","appendChild","removeChild","ReactDOM","createPortal","children","React","Notification","modalTxt","GamePreview","publisherName","toggleModal","onOpenDetails","onOpenEdit","ev","stopPropagation","onRemoveFromCart","removeGameFromCart","onPlayClick","getDetailsForChart","UtilService","toggleWishedGame","wishedGames","findIndex","id","wishedGame","onToggleModal","onUpdateUser","onAddToCart","setTimeout","prevState","publisher","userName","isDashboard","isProfile","isModal","isWishList","onClick","alt","src","thumbnail","full_heart","empty_heart","remove_from_cart","edit_img","mapDispatchToProps","_removeFromCart","connect","cartStore","GameList","isHomepage","HomePage","Popularity","ReleaseDate","Rating","splice","window","scrollTo","to","on","gameStore","userStore","Login","password","isIncorrectInput","loginHandleChange","target","value","doLogin","preventDefault","userCreds","loginSection","onSubmit","onChange","placeholder","cred","uploadImg","files","split","UPLOAD_URL","formData","FormData","append","post","filesData","urls","file","SignUp","fullName","about","imgUrl","isLoadingImg","addMediaAndTags","MediaUploadService","signUpHandleChange","doSignUp","signUpCreds","removeImg","imgPreview","signUpSection","htmlFor","Filter","tag","isShown","inputChange","onFilterBy","changeOrder","location","search","URLSearchParams","get","defaultChecked","up_down_arrows","Explore","componentDidMount","LongTxt","isLongTxtShown","getText","text","shortLength","handleReadMore","prevstate","getButtonTxt","Graph","purcheses","purchases","orderDates","PureComponent","PieCharts","gameTitles","colors","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","RADIAN","index","Math","PI","radius","x","cos","y","sin","textAnchor","dominantBaseline","toFixed","sumOfGames","isAnimationActive","labelLine","label","style","background","InfoCard","includes","socket","Dashboard","monthMoneySum","downloadsByMonth","downloadsByWeek","getWeekInfo","downloadsSum","gameSum","toLocaleString","getMonthInfo","componentDidUpdate","prevProps","gameList","OwnedGames","gamesIds","orderBy","shoppingCartIds","DynamicTabPrev","DynamicTabMap","mode","Cmp","getComponent","Fragment","ProfilePage","updateMode","checked","setup","io","terminate","eventName","cb","off","emit","GameMedia","mediaUrls","onThumbNailPhotoClick","GameDesc","isOwned","setOrderCount","setGameRating","setPublisherName","purchaseCheck","publisherId","isPurchased","onPlayClikc","description","priceOrPlay","publishedDate","onToggleWishedGame","Comment","fieldName","onAddComment","onAddCommentOrReview","comments","commentMap","comment","send_img","NewReview","onAddReview","Review","GameDetails","currMediaUrl","match","loadGame","initiateSockets","SocketService","componentWillUnmount","newText","isSent","newGame","updateGame","updateComments","mainMedia","tags","allowFullScreen","volume","isDetails","PlayGame","sendComment","newComment","addComment","logInMsg","frameBorder","scrolling","GameCounter","loadCart","marginInlineEnd","alignSelf","color","NavBar","doLogOut","wishlistImg","shoppingCartImg","exact","activeClassName","ConfirmDelete","modalAction","modalType","MediaUrlsList","removeMediaAndTags","TagList","InputForm","addedTags","addedUrls","addedThumbnail","onRemoveGame","form","loading","multiple","trash_bin","EditGame","currTag","getDateInput","removeGame","publishDate","day","slice","month","editedData","ShoppingCart","onBuyClick","clearCart","gamesToRender","isCart","WishList","Footer","App","path","component","render","Boolean","hostname","INITIAL_STATE","localLoggedInUser","sessionStorage","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","Store","createStore","applyMiddleware","thunk","store","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9dc4672c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/remove_from_cart.ccf11e5c.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit.a679f828.svg\";","module.exports = __webpack_public_path__ + \"static/media/up_down_arrows.d68eb9f0.svg\";","module.exports = __webpack_public_path__ + \"static/media/send.7cd8afcb.svg\";","module.exports = __webpack_public_path__ + \"static/media/wishlist.58d71a39.svg\";","module.exports = __webpack_public_path__ + \"static/media/shopping_cart.0ff5ef33.svg\";","module.exports = __webpack_public_path__ + \"static/media/bin.817d91ee.svg\";","import { createBrowserHistory } from 'history';\r\nconst history = createBrowserHistory();\r\n\r\nexport default history;","import history from '../history';\r\nimport Axios from 'axios';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nlet axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport default {\r\n    get(endpoint, data, params){\r\n        return ajax(endpoint, 'GET', data, params)\r\n    },\r\n    post(endpoint, data){\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data){\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data){\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method='get', data=null ,params, dispatch) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params\r\n        })\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\r\n        console.dir(err);\r\n        if (err.response && err.response.status === 401) {\r\n          history.push('/login'); // diaspatch ('authorition error')\r\n        }\r\n          // diaspatch ('error')\r\n          throw err; \r\n    }\r\n}","\r\nimport HttpService from './HttpService';\r\n\r\nexport default {\r\n    query,\r\n    add\r\n}\r\n\r\n\r\nasync function query(filterBy) {\r\n    return HttpService.get('order', '', filterBy);\r\n}\r\n\r\nasync function add(order) {\r\n    return HttpService.post('order', order);\r\n}\r\n\r\n\r\n","import OrderService from './OrderService';\r\nexport default {\r\n    sortGames,\r\n    sortByDownloads,\r\n    getGraphsDetails,\r\n    getGameRating,\r\n    dateByMillisecond,\r\n    dateFromObjectId,\r\n    formatDate,\r\n    getSum,\r\n    formatGameRating\r\n}\r\n\r\nfunction dateFromObjectId(objectId) {\r\n    const date = new Date(parseInt(objectId.substring(0, 8), 16) * 1000)\r\n    return date\r\n};\r\n\r\n\r\n\r\n\r\nfunction getGameRating(game) {\r\n    const { reviews } = game\r\n    let sumOfRating = reviews.reduce((acc, review) => {\r\n        if (review.rating === 'like') {\r\n            return acc += 1\r\n        } else {\r\n            return acc -= 1\r\n        }\r\n    }, 0)\r\n    const rating = +(sumOfRating / reviews.length) * 100\r\n    return rating\r\n}\r\n\r\nfunction dateByMillisecond(time) {\r\n    let date = new Date()\r\n    if (time) {\r\n        date.setDate(date.getDate() - time);\r\n    }\r\n    return date.getTime()\r\n}\r\n\r\nasync function getSum(games) {\r\n    const downloadsByGame = await getGraphsDetails(games, 'games')\r\n    const sum = games.map((currGame, idx) => {\r\n        return downloadsByGame[idx] * currGame.price\r\n    })\r\n    return { sum, downloadsByGame }\r\n}\r\n\r\nasync function sortGames(games, sortBy, isAscending) {\r\n    if (sortBy === 'Popularity') {\r\n        return sortByDownloads(games, isAscending)\r\n    } else if (sortBy === 'ReleaseDate') {\r\n        return _sortByRecency(games, isAscending)\r\n    } else if (sortBy === 'Rating') {\r\n        return _sortByRating(games, isAscending)\r\n    } else if (sortBy === 'Price') {\r\n        return _sortByPrice(games, isAscending)\r\n    }else{\r\n        return games\r\n    }\r\n    \r\n}\r\n\r\nasync function _sortByRecency(games, isAscending = false) {\r\n    const sortedGames = games.sort((game1, game2) => {\r\n        if (isAscending) {\r\n            return game1.publishedAt < game2.publishedAt ? -1 : game1.publishedAt > game2.publishedAt ? 0 : 1\r\n        }\r\n        return game1.publishedAt > game2.publishedAt ? -1 : game1.publishedAt < game2.publishedAt ? 0 : 1\r\n   \r\n    })\r\n    return sortedGames\r\n}\r\n\r\nasync function _sortByRating(games, isAscending = false) {\r\n    games.forEach(game => game.totalRating = getGameRating(game))\r\n    const sortedGames = games.sort((game1, game2) => {\r\n        if (isAscending) {\r\n            return game1.totalRating < game2.totalRating ? -1 : game1.totalRating > game2.totalRating ? 0 : 1\r\n        }\r\n        return game1.totalRating > game2.totalRating ? -1 : game1.totalRating < game2.totalRating ? 0 : 1\r\n    })\r\n    return sortedGames\r\n}\r\n\r\nasync function sortByDownloads(games, isAscending = false) {\r\n    const downloadNumbers = await getGraphsDetails(games)\r\n    games.forEach((game) => {\r\n        game.downloadsCount = downloadNumbers[game.title]\r\n    });\r\n    const sortedGames = games.sort((game1, game2) => {\r\n        if (isAscending) {\r\n            return game1.downloadsCount < game2.downloadsCount ? -1 : game1.downloadsCount > game2.downloadsCount ? 0 : 1\r\n        }\r\n        return game1.downloadsCount > game2.downloadsCount ? -1 : game1.downloadsCount < game2.downloadsCount ? 0 : 1\r\n    })\r\n    return sortedGames\r\n}\r\n\r\nfunction _sortByPrice(games, isAscending) {\r\n    const sortedGames = games.sort((game1, game2) => {\r\n        if (isAscending) {\r\n            return game2.price > game1.price ? -1 : game2.price < game1.price ? 0 : 1\r\n        }\r\n        return game2.price < game1.price ? -1 : game2.price > game1.price ? 0 : 1\r\n    })\r\n    return sortedGames\r\n}\r\n\r\n\r\nfunction formatDate(date) {\r\n    const year = date.getFullYear()\r\n    const monthNames = [\r\n        \"Jan\", \"Feb\", \"Mar\", \"Apr\",\r\n        \"May\", \"Jun\", \"Jul\", \"Aug\",\r\n        \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n    let month = monthNames[date.getMonth()]\r\n    const fullDate = month + ' ' + year\r\n    return fullDate\r\n}\r\n\r\nasync function getGraphsDetails(games, type, time = 31) {\r\n    const prms = []\r\n    const ordersBy = {}\r\n    const gameByNameOrder = []\r\n    const ordersByGame = []\r\n    games.forEach((game) => {\r\n        prms.push(OrderService.query({\r\n            lastMonthId: dateByMillisecond(time),\r\n            gameIds: game._id\r\n        }))\r\n        gameByNameOrder.push(game.title)\r\n        ordersByGame.push(0)\r\n    })\r\n    const gameOrders = await Promise.all(prms)\r\n    gameOrders.forEach((orders, i) => {\r\n        return orders.forEach((order, idx) => {\r\n            const date = new Date(order.createdAt / 1)\r\n            let currOrderDate = date.getDate()\r\n            currOrderDate += `/${date.getMonth() + 1}`\r\n            let num = ordersBy[currOrderDate]\r\n            if (num && idx === 0) return\r\n            if (type === 'games') {\r\n                return ordersByGame[i] += 1\r\n            }\r\n            if (!num) {\r\n                ordersBy[gameByNameOrder[i]] = 1\r\n                return ordersBy[currOrderDate] = 1\r\n            }\r\n            ordersBy[gameByNameOrder[i]] = idx\r\n            return ordersBy[currOrderDate] = num + 1\r\n        })\r\n    })\r\n    if (type === 'games') return ordersByGame\r\n\r\n    return ordersBy\r\n}\r\n\r\nfunction formatGameRating(rating) {\r\n    if (rating > 50) {\r\n        return 'Really positive'\r\n    } else if (rating > 10) {\r\n        return 'Positive'\r\n    } else if (rating > -10) {\r\n        return 'Mixed'\r\n    } else if (rating > -50) {\r\n        return 'Negetive'\r\n    } else {\r\n        return 'Really negetive'\r\n    }\r\n}\r\n\r\n","import HttpService from './HttpService';\r\n\r\nexport default {\r\n  add,\r\n  query,\r\n  getById,\r\n  update,\r\n  remove\r\n};\r\n\r\n// const gGames = createGames();\r\n\r\nfunction query(filterBy = '') {\r\n  const games = HttpService.get('game', '', filterBy);\r\n  return games\r\n}\r\n\r\nasync function update(updatedGame){\r\n  const game = await HttpService.put(`game/${updatedGame._id}`, updatedGame);\r\n  return game\r\n  \r\n}\r\n\r\nasync function remove(gameId) {\r\n  return await HttpService.delete(`game/${gameId}`);\r\n}\r\n\r\nasync function add(game) {\r\n  const addedGame  = await HttpService.post(`game`, game);\r\n  return  addedGame\r\n}\r\n\r\nasync function getById(gameId) {\r\n  return HttpService.get(`game/${gameId}`);\r\n}","import GameService from '../services/GameService';\r\n\r\nfunction setGames(games) {\r\n    return {\r\n        type: 'SET_GAMES',\r\n        games\r\n    }\r\n}\r\n\r\nfunction setGame(game) {\r\n    return {\r\n        type: 'SET_GAME',\r\n        game\r\n    }\r\n}\r\n\r\nexport function loadGames(filterBy) {\r\n    return async dispatch => {\r\n        try {\r\n            const games = await GameService.query(filterBy);\r\n            dispatch(setGames(games));\r\n            return games\r\n        } catch (err) {\r\n            console.log('Had issues getting games', err);\r\n        }\r\n    };\r\n}\r\n\r\nexport function loadGame(id) {\r\n    return async dispatch => {\r\n        try {\r\n            const game = await GameService.getById(id);\r\n            dispatch(setGame(game));\r\n            return game\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    };\r\n}\r\n\r\nexport function updateGame(newGame) {\r\n    return async dispatch => {\r\n        try {\r\n            const game = await GameService.update(newGame);\r\n            dispatch(setGame(newGame));\r\n            return game\r\n        } catch (err) {\r\n        }\r\n    };\r\n}\r\n\r\nexport function updateComments(newGame) {\r\n    return  dispatch => {\r\n        try {\r\n            dispatch(setGame(newGame));\r\n            return newGame\r\n        } catch (err) {\r\n        }\r\n    };\r\n}\r\n\r\nfunction setFilter(filterBy) {\r\n    return {\r\n        type: 'SET_FILTER',\r\n        filterBy\r\n    }\r\n}\r\nexport function setFilterBy(filterBy) {\r\n    return (dispatch) => dispatch(setFilter(filterBy))\r\n}","import HttpService from './HttpService';\r\n\r\nexport default {\r\n  login,\r\n  signUp,\r\n  logout,\r\n  add,\r\n  remove,\r\n  getById,\r\n  update\r\n}\r\n\r\nasync function login(loginCred) {\r\n  const loggedInUser = await HttpService.post('auth/login', loginCred)\r\n  return loggedInUser\r\n}\r\n\r\nasync function signUp(signUpCred) {\r\n  const loggedInUser = await HttpService.post('auth/signup', signUpCred)\r\n  return loggedInUser\r\n}\r\n\r\nasync function logout() {\r\n  const loggedOutUser = await HttpService.post('auth/logout')\r\n  return loggedOutUser\r\n}\r\n\r\nasync function update(updatedUser) {\r\n  const user = await HttpService.put(`user/${updatedUser._id}`, updatedUser);\r\n  return user\r\n}\r\n\r\nfunction remove(userId) {\r\n  return HttpService.delete(`user/${userId}`);\r\n}\r\n\r\nasync function add(user) {\r\n  const addedUser = await HttpService.post(`user`, user);\r\n  return addedUser\r\n}\r\n\r\nasync function getById(userId) {\r\n  return HttpService.get(`user/${userId}`);\r\n}","import UserService from '../services/UserService';\r\n\r\nexport function login(cred) {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await UserService.login(cred);\r\n            dispatch(setUser(user));\r\n            return;\r\n        } catch (err) {\r\n            console.log(err);\r\n            throw err;\r\n        }\r\n    };\r\n}\r\n\r\nexport function logout() {\r\n    return async dispatch => {\r\n        try {\r\n            await UserService.logout();\r\n            dispatch(setUser(null))\r\n            return;\r\n        } catch (err) {\r\n            console.log('Had issues in logging out', err)\r\n            throw err;\r\n        }\r\n    };\r\n}\r\n\r\nexport function signUp(cred) {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await UserService.signUp(cred);\r\n            dispatch(setUser(user));\r\n            return;\r\n        } catch (err) {\r\n            console.log('Had issues in signing up', err)\r\n            throw err;\r\n        }\r\n    };\r\n}\r\n\r\n\r\nexport function loadUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await UserService.query(userId);\r\n            dispatch(setUser(user));\r\n            return;\r\n        } catch (err) {\r\n            console.log('Had issues in getting user', err)\r\n            throw err;\r\n        }\r\n    };\r\n}\r\n\r\nexport function updateUser(user) {\r\n    return async dispatch => {\r\n        try {\r\n            const updatedUser = await UserService.update(user);\r\n            dispatch(_updateUser(updatedUser));\r\n            return;\r\n        } catch (err) {\r\n            console.log('Had issues in updating user', err)\r\n            throw err;\r\n        }\r\n    };\r\n}\r\n\r\nexport function setUser(user) {\r\n    return {\r\n        type: 'SET_USER',\r\n        user\r\n    };\r\n}\r\n\r\nfunction _updateUser(user) {\r\n    return {\r\n        type: 'UPDATE_USER',\r\n        user\r\n    }\r\n}\r\n","function loadFromStorage(key) {\r\n    var val = localStorage.getItem(key)\r\n    return (val)? JSON.parse(val) : [];\r\n}\r\n\r\nfunction saveToStorage(key, val) {\r\n    localStorage[key] = JSON.stringify(val);\r\n}\r\n\r\nexport default {\r\n    loadFromStorage,\r\n    saveToStorage\r\n}","import StorageService from './StorageService'\r\n\r\nexport default {\r\n    query,\r\n    addToCart,\r\n    removeFromCart,\r\n    clear\r\n}\r\n\r\nfunction query() {\r\n    return StorageService.loadFromStorage('cart')\r\n}\r\n\r\nfunction addToCart(item) {\r\n    const cartItems = StorageService.loadFromStorage('cart')\r\n    try {\r\n        if (!cartItems.find((currItem) => item === currItem)) {\r\n            cartItems.push(item)\r\n            StorageService.saveToStorage('cart', cartItems)\r\n            return 'success'\r\n        }else {\r\n            const err = 'Already in the cart'\r\n            throw err\r\n        }\r\n    } catch (err) {\r\n        console.log('Already in the cart')\r\n        throw err\r\n    }\r\n}\r\n\r\nfunction removeFromCart(item) {\r\n    const cartItems = StorageService.loadFromStorage('cart')\r\n    const updatedCart = cartItems.filter((currItem) => currItem !== item)\r\n    StorageService.saveToStorage('cart', updatedCart)\r\n}\r\n\r\nfunction clear() {\r\n    StorageService.saveToStorage('cart', [])\r\n    return [];\r\n}","import CartService from '../services/CartService'\r\n\r\nexport function loadCart() {\r\n    return dispatch => {\r\n        const cart = CartService.query();\r\n        dispatch(_setCart(cart));\r\n    }\r\n}\r\n\r\nexport function clearCart() {\r\n    return dispatch => {\r\n        const cart = CartService.clear();\r\n        dispatch(_setCart(cart))\r\n    }\r\n}\r\n\r\nexport function removeGameFromCart(item) {\r\n    return dispatch => {\r\n        CartService.removeFromCart(item)\r\n        dispatch(_removeFromCart(item));\r\n    }\r\n}\r\n\r\nexport function addGameToCart(item) {\r\n    return dispatch => {\r\n        try {\r\n            CartService.addToCart(item)\r\n            dispatch(_addToCart(item))\r\n            return;\r\n        } catch (err) {\r\n            console.log(err);\r\n            throw err;\r\n        }\r\n    }\r\n}\r\n\r\nfunction _setCart(cart) {\r\n    return {\r\n        type: 'SET_CART',\r\n        cart\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction _addToCart(item) {\r\n    return {\r\n        type: 'ADD_TO_CART',\r\n        item\r\n    }\r\n}\r\n\r\nfunction _removeFromCart(item) {\r\n    return {\r\n        type: 'REMOVE_FROM_CART',\r\n        item\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { BarChart, Bar, XAxis, Tooltip } from 'recharts';\r\n\r\nexport default class Example extends Component {\r\n\r\n    state = { data: [] }\r\n\r\n    componentDidUpdate(prevprops) {\r\n        if (prevprops.gameOrders !== this.props.gameOrders) {\r\n            this.setData(this.props.gameOrders)\r\n        }\r\n    }\r\n\r\n    setData = (gameOrders) => {\r\n        const data = []\r\n        if (!this.props.game) return\r\n        for (let i = 30; i >= 0; i--) {\r\n            let date = new Date()\r\n            date.setDate(date.getDate() - i)\r\n            const formatDate = `${date.getDate()}/${date.getMonth() + 1}`\r\n            let orderCount\r\n            if (gameOrders[formatDate]) {\r\n                orderCount = gameOrders[formatDate]\r\n            } else {\r\n                orderCount = 0\r\n            }\r\n            data.push({ name: formatDate, income: this.props.game.price * orderCount })\r\n        }\r\n        this.setState({ data })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { data } = this.state\r\n        return (\r\n            <div className=\"flex column chart align-center\">\r\n                <strong className=\"small-chart-title\">Income distribution per day</strong>\r\n                <BarChart\r\n                    width={200}\r\n                    height={150}\r\n                    data={data}\r\n                    margin={{ top: 5, right: 5, left: 5, bottom: 5 }}>\r\n                    <XAxis dataKey=\"name\" />\r\n                    <Tooltip />\r\n                    <Bar stroke=\"#45667d\" dataKey=\"Income\" fill=\"#5c88a7\" />\r\n                </BarChart>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nexport default class Modal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.el = document.createElement('div');\r\n    }\r\n    \r\n    componentDidMount() {\r\n        modalRoot.appendChild(this.el);\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        modalRoot.removeChild(this.el);\r\n    }\r\n\r\n    render() {\r\n        return ReactDOM.createPortal(\r\n            this.props.children,\r\n            this.el\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport './_Notification.scss'\r\n\r\nexport default function Notification(props) {\r\n    return <div className=\"notification\">\r\n        <p>{props.modalTxt}</p>\r\n    </div>\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport history from '../../history'\r\n\r\nimport UtilService from '../../services/UtilService'\r\nimport UserService from '../../services/UserService'\r\nimport { removeGameFromCart, addGameToCart } from '../../actions/cartActions'\r\nimport TinyBarChart from '../charts/TinyBarChart'\r\n\r\nimport './_GamePreview.scss'\r\n\r\nimport full_heart from '../../assets/icons/full_heart.svg'\r\nimport empty_heart from '../../assets/icons/empty_heart.svg'\r\nimport remove_from_cart from '../../assets/icons/remove_from_cart.svg'\r\nimport edit_img from '../../assets/icons/edit.svg'\r\nimport Modal from '../modal/Modal'\r\nimport Notification from '../helpers/Notification'\r\nclass GamePreview extends Component {\r\n\r\n    state = {\r\n        publisherName: '',\r\n        gameOrders: null,\r\n        toggleModal: false,\r\n        modalTxt: ''\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { game } = this.props\r\n        const publisher = await UserService.getById(game.publisher)\r\n        const publisherName = publisher.userName\r\n        this.setState({ publisherName })\r\n        if (this.props.isDashboard) {\r\n            this.getDetailsForChart()\r\n        }\r\n    }\r\n\r\n    onOpenDetails = (gameId) => {\r\n        history.push(`/game/${gameId}`)\r\n    }\r\n    onOpenEdit = (ev) => {\r\n        ev.stopPropagation()\r\n        history.push(`/edit/${this.props.game._id}`)\r\n    }\r\n\r\n    onRemoveFromCart = (ev) => {\r\n        ev.stopPropagation();\r\n        this.props.onRemoveFromCart(this.props.game._id)\r\n        this.props.removeGameFromCart(this.props.game._id)\r\n    }\r\n\r\n    onPlayClick = (ev) => {\r\n        ev.stopPropagation()\r\n        history.push(`/play/${this.props.game._id}`)\r\n    }\r\n\r\n    getDetailsForChart = async () => {\r\n        const gameOrders = await UtilService.getGraphsDetails([this.props.game])\r\n        this.setState({ gameOrders })\r\n    }\r\n\r\n    toggleWishedGame = (ev) => {\r\n        const { user, game } = this.props\r\n        ev.stopPropagation();\r\n        let wishedGames = (user && user.wishedGames) || []\r\n        let updatedUser\r\n        const idx = wishedGames.findIndex(id => id === game._id)\r\n        if (idx === -1) {\r\n            updatedUser = { ...user, wishedGames: [...wishedGames, game._id] }\r\n        } else {\r\n            updatedUser = { ...user, wishedGames: wishedGames.filter(wishedGame => wishedGame !== game._id) }\r\n        }\r\n        this.setState({\r\n            modalTxt: 'Wishlist has been updated',\r\n            toggleModal: true\r\n        }, this.onToggleModal())\r\n\r\n        this.props.onUpdateUser(updatedUser)\r\n    }\r\n\r\n    onAddToCart = (ev) => {\r\n        ev.stopPropagation();\r\n        try {\r\n            this.props.addGameToCart(this.props.game._id)\r\n            this.setState({\r\n                modalTxt: 'Game has been added to the cart',\r\n                toggleModal: true\r\n            }, this.onToggleModal())\r\n        } catch {\r\n            this.setState({\r\n                modalTxt: 'Game is already in the cart',\r\n                toggleModal: true\r\n            }, this.onToggleModal())\r\n        }\r\n    };\r\n\r\n    onToggleModal = () => {\r\n        setTimeout(() => {\r\n            this.setState(prevState => ({ toggleModal: !prevState.toggleModal }))\r\n        }, 2000)\r\n    }\r\n\r\n    render() {\r\n        const { game, user, isProfile, isDashboard, isModal, isWishList } = this.props\r\n        const { gameOrders, toggleModal, modalTxt } = this.state\r\n        const review = UtilService.formatGameRating((UtilService.getGameRating(game)))\r\n        return (\r\n            <li className={isDashboard ? \"game-card flex column dsh-game-card\" : isModal ? \"modal-card flex modal-game-container\" : \"game-card\"} onClick={() => this.onOpenDetails(game._id)}>\r\n                {!isDashboard ? <div className={\"img-container\"}><img alt=\"thumbnail\" className=\"game-thumbnail\" src={game.thumbnail}></img></div> :\r\n                    <TinyBarChart game={game} gameOrders={gameOrders} />}\r\n                <section className=\"details-container flex column\">\r\n                    <div className=\"full\">\r\n                        <div className={isModal ? \"flex align-center column\" : \"flex align-center\"}>\r\n                            <strong className={isModal || isDashboard ? 'short-title' : \"full game-title\"} title={game.title}>{game.title}</strong>\r\n                            {isProfile && isDashboard && <p className=\"price\">${game.price}</p>}\r\n\r\n                            {!isProfile && !isModal &&\r\n                                <img alt=\"like\" className={isModal ? 'flex align-self-end like-icon' : \"like-icon\"} onClick={this.toggleWishedGame} src={user && user.wishedGames.find(wishedGame => wishedGame === game._id) ?\r\n                                    full_heart : empty_heart} />}\r\n                        </div>\r\n                        {!isModal && !isDashboard &&\r\n                            <strong className=\"publisher\">{this.state.publisherName}</strong>}\r\n                    </div>\r\n                    <div className={!isProfile ? \"flex space-between align-end\" : 'flex  align-end\" flex-end'}>\r\n                        {!isProfile && <p className=\"price\">${game.price}</p>}\r\n                        {!isProfile && !isModal &&\r\n                            <p className=\"rating\">{review} ({game.reviews.length})</p>}\r\n                        {isModal && !isWishList && <img alt=\"remove\" src={remove_from_cart} className=\"pointer like-icon\" onClick={this.onRemoveFromCart} />}\r\n                        {isProfile && !isDashboard && <div className=\"play-btn-container flex flex-end\">\r\n                            <button title=\"Play\" className=\"play-btn\" onClick={this.onPlayClick}>Play</button></div>}\r\n                        {isProfile && isDashboard && <button title=\"Edit\" className=\"btn\" onClick={this.onOpenEdit}><img alt=\"\" src={edit_img} /></button>}\r\n                        {isWishList &&\r\n                            <img alt=\"like\" className={isModal ? 'flex align-self-end like-icon' : \"like-icon\"} onClick={this.toggleWishedGame} src={user && user.wishedGames.find(wishedGame => wishedGame === game._id) ?\r\n                                full_heart : empty_heart} />}\r\n                        {isWishList &&\r\n\r\n                            <button type=\"primary\" className='buy-btn' onClick={this.onAddToCart}>Add to cart </button>}\r\n                        {toggleModal && <Modal><Notification modalTxt={modalTxt} toggleModal={this.onToggleModal} /></Modal>}\r\n\r\n                    </div>\r\n                </section >\r\n            </li >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        cart: state.cartStore.cart\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    removeGameFromCart,\r\n    addGameToCart\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(GamePreview)\r\n","import GamePreview from '../game-preview/GamePreview'\r\nimport React from 'react'\r\n\r\nexport default function GameList(props) {\r\n    const { games, user, } = props;\r\n    return <ul className={props.isHomepage ? \"hp-cards-container clean-list container\" : props.isModal ? \"clean-list modal-cards\" : \"cards-container clean-list container\"}>\r\n        {games?.map((game) => {\r\n            return <GamePreview\r\n                isModal={props.isModal}\r\n                game={game}\r\n                user={user}\r\n                key={game._id}\r\n                isProfile={props.isProfile}\r\n                isHomepage={props.isHomepage}\r\n                isDashboard={props.isDashboard}\r\n                onUpdateUser={props.onUpdateUser}\r\n                onRemoveFromCart={props.onRemoveFromCart}\r\n                isWishList={props.isWishList}\r\n            >\r\n            </GamePreview>\r\n        })}\r\n    </ul >\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\n\r\nimport UtilService from '../../services/UtilService';\r\nimport { loadGames } from '../../actions/gameActions';\r\nimport { updateUser } from '../../actions/userActions'\r\nimport GameList from '../../cmps/game-list/GameList'\r\n\r\nimport './_HomePage.scss'\r\nclass HomePage extends Component {\r\n  state = {\r\n    Popularity: [],\r\n    ReleaseDate: [],\r\n    Rating: []\r\n  }\r\n\r\n  async componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n    await this.props.loadGames()\r\n    this.setGames('Popularity')\r\n    this.setGames('ReleaseDate')\r\n    this.setGames('Rating')\r\n  }\r\n\r\n  onUpdateUser = async (updatedUser) => {\r\n    this.props.updateUser(updatedUser)\r\n  }\r\n\r\n  setGames = async (sortBy, num = 4) => {\r\n    const games = [...this.props.games]\r\n    const sortedGames = await UtilService.sortGames(games, sortBy)\r\n    sortedGames.splice(num, games.length)\r\n    this.setState({ [sortBy]: sortedGames })\r\n  }\r\n\r\n\r\n  render() {\r\n    const { Popularity, ReleaseDate, Rating } = this.state\r\n    return (\r\n      <div className=\"homepage-container content-container container full\">\r\n        <div className=\"hero-text flex column totally-center\">\r\n          <h1 className=\"main-heading\">Gamein</h1>\r\n          <p>The ultimate destination for buying, discussing, and playing games</p>\r\n          <Link to=\"/game\" onClick={this.on} className=\"hero-btn\">To the shop</Link>\r\n        </div>\r\n        <div>\r\n          <div className=\"flex  heading space-between\">\r\n          <p >Most Popular</p>\r\n          <Link to='/game?sortBy=Popularity'>See More </Link>\r\n          </div>\r\n          <GameList isHomepage={true} user={this.props.user} onUpdateUser={this.onUpdateUser} games={Popularity} />\r\n        </div>\r\n        <div>\r\n        <div className=\"flex  heading space-between\">\r\n          <p >Recently Released</p>\r\n          <Link to='/game?sortBy=ReleaseDate'>See More </Link>\r\n          </div>\r\n          <GameList isHomepage={true} user={this.props.user} onUpdateUser={this.onUpdateUser} games={ReleaseDate} />\r\n        </div>\r\n        <div>\r\n        <div className=\"flex  heading space-between\">\r\n          <p>Top Rated</p>\r\n          <Link to='/game?sortBy=Rating'>See More </Link>\r\n          </div>\r\n          <GameList isHomepage={true} user={this.props.user} onUpdateUser={this.onUpdateUser} games={Rating} />\r\n        </div>\r\n      </div>)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    games: state.gameStore.games,\r\n    user: state.userStore.loggedInUser\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  loadGames,\r\n  updateUser\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(HomePage);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport history from '../../history';\r\n\r\nimport { login } from '../../actions/userActions';\r\n\r\nimport './_Login.scss'\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    loginCred: {\r\n      userName: '',\r\n      password: ''\r\n    },\r\n    isIncorrectInput: false\r\n  };\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  loginHandleChange = ev => {\r\n    const { name, value } = ev.target;\r\n    this.setState(prevState => ({\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  doLogin = async ev => {\r\n    ev.preventDefault();\r\n    const { userName, password } = this.state.loginCred;\r\n    if (!userName || !password) {\r\n      return console.log('all details are required');\r\n    }\r\n    const userCreds = { userName, password };\r\n\r\n    try {\r\n      await this.props.login(userCreds);\r\n      this.setState({ loginCred: { userName: '', password: '' } }, () => history.push('/'));\r\n    } catch (err) {\r\n      this.setState({ isIncorrectInput: true })\r\n      console.log('Had issues while logging in ')\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { loggedInUser } = this.props\r\n    const loginSection = (\r\n      <form className=\"login-form flex column justify-center align-center\" onSubmit={this.doLogin}>\r\n        <input className=\"login-input input\" type=\"text\" name=\"userName\" value={this.state.loginCred.userName}\r\n          onChange={this.loginHandleChange} placeholder=\"User name\" />\r\n        <input className=\"login-input input\" type=\"password\" name=\"password\" value={this.state.loginCred.password}\r\n          onChange={this.loginHandleChange} placeholder=\"Password\" />\r\n        {this.state.isIncorrectInput && <strong className=\"wrong-input\">Wrong username/password please try again.</strong>}\r\n        <button className=\"login-btn btn\">Login</button>\r\n        <p>Not with us yet ?</p>\r\n        <button className=\"login-btn btn\" onClick={() => history.push('/sign-up')}>Join</button>\r\n      </form>\r\n    );\r\n\r\n    return (\r\n      <div className=\"login-container content-container flex column justify-center align-center container\">\r\n        <img className=\"login-logo\" alt=\"logo\" src=\"/logo.png\" width=\"100px\" />\r\n        {(!loggedInUser || !loggedInUser.userName) && loginSection}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedInUser: state.userStore.loggedInUser\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  login\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Login);\r\n","import Axios from 'axios';\r\n\r\nexport default async function uploadImg(files) {\r\n    const prms = []\r\n    for (let i = 0; i < files.length; i++) {\r\n        const CLOUD_NAME = 'dfdvfunfj';\r\n        const PRESET_NAME = 'zc8aff64';\r\n        const type = files[i].type.split('/')\r\n        const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/${type[0]}/upload`;\r\n        const formData = new FormData();\r\n        formData.append('file', files[i])\r\n        formData.append('upload_preset', PRESET_NAME);\r\n        try {\r\n            prms.push(Axios.post(UPLOAD_URL, formData)\r\n            )\r\n        } catch (err) {\r\n            console.log('Had issues uploading to cloudinary', err);\r\n        }\r\n\r\n    }\r\n    const filesData = await Promise.all(prms)\r\n    const urls = filesData.map((file) => {\r\n        return file.data.url\r\n    })\r\n    return urls\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport history from '../../history';\r\n\r\nimport './_SignUp.scss'\r\nimport MediaUploadService from '../../services/MediaUploadService';\r\nimport { signUp } from '../../actions/userActions';\r\n\r\nclass SignUp extends Component {\r\n  state = {\r\n    signUpCred: {\r\n      fullName: '',\r\n      userName: '',\r\n      password: '',\r\n      about: '',\r\n      imgUrl: ''\r\n    },\r\n    isLoadingImg: false\r\n\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  addMediaAndTags = async ev => {\r\n    this.setState({ isLoadingImg: true })\r\n    const imgUrl = await MediaUploadService(ev.target.files);\r\n    return this.setState({ imgUrl: imgUrl[0], isLoadingImg: false })\r\n  }\r\n\r\n  signUpHandleChange = ev => {\r\n    const { name, value } = ev.target;\r\n    this.setState(prevState => ({\r\n      signUpCred: {\r\n        ...prevState.signUpCred,\r\n        [name]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  doSignUp = async ev => {\r\n    ev.preventDefault();\r\n    const { fullName, userName, password, about } = this.state.signUpCred;\r\n    if (!fullName || !userName || !password || !about) {\r\n      return console.log('all inputs are required fullName, userName, password, about', fullName, userName, password, about);\r\n    }\r\n    const signUpCreds = { fullName, userName, password, about, imgUrl: this.state.imgUrl };\r\n    try {\r\n      await this.props.signUp(signUpCreds);\r\n      this.setState({ signUpCred: { fullName: '', password: '', userName: '', about: '', imgUrl: '' } }, () => history.push('/'));\r\n    } catch (err) {\r\n      throw err\r\n    }\r\n  };\r\n\r\n  removeImg = () => {\r\n    return this.setState({ imgUrl: '' })\r\n  };\r\n\r\n  render() {\r\n    const { imgUrl, isLoadingImg } = this.state\r\n    const { loggedInUser } = this.props\r\n    let imgPreview = ''\r\n    if (imgUrl) {\r\n      imgPreview = <div className=\"media-container\">\r\n        <img src={imgUrl} className='signup-img' alt=\"\" />\r\n        <span className=\"pointer\"\r\n          onClick={this.removeImg}>X</span>\r\n      </div>\r\n    }\r\n    const signUpSection = (\r\n      <form className='signup-form flex column align-center' onSubmit={this.doSignUp}>\r\n        <input type=\"text\" className='input' name=\"fullName\" value={this.state.signUpCred.fullName}\r\n          onChange={this.signUpHandleChange} placeholder=\"Full Name\" />\r\n        <br />\r\n        <input type=\"text\" className='input' name=\"userName\" value={this.state.signUpCred.userName}\r\n          onChange={this.signUpHandleChange} placeholder=\"UserName\" />\r\n        <br />\r\n        <input type=\"password\" className='input' name=\"password\" value={this.state.signUpCred.password}\r\n          onChange={this.signUpHandleChange} placeholder=\"Password\" />\r\n        <br />\r\n        <input type=\"text\" className='input' name=\"about\" value={this.state.signUpCred.about}\r\n          onChange={this.signUpHandleChange} placeholder=\"About\" />\r\n        <br />\r\n        <input type=\"file\" className='hidden' name=\"imgUrl\" placeholder=\"Profile Image\"\r\n          onChange={this.addMediaAndTags} id='upload' />\r\n        <label htmlFor='upload' className='input pointer upload-button flex' >\r\n      <img alt='' src='https://pngimage.net/wp-content/uploads/2018/06/png-upload-4.png' />\r\n        Upload Img</label>\r\n        {imgPreview}\r\n        <br />\r\n        {(imgPreview && <button className='signup-btn'>Join</button>)}\r\n      </form>\r\n    );\r\n\r\n    return (\r\n      <div className='content-container signup-container flex column align-center'>\r\n        <img className=\"signup-logo\" alt=\"logo\" src=\"/logo.png\" width=\"100px\" />\r\n        {isLoadingImg && <div className='loader'></div>}\r\n        {(!loggedInUser || !loggedInUser.userName) && signUpSection}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedInUser: state.userStore.loggedInUser\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  signUp\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SignUp);\r\n","import React, { Component } from 'react'\r\n\r\nimport './_Filter.scss'\r\nimport up_down_arrows from '../../assets/icons/up_down_arrows.svg'\r\n\r\nexport default class Filter extends Component {\r\n    state = {\r\n        title: '',\r\n        tag: '',\r\n        filterBy: 'title',\r\n        sortBy: '',\r\n        isAscending: false,\r\n        isShown: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const query = window.location.search\r\n        const sortBy = new URLSearchParams(query).get('sortBy')\r\n        this.setState({ sortBy })\r\n    }\r\n\r\n    inputChange = ev => {\r\n        let { name, value } = ev.target;\r\n        if (name === 'filterBy') {\r\n            return this.setState({ title: '', tag: '', filterBy: value }, () => this.onFilterBy())\r\n        }\r\n        if (name === 'sortBy') {\r\n            return this.setState(prevState => ({ sortBy: value, isShown: !prevState.isShown }), this.onFilterBy);\r\n        }\r\n        this.setState({ [this.state.filterBy]: value }, this.onFilterBy);\r\n    };\r\n\r\n    onFilterBy = () => {\r\n        this.props.onFilterBy(this.state)\r\n    }\r\n\r\n    changeOrder = () => {\r\n        this.setState((prevState) => ({ ...prevState, isAscending: !prevState.isAscending }), this.onFilterBy)\r\n    }\r\n\r\n    render() {\r\n        const { filterBy, sortBy, isShown } = this.state\r\n        return (\r\n            <div className=\"search-filter-container totally-center\">\r\n                <div className=\"search-container flex\">\r\n                    <input className=\"search-input input\" value={this.state[filterBy]}\r\n                        type=\"search\" placeholder={`Search by ${filterBy}`} onChange={this.inputChange} />\r\n                    <input className=\"hidden\" name=\"filterBy\" onChange={this.inputChange} defaultChecked id=\"title\" value=\"title\" type=\"radio\" />\r\n                    <label className=\"btn title-btn pointer\" htmlFor=\"title\"> Title</label>\r\n                    <input className=\"hidden\" onChange={this.inputChange} name=\"filterBy\" id=\"tag\" value=\"tag\" type=\"radio\" />\r\n                    <label className=\"btn tag-btn pointer\" htmlFor=\"tag\"> Tag </label>\r\n                </div>\r\n                <div className='flex'>\r\n                    <div className=\"filter-container flex column \">\r\n                        <button htmlFor=\"sortBy\" onClick={() => this.setState(prevState => ({ isShown: !prevState.isShown }))} className={isShown ? \"btn sort-by pointer sort-by-checked\" : \"btn sort-by pointer\"}>\r\n                            {sortBy !== '' ? sortBy === \"ReleaseDate\" ? \"Release Date\" : sortBy : \"Sort by\"}\r\n                        </button>\r\n                        {isShown && <div className=\"sort-by-inputs\">\r\n                            <button className=\"pointer sort-by-button\" name=\"sortBy\" onClick={this.inputChange} value=\"ReleaseDate\" >\r\n                                Release Date\r\n                            </button>\r\n                            <button className=\"pointer sort-by-button\" name=\"sortBy\" onClick={this.inputChange} value=\"Popularity\" >\r\n                                Popularity\r\n                        </button>\r\n                            <button className=\"pointer sort-by-button\" name=\"sortBy\" onClick={this.inputChange} value=\"Rating\"  >\r\n                                Rating\r\n                        </button>\r\n                            <button className=\"pointer sort-by-button\" onClick={this.inputChange} name=\"sortBy\" value=\"Price\">\r\n                                Price\r\n                        </button>\r\n                        </div>\r\n                        }\r\n                    </div>\r\n                    <button className=\"btn order-btn\" onClick={this.changeOrder}><img alt=\"\" src={up_down_arrows} /></button>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadGames } from '../../actions/gameActions';\r\nimport { updateUser } from '../../actions/userActions';\r\n\r\nimport Filter from '../../cmps/filter/Filter';\r\nimport GameList from '../../cmps/game-list/GameList';\r\nimport UtilService from '../../services/UtilService';\r\n\r\nimport './_Explore.scss'\r\n\r\nclass Explore extends Component {\r\n    state = { games: null }\r\n\r\n    componentDidMount = async () => {\r\n        window.scrollTo(0, 0);\r\n        const query=window.location.search\r\n        const filterBy = {sortBy:new URLSearchParams(query).get('sortBy')}\r\n        this.onFilterBy(filterBy)\r\n    }\r\n\r\n    onUpdateUser = async (updatedUser) => {\r\n        this.props.updateUser(updatedUser)\r\n    }\r\n\r\n    onFilterBy = async (filterBy = {}) => {\r\n        const games = await this.props.loadGames({ ...filterBy })\r\n        if (filterBy.sortBy) {\r\n            const sortedGames = await UtilService.sortGames(games, filterBy.sortBy, filterBy.isAscending)\r\n            this.setState({ games: sortedGames })\r\n        } else {\r\n            this.setState({ games })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { games } = this.state\r\n        return <div className=\"content-container flex column container align-center\">\r\n            <Filter onFilterBy={this.onFilterBy} />\r\n            <GameList history={this.props.history} user={this.props.user} onUpdateUser={this.onUpdateUser} games={games} />\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        games: state.gameStore.games,\r\n        user: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadGames,\r\n    updateUser\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Explore);","import React,{ Component } from \"react\";\r\n\r\n\r\n\r\n\r\nexport default class LongTxt extends Component {\r\n\r\n    state = {\r\n        isLongTxtShown: this.props.isLongTxtShown\r\n    }\r\n\r\n    getText = () => {\r\n        return (this.state.isLongTxtShown) ? this.props.text : this.props.text.substring(0, this.props.shortLength);\r\n    }\r\n\r\n    handleReadMore = () => {\r\n        this.setState(prevstate => ({ isLongTxtShown: !prevstate.isLongTxtShown }))\r\n    }\r\n\r\n    getButtonTxt() {\r\n        return this.state.isLongTxtShown ? '': '...'\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <span className=\"read-more\" onClick={this.handleReadMore}>       \r\n                {this.getText()}\r\n                {this.props.text.length >= this.props.shortLength &&\r\n                    <span className=\"read-more-button\">\r\n                    {this.getButtonTxt()}\r\n                    </span>}\r\n            </span>\r\n        )\r\n    }\r\n}","import React, { PureComponent } from 'react';\r\nimport {\r\n  AreaChart, Area, XAxis, YAxis, Tooltip,\r\n} from 'recharts';\r\n\r\nexport default class Graph extends PureComponent {\r\n  state = { data: [{ name: '0', purcheses: 0 }] }\r\n\r\n  componentDidUpdate(prevprops) {\r\n    if (prevprops.orderDates !== this.props.orderDates) {\r\n      this.setData(this.props.orderDates)\r\n    }\r\n  }\r\n\r\n  setData = (purchases) => {\r\n    const data = []\r\n    if (!this.props.games.length) return\r\n    for (let i = 29; i >= 0; i--) {\r\n      let date = new Date()\r\n      date.setDate(date.getDate() - i)\r\n      const formatDate = `${date.getDate()}/${date.getMonth() + 1}`\r\n      let price\r\n      if (purchases[formatDate]) {\r\n        price = purchases[formatDate]\r\n      } else {\r\n        price = 0\r\n      }\r\n      data.push({ name: formatDate, purchases: price })\r\n    }\r\n    this.setState({ data })\r\n  }\r\n\r\n  render() {\r\n    const { data } = this.state\r\n    return (\r\n      <div className=\"flex column chart align-center\">\r\n        <strong className=\"chart-title\">Downloads distribution per day</strong>\r\n        <AreaChart\r\n          width={350}\r\n          height={300}\r\n          data={data}\r\n          margin={{\r\n            top: 10, right: 30, left: 0, bottom: 0,\r\n          }}\r\n        >\r\n          <XAxis dataKey=\"name\" />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Area type=\"monotone\" dataKey=\"purchases\" stroke=\"#517692\" fill=\"#6899bc\" />\r\n        </AreaChart>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { PureComponent } from 'react';\r\nimport { PieChart, Pie, Tooltip } from 'recharts';\r\n\r\nimport './_charts.scss'\r\n\r\nexport default class PieCharts extends PureComponent {\r\n  state = {\r\n    data: [{ fill: '#16578F', name: 'publish Games', value: 1 }],\r\n    gameTitles: null,\r\n    colors: ['#6899bc', '#517692', '#3a5568', '#81b2d5', '#2e4453',\r\n      '#1b2a49', '#465881', '#00909e', '#c9d1d3']\r\n  }\r\n\r\n  componentDidUpdate(prevprops) {\r\n    if (prevprops.sumOfGames !== this.props.sumOfGames) {\r\n      this.setData(this.props.sumOfGames)\r\n    }\r\n  }\r\n\r\n  setData = (sum) => {\r\n    const { colors } = this.state\r\n    const data = []\r\n    const gameTitles = []\r\n    this.props.games.forEach((game, i) => {\r\n      if (!sum[i]) return\r\n      if (!this.props.user && i > 3) return\r\n      gameTitles.push(game.title)\r\n      data.push({ fill: colors[i], name: game.title, value: sum[i] })\r\n    })\r\n    this.setState({ data, gameTitles })\r\n  }\r\n\r\n  renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\r\n    const RADIAN = Math.PI / 180;\r\n    const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n    return (\r\n      <text x={x < 110 && y > 110 ? x - 13.5 : x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n        {`${(percent * 100).toFixed(0)}%`}\r\n      </text>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { data, gameTitles, colors } = this.state\r\n\r\n    return (\r\n      <div className=\"flex column chart align-center\">\r\n        <strong className=\"chart-title\">Income distribution per game</strong>\r\n        <div className=\"flex column align-center\">\r\n          <PieChart width={250} height={250}>\r\n            <Pie\r\n              dataKey=\"value\"\r\n              isAnimationActive={true}\r\n              data={data}\r\n              cx={100}\r\n              cy={100}\r\n              outerRadius={100}\r\n              fill=\"#8884d8\"\r\n              labelLine={false}\r\n              label={this.renderCustomizedLabel} />\r\n            <Tooltip />\r\n          </PieChart>\r\n          <div className=\"legend flex wrap\">\r\n            {gameTitles && gameTitles.map((title, i) => {\r\n              return <div className=\"legend-item flex\" key={title}>\r\n                <div className=\"menu-color\" style={{ background: colors[i], width: \"20px\", height: \"20px\" }}></div>\r\n                <div className=\"title\">{title}</div>\r\n              </div>\r\n            })}\r\n          </div>\r\n        </div >\r\n      </div >\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport './_InfoCard.scss';\r\n\r\nexport default function InfoCard(props) {\r\n    return (\r\n        <div className='info-card flex column align-center'>\r\n            <p>\r\n                {props.children}\r\n            </p>\r\n            <p className=\"data\">\r\n                {props.children.includes('Earned') && '$'}{props.data}\r\n            </p>\r\n        </div>)\r\n\r\n}\r\n","import io from 'socket.io-client';\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === 'production' ? '/' : '//localhost:3030';\r\n\r\nlet socket;\r\n\r\nexport default {\r\n  setup,\r\n  terminate,\r\n  on,\r\n  off,\r\n  emit\r\n};\r\n\r\nfunction setup() {\r\n  socket = io(BASE_URL);\r\n}\r\n\r\nfunction terminate() {\r\n  socket = null;\r\n}\r\n\r\nfunction on(eventName, cb) {\r\n  socket.on(eventName, cb);\r\n}\r\n\r\nfunction off(eventName, cb) {\r\n  socket.off(eventName, cb);\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n  socket.emit(eventName, data);\r\n}\r\n","\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport UtilService from '../../services/UtilService';\r\nimport { loadGames } from '../../actions/gameActions';\r\n\r\nimport GameList from '../game-list/GameList';\r\nimport AreaChart from '../charts/AreaChart';\r\nimport PieChart from '../charts/PieChart';\r\nimport InfoCard from '../info-card/InfoCard';\r\n\r\nimport './_Dashboard.scss'\r\n\r\n\r\nclass Dashboard extends Component {\r\n    state = {\r\n        orders: null,\r\n        filterBy: {\r\n            _id: '',\r\n        },\r\n        sumOfGames: [],\r\n        monthMoneySum: null,\r\n        downloadsByMonth: null,\r\n        downloadsByWeek: null\r\n    }\r\n\r\n    getGraphsDetails = async () => {\r\n        const ordersBy = await UtilService.getGraphsDetails(this.props.games)\r\n        this.setState({ orders: ordersBy })\r\n    }\r\n\r\n    getWeekInfo = async () => {\r\n        const downloadsSum = await UtilService.getGraphsDetails(this.props.games, 'games', 7)\r\n        const downloadsByWeek = downloadsSum.reduce((acc, gameSum) => {\r\n            return acc += gameSum\r\n        }, 0).toLocaleString()\r\n        this.setState({ downloadsByWeek })\r\n    }\r\n\r\n    getMonthInfo = async () => {\r\n        const sumOfGames = await UtilService.getSum(this.props.games)\r\n        const monthMoneySum = sumOfGames.sum.reduce((acc, gameSum) => {\r\n            return acc += gameSum\r\n        }, 0).toLocaleString()\r\n        const downloadsByMonth = sumOfGames.downloadsByGame.reduce((acc, gameSum) => {\r\n            return acc += gameSum\r\n        }, 0).toLocaleString()\r\n        this.setState({ sumOfGames: sumOfGames.sum, monthMoneySum, downloadsByMonth })\r\n    }\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if (prevProps.games.length !== this.props.games.length) {\r\n            this.getGraphsDetails()\r\n            this.getWeekInfo()\r\n            this.getMonthInfo()\r\n        }\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        if (this.props.loggedInUser) {\r\n            const _id = this.props.loggedInUser._id\r\n            this.setState({\r\n                filterBy: {\r\n                    _id\r\n                }\r\n            }, async () => {\r\n                await this.props.loadGames(this.state.filterBy)\r\n            })\r\n        } else {\r\n            this.props.loadGames()\r\n        }\r\n         this.getGraphsDetails()\r\n        this.getWeekInfo()\r\n        this.getMonthInfo()\r\n    }\r\n\r\n    render() {\r\n        const { orders, sumOfGames, monthMoneySum, downloadsByMonth, downloadsByWeek } = this.state\r\n        let gameList\r\n        if (this.props.loggedInUser) {\r\n            gameList = (<div className=\"games-container flex column totally-center\">\r\n                <h3 className=\"data-header\">Per Game</h3>\r\n                <GameList isDashboard={true} isProfile={true} games={this.props.games} />\r\n            </div>\r\n            )\r\n            if (!this.props.games.length) {\r\n                return <div className=\"container dashboard-container flex column align-center\">\r\n                    <h3 className=\"dashboard-header\">Publish games to see more</h3>\r\n                </div>\r\n            }\r\n        }\r\n        return (<div className=\"container dashboard-container flex column align-center\">\r\n            {!this.props.loggedInUser ? <h3 className=\"dashboard-header\">This is a demo of the dashboard, login to see your data</h3> : <h3 className=\"data-header\">For All Games</h3>}\r\n            <div className='flex info-cards-container'>\r\n                <InfoCard data={monthMoneySum}>Earned this month:</InfoCard>\r\n                <InfoCard data={downloadsByMonth}>Downloads this month:</InfoCard>\r\n                <InfoCard data={downloadsByWeek}>Downloads this week:</InfoCard>\r\n            </div>\r\n            <div className=\"charts-container flex wrap\">\r\n                <AreaChart games={this.props.games} orderDates={orders} />\r\n                <PieChart user={this.props.loggedInUser} games={this.props.games} sumOfGames={sumOfGames} />\r\n            </div>\r\n            {gameList}\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        games: state.gameStore.games,\r\n        loggedInUser: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadGames\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Dashboard);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport GameList from '../game-list/GameList';\r\nimport Filter from '../filter/Filter'\r\n\r\n\r\nimport './_OwnedGames.scss'\r\nimport { loadGames } from '../../actions/gameActions';\r\nimport OrderService from '../../services/OrderService';\r\nimport UtilService from '../../services/UtilService';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass OwnedGames extends Component {\r\n    state = { games: [], gamesIds: [] }\r\n\r\n    componentDidMount = async () => {\r\n        const gamesIds = []\r\n        if (this.props.user) {\r\n            const orders = await OrderService.query({ orderBy: this.props.user._id })\r\n            orders.forEach((order) => {\r\n                order.gameIds.forEach((gameId) => {\r\n                    gamesIds.push(gameId)\r\n                })\r\n            })\r\n        }\r\n        if (gamesIds.length) {\r\n            const games = await this.props.loadGames({ shoppingCartIds: gamesIds })\r\n            this.setState({ games, gamesIds })\r\n        }\r\n    }\r\n    onFilterBy = async (filterBy = {}) => {\r\n        if (!this.state.gamesIds.length) return\r\n        filterBy.gamesIds = this.state.gamesIds\r\n        await this.props.loadGames({ ...filterBy, shoppingCartIds: this.state.gamesIds })\r\n        if (filterBy.sortBy) {\r\n            const sortedGames = await UtilService.sortGames(this.state.games, filterBy.sortBy, filterBy.isAscending)\r\n            this.setState({ games: sortedGames })\r\n        } else {\r\n            this.setState({ games: this.props.games })\r\n        }\r\n    }\r\n    render() {\r\n        const { games } = this.state\r\n        return (\r\n            <div className=\"flex column align-center container\">\r\n                <Filter onFilterBy={this.onFilterBy}></Filter>\r\n                <GameList isProfile={true} history={this.props.history} games={games}></GameList>\r\n                {this.props.user ? this.props.user.userName ?\r\n                    <div className='publish-button btn'>\r\n                        <Link to='/edit'>Publish a game</Link>\r\n                    </div>\r\n                    : ''\r\n                    : ''}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        games: state.gameStore.games,\r\n        user: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadGames\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(OwnedGames);\r\n","import Dashboard from '../dashboard/Dashboard';\r\nimport OwnedGames from '../owned-games/OwnedGames';\r\n\r\nexport default  {\r\n    Dashboard,\r\n    OwnedGames\r\n}","import React, { Component } from 'react';\r\n\r\nimport DynamicTabMap from './DynamicTabMap.js'\r\n\r\nexport default class DynamicTabPrev extends Component {\r\n    getComponent() {\r\n        return DynamicTabMap[this.props.mode]\r\n    }\r\n\r\n    render() {\r\n        const Cmp = this.getComponent();\r\n        return <React.Fragment>\r\n            <Cmp history={this.props.history}></Cmp>\r\n        </React.Fragment>\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { Icon } from 'antd';\r\n\r\nimport LongText from '../../cmps/helpers/LongTxt'\r\nimport UtilService from '../../services/UtilService'\r\nimport DynamicTabPrev from '../../cmps/dynamic-cmps/DynamicTabPrev';\r\n\r\nimport './_ProfilePage.scss'\r\nclass ProfilePage extends Component {\r\n  state = {\r\n    mode: 'OwnedGames',\r\n    user: {\r\n      \"_id\": \"null\",\r\n      \"fullName\": \"Guest\",\r\n      \"userName\": \"Guest\",\r\n      \"about\": \"Guest\",\r\n      \"createdAt\": 123879186123,\r\n      \"imgUrl\": \"http://keenthemes.com/preview/metronic/theme/assets/pages/media/profile/profile_user.jpg\",\r\n      \"desiredGames\": [{ game: 'gta' }],\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.scrollTo(0,0);\r\n    if (this.props.loggedInUser && this.props.loggedInUser.userName) this.setState({ user: this.props.loggedInUser })\r\n  }\r\n\r\n  updateMode = (ev) => {\r\n    let mode = ev.target.value\r\n    this.setState({ mode })\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.state\r\n    if (user._id !== 'null') user.createdAt = UtilService.formatDate(UtilService.dateFromObjectId(user._id))\r\n    else user.createdAt = 'Dec 2013'\r\n    return (\r\n      <div className=\"profile-container\">\r\n        <div className=\"user-card flex align-center container\">\r\n          <img className=\"user-img small\" alt=\"\" src={user.imgUrl} />\r\n          <div className=\"user-details\">\r\n            <strong>{user.userName}</strong>\r\n            <small>{user.createdAt}</small>\r\n            <div>\r\n            <LongText shortLength={100} isLongTxtShown={false} text={user.about}/>\r\n            </div>\r\n          </div>\r\n          <Icon title=\"Edit details\" type=\"edit\" key=\"edit\" />\r\n        </div>\r\n        <div className=\"tab-nav flex justify-center\">\r\n          <label className={(this.state.mode === \"OwnedGames\") ? \"inner-tab active\" : \"inner-tab\"} htmlFor=\"OwnedGames\">\r\n            <p>Games</p>\r\n            <input name=\"tab\" type=\"radio\" onChange={this.updateMode}\r\n              checked={this.state.mode === \"OwnedGames\"} value=\"OwnedGames\" id=\"OwnedGames\" />\r\n          </label>\r\n          <label className={(this.state.mode === \"Dashboard\") ? \"inner-tab active\" : \"inner-tab\"} htmlFor=\"Dashboard\">\r\n            <p>Dashboard</p>\r\n            <input name=\"tab\" type=\"radio\" onChange={this.updateMode} value=\"Dashboard\" id=\"Dashboard\" />\r\n          </label>\r\n        </div>\r\n        <DynamicTabPrev className=\"dynamic-prev\" history={this.props.history} mode={this.state.mode} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedInUser: state.userStore.loggedInUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ProfilePage);","import React from 'react';\r\n\r\nexport default function GameMedia(props){\r\n\r\n    return  props.mediaUrls.map(url => {\r\n        if (url.includes(\"mp4\")) {\r\n          return (\r\n            <video  key={url}  onClick={props.onThumbNailPhotoClick}  alt=\"\" className=\"game-choose-thumbnail\" src={`${url}#t=23`} />   );\r\n        }\r\n        return (\r\n          <img key={url} onClick={props.onThumbNailPhotoClick} alt=\"\"  className=\"game-choose-thumbnail\" src={url}  />\r\n        );\r\n      })\r\n}\r\n","import React, { Component } from \"react\";\r\nimport OrderService from \"../../services/OrderService\";\r\nimport UtilService from \"../../services/UtilService\";\r\nimport UserService from \"../../services/UserService\";\r\n\r\nimport './_GameDesc.scss'\r\nimport full_heart from '../../assets/icons/full_heart.svg'\r\nimport empty_heart from '../../assets/icons/empty_heart.svg'\r\nimport history from \"../../history\";\r\n\r\nexport default class GameDesc extends Component {\r\n  state = { orderCount: '', rating: '', publisherName: '', isOwned: false }\r\n\r\n  componentDidMount = () => {\r\n    const { game } = this.props\r\n    this.setOrderCount(game)\r\n    this.setGameRating(game)\r\n    this.setPublisherName(game.publisher)\r\n    this.purchaseCheck()\r\n  }\r\n  componentDidUpdate = (prevProps) => {\r\n    const { game } = this.props\r\n    if (game.title !== prevProps.game.title) {\r\n      this.setOrderCount(game)\r\n      this.setGameRating(game)\r\n      this.setPublisherName(game.publisher)\r\n      this.purchaseCheck()\r\n    }\r\n  }\r\n\r\n  setOrderCount = async (game) => {\r\n    const orderCount = await UtilService.getSum([game])\r\n    this.setState({ orderCount: orderCount.downloadsByGame })\r\n  }\r\n\r\n  onAddToCart = () => {\r\n    this.props.onAddToCart(this.props.game._id)\r\n  }\r\n\r\n  setGameRating = (game) => {\r\n    const rating = UtilService.formatGameRating((UtilService.getGameRating(game)))\r\n    this.setState({ rating })\r\n  }\r\n\r\n  setPublisherName = async (publisherId) => {\r\n    const publisher = await UserService.getById(publisherId)\r\n    const publisherName = publisher.userName\r\n    this.setState({ publisherName })\r\n  }\r\n\r\n  purchaseCheck = async () => {\r\n    let isPurchased = []\r\n    if (this.props.user) {\r\n      isPurchased = await OrderService.query({ orderBy: this.props.user._id, gameId: this.props.game._id })\r\n    }\r\n    if (isPurchased.length) {\r\n      return this.setState({ isOwned: true })\r\n    } else {\r\n      return this.setState({ isOwned: false })\r\n    }\r\n  }\r\n\r\n  onPlayClikc = () => {\r\n    history.push(`/play/${this.props.game._id}`)\r\n  }\r\n\r\n  render() {\r\n    const { game, user } = this.props\r\n    const { thumbnail, description, publishedAt, price, _id } = game\r\n    const { publisherName, rating, orderCount, isOwned } = this.state\r\n    const priceOrPlay = isOwned ? <button onClick={this.onPlayClikc} className=\"play-btn-container\">Play</button> :\r\n      <button type=\"primary\" className='buy-btn' onClick={this.onAddToCart}>${price} Add to Cart </button>\r\n    const date = new Date(publishedAt / 1)\r\n    const publishedDate = UtilService.formatDate(date)\r\n    return (\r\n      <div className=\"desc desc-container flex column\">\r\n        <img alt=\"\" className=\"game-thumbnail\" src={thumbnail}></img>\r\n        <div className=\"details flex space-between align-center\">\r\n              <p className=\"publisher\">{publisherName}</p>\r\n              <p className=\"published\">{publishedDate}</p>\r\n        </div>\r\n        <div className=\"rating-downloads\">\r\n          <p className=\"rating\">Rating: {rating}</p>\r\n          <p className=\"downloads\">Last month downloads: {orderCount}</p>\r\n        </div>\r\n        <p className=\"description full\">{description}</p>\r\n        <div className=\"flex space-between\">\r\n          <img alt=\"like\" className=\"wish-btn\" title=\"Wish list\" onClick={this.props.onToggleWishedGame} src={user && user.wishedGames.find(wishedGame => wishedGame === _id) ? full_heart : empty_heart} />\r\n          <div>{priceOrPlay}</div>\r\n        </div>\r\n      </div>)\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport send_img from '../../assets/icons/send.svg'\r\n\r\nexport default class Comment extends Component {\r\n  state = { text: \"\" };\r\n  inputChange = ev => {\r\n    let fieldName = ev.target.name;\r\n    this.setState({ [fieldName]: ev.target.value });\r\n  };\r\n\r\n  onAddComment = () => {\r\n    const { text } = this.state\r\n    if (!text) return\r\n    let user = { userName: 'Guest' }\r\n    if (this.props.user) user = this.props.user\r\n    this.props.onAddCommentOrReview({ text, user }, true)\r\n    this.setState({ text: '' })\r\n  }\r\n\r\n  render() {\r\n    const { comments } = this.props;\r\n    const { text } = this.state;\r\n    if (!comments) return ''\r\n    const commentMap = comments.map(comment => {\r\n      if (!comment.user) {\r\n        return <p key={comment.text}>{comment.text}</p>\r\n      }\r\n      return (\r\n        <p key={comment.text + comment.user.userName}>{comment.user.userName} : {comment.text}</p>\r\n      );\r\n    })\r\n    return (\r\n      <div className=\"comment\">\r\n        <div className='social-content-container'>\r\n          {commentMap}\r\n        </div>\r\n        <div className='flex new-comment-container'>\r\n          <textarea className=\"full\" type=\"text\" name=\"text\" value={text} onChange={this.inputChange}\r\n            placeholder=\"Write here\" />\r\n          <button className='add-button btn' onClick={this.onAddComment} type='primary'><img alt=\"send\" src={send_img} /></button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\n\r\nexport default class NewReview extends Component {\r\n    state = { rating: '', text: \"\" };\r\n\r\n    inputChange = ev => {\r\n        let fieldName = ev.target.name;\r\n        this.setState({ [fieldName]: ev.target.value });\r\n    };\r\n\r\n    onAddReview = () => {\r\n        const { rating, text } = this.state\r\n        if (!rating) return\r\n        this.props.onAddCommentOrReview({ user: { userName: this.props.user.userName }, rating, text }, true, 'reviews')\r\n        this.setState({ text: '' })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { text } = this.state\r\n        return (\r\n            <div>\r\n                <div className='new-comment-container flex align-center'>\r\n                <textarea\r\n                    type=\"text\"\r\n                    name=\"text\"\r\n                    value={text}\r\n                    onChange={this.inputChange}\r\n                    placeholder=\"write your text\"\r\n                />\r\n                <input className='hidden' type='radio' value='like' onChange={this.inputChange} name='rating' id='like' />\r\n                <label className='like-img pointer' htmlFor='like' name='rating'>\r\n                    <img alt='like' src=\"https://img.icons8.com/ultraviolet/40/000000/good-quality.png\" />\r\n                </label>\r\n                <input className='hidden' type='radio' onChange={this.inputChange} value='dislike' name='rating' id='dislike' />\r\n                <label htmlFor='dislike' className='dislike-img pointer' name='rating'>\r\n                    <img alt='dislike' src=\"https://img.icons8.com/ultraviolet/40/000000/poor-quality.png\" />\r\n                </label>\r\n                <button  className='add-button' onClick={this.onAddReview}>Add a Review</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction IsUserLoggedIn(props) {\r\n    if (props.loggedInUser) {\r\n        if (props.loggedInUser.userName){\r\n        return (\r\n            <div>\r\n              {props.children}\r\n            </div>\r\n        )\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(IsUserLoggedIn);\r\n","import React, { Component } from 'react';\r\nimport NewReview from './new-review/NewReview';\r\nimport IsUserLoggedIn from '../is-user-logged-in/IsUserLoggedIn';\r\n\r\nexport default class Review extends Component {\r\n  render() {\r\n\r\n    const { reviews, user } = this.props;\r\n    return (\r\n      <div className='reviews-container' >\r\n        <ul className='social-content-container'>\r\n          {reviews.map(review => {\r\n            return (\r\n              <div className='review-container flex' key={review.text}>\r\n                <div className='flex column review-user-details'>\r\n                  <p>{review.user.userName}</p>\r\n                  {review.rating === 'like' ? <img alt='like' src=\"https://img.icons8.com/ultraviolet/40/000000/good-quality.png\" />\r\n                    : <img alt='dislike' src=\"https://img.icons8.com/ultraviolet/40/000000/poor-quality.png\" />}\r\n                </div>\r\n                <div>\r\n                  <p>{review.text}</p>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </ul>\r\n        <IsUserLoggedIn>\r\n          <NewReview user={user} onAddCommentOrReview={this.props.onAddCommentOrReview} onAddReview={this.onAddReview} inputChange={this.inputChange} />\r\n        </IsUserLoggedIn>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from 'react-redux'\r\n\r\nimport SocketService from \"../../services/SocketService\";\r\n\r\nimport { loadGame, updateGame, updateComments } from \"../../actions/gameActions\";\r\nimport { updateUser } from '../../actions/userActions';\r\nimport { addGameToCart } from '../../actions/cartActions';\r\n\r\nimport Notification from '../../cmps/helpers/Notification'\r\nimport GameMedia from '../../cmps/game-media/GameMedia';\r\nimport GameDesc from '../../cmps/game-desc/GameDesc';\r\nimport Comments from '../../cmps/comments/Comment';\r\nimport Review from '../../cmps/review/Review';\r\nimport Modal from '../../cmps/modal/Modal'\r\nimport './_GameDetails.scss';\r\n\r\n\r\nclass GameDetails extends Component {\r\n  state = {\r\n    currMediaUrl: '',\r\n    toggleModal: false,\r\n    modalTxt: ''\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    window.scrollTo(0, 0);\r\n    const { id } = this.props.match.params\r\n    await this.props.loadGame(id)\r\n    this.setState({ currMediaUrl: this.props.game.mediaUrls[0] });\r\n    this.initiateSockets()\r\n  }\r\n\r\n  initiateSockets = () => {\r\n    SocketService.setup()\r\n    SocketService.emit('chat room', this.props.game.title);\r\n    SocketService.on('chat newComment', this.onAddCommentOrReview)\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    SocketService.terminate()\r\n  }\r\n\r\n  onAddCommentOrReview = (newText, isSent = false, name = 'comments') => {\r\n    const newGame = { ...this.props.game }\r\n    newGame[name] = [...newGame[name], newText]\r\n    if (!isSent) { return this.props.updateComments(newGame) }\r\n    if (name === 'comments') { SocketService.emit('chat newComment', newText); }\r\n    return this.props.updateGame(newGame)\r\n  }\r\n\r\n  onAddToCart = (gameId) => {\r\n    try {\r\n      this.props.addGameToCart(gameId)\r\n      this.setState({\r\n        modalTxt: 'Game has been added to the cart',\r\n        toggleModal: true\r\n      }, this.onToggleModal())\r\n    } catch {\r\n      this.setState({\r\n        modalTxt: 'Game is already in the cart',\r\n        toggleModal: true\r\n      }, this.onToggleModal())\r\n    }\r\n  };\r\n\r\n  toggleWishedGame = (ev) => {\r\n    const { loggedInUser, game } = this.props\r\n    ev.stopPropagation();\r\n    let wishedGames = (loggedInUser && loggedInUser.wishedGames) || []\r\n    let updatedUser\r\n    const idx = wishedGames.findIndex(id => id === game._id)\r\n    if (idx === -1) {\r\n      updatedUser = { ...loggedInUser, wishedGames: [...wishedGames, game._id] }\r\n    } else {\r\n      updatedUser = { ...loggedInUser, wishedGames: wishedGames.filter(wishedGame => wishedGame !== game._id) }\r\n    }\r\n    this.props.updateUser(updatedUser)\r\n  }\r\n\r\n  onToggleModal = () => {\r\n    setTimeout(() => {\r\n      this.setState(prevState => ({ toggleModal: !prevState.toggleModal }))\r\n    }, 2000)\r\n  }\r\n\r\n\r\n  onThumbNailPhotoClick = ev => {\r\n    this.setState({ currMediaUrl: ev.target.src });\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.game) return <h1>Loading</h1>;\r\n    const { loggedInUser, game: { title, reviews, mediaUrls, tags, comments } } = this.props\r\n    const { modalTxt, currMediaUrl, toggleModal } = this.state\r\n    let mainMedia;\r\n    currMediaUrl.includes(\".mp4\") ?\r\n      mainMedia = <iframe title=\"video\" src={`${currMediaUrl}?#t=0&#autoplay=1&mute=1`} allowFullScreen='allowfullscreen' volume={0} className=\"game-main-thumbnail\" />\r\n      : mainMedia = <img src={currMediaUrl} alt=\"\" className=\"game-main-thumbnail\" />\r\n    return (\r\n      <div className=\"container content-container\" >\r\n        {toggleModal && <Modal><Notification modalTxt={modalTxt} toggleModal={this.onToggleModal} /></Modal>}\r\n        <h1>{title}</h1>\r\n        <div className=\"grid game-main-content-container \">\r\n          {mainMedia}\r\n          <div className=\"flex game-choose-thumbnail-container\">\r\n            <GameMedia onThumbNailPhotoClick={this.onThumbNailPhotoClick} mediaUrls={mediaUrls} />\r\n          </div>\r\n          <GameDesc user={loggedInUser} onToggleWishedGame={this.toggleWishedGame} onAddToCart={this.onAddToCart} game={this.props.game} />\r\n        </div>\r\n        <h2>Tags:</h2>\r\n        {tags.map(tag => {\r\n          return <span className=\"tag\" key={tag}>{tag} </span>;\r\n        })}\r\n        <h2>Reviews :</h2>\r\n        <Review user={loggedInUser} onAddCommentOrReview={this.onAddCommentOrReview} reviews={reviews} />\r\n        <h2>Comments :</h2>\r\n        <Comments user={loggedInUser} isDetails={true} onAddCommentOrReview={this.onAddCommentOrReview} comments={comments} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cart: state.cartStore.cart,\r\n    game: state.gameStore.game,\r\n    loggedInUser: state.userStore.loggedInUser,\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  addGameToCart,\r\n  loadGame,\r\n  updateGame,\r\n  updateComments,\r\n  updateUser\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(GameDetails)\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport SocketService from \"../../services/SocketService\";\r\nimport Comment from \"../../cmps/comments/Comment\";\r\nimport './_PlayGame.scss'\r\n\r\nclass PlayGame extends Component {\r\n    state = { comments: null }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        let userName = (this.props.loggedInUser) ? this.props.loggedInUser.userName : 'Guest';\r\n        SocketService.setup()\r\n        SocketService.emit('chat room', this.props.match.params.id);\r\n        SocketService.emit('user joined', { text: `${userName} has joined the chat` });\r\n        SocketService.on('chat newComment', this.addComment)\r\n        SocketService.on('user joined', this.addComment)\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        SocketService.terminate()\r\n    }\r\n\r\n    sendComment = (newComment) => {\r\n        SocketService.emit('chat newComment', newComment);\r\n    };\r\n\r\n    addComment = newComment => {\r\n        if (!this.state.comments) return this.setState({ comments: [newComment] })\r\n        this.setState(prevState => ({ comments: [...prevState.comments, newComment] }));\r\n    };\r\n\r\n    render() {\r\n        const { comments } = this.state\r\n        const logInMsg = !this.props.loggedInUser ? 'Buy the game to enjoy it fully' : ''; \r\n\r\n        return (\r\n            <div className=\"container content-container play-container\">\r\n                <h3>{logInMsg}</h3>\r\n                <div className=\"game-content-container flex\">\r\n                    <iframe title=\"play\" src=\"https://www.gameflare.com/embed/cartoon-strike/\" frameBorder=\"0\" scrolling=\"no\" width=\"1000\" height=\"635\" allowFullScreen></iframe>\r\n                    <div className=\"comments-container\"><Comment user={this.props.loggedInUser} onAddCommentOrReview={this.sendComment} comments={comments} /></div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(PlayGame);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadCart } from '../../actions/cartActions'\r\n\r\nclass GameCounter extends Component {\r\n    componentDidMount() {\r\n        this.props.loadCart()\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isWishList } = this.props\r\n        return isWishList ? <p style={{marginInlineEnd:'3px', alignSelf: \"center\", color: \"white\" }}>{this.props.user ? this.props.user.wishedGames.length : 0}</p>\r\n                         : <p style={{ alignSelf: \"center\", color: \"white\" }}>{this.props.cart.length}</p>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        cart: state.cartStore.cart,\r\n        user: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadCart\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(GameCounter)","import React, { Component } from 'react';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport history from '../../history';\r\n\r\nimport { logout } from '../../actions/userActions';\r\nimport GameCounter from '../game-counter/GameCounter'\r\nimport './_NavBar.scss'\r\nimport wishlistImg from '../../assets/icons/wishlist.svg'\r\nimport shoppingCartImg from '../../assets/icons/shopping_cart.svg'\r\n\r\nclass NavBar extends Component {\r\n\r\n  doLogOut = async () => {\r\n    try {\r\n      await this.props.logout();\r\n      history.push('/')\r\n    } catch (err) {\r\n      console.log('Had issues while logging out ', err)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loggedInUser } = this.props\r\n    const userName = (!loggedInUser) ? 'guest' : loggedInUser.userName;\r\n    return (\r\n      <nav className=\"nav-bar flex align-center\">\r\n        <div className=\"nav-logo full\">\r\n          <Link to=\"/\">\r\n            <img alt=\"logo\" src=\"/navbar-logo.png\" />\r\n          </Link>\r\n        </div>\r\n        <input type=\"checkbox\" className=\"hidden\" id=\"menu\" />\r\n        <div className=\"flex nav-link-container\">\r\n          <div className=\"flex\">\r\n            <div className=\"nav-link flex align-center\" onClick={() => this.props.toggleModal(\"wishlist\")}>\r\n            <GameCounter isWishList={true} />\r\n              <img alt=\"\" src={wishlistImg} />\r\n            </div>\r\n            <div className=\"nav-link flex align-center\" onClick={() => this.props.toggleModal(\"shoppingCart\")}>\r\n              <GameCounter />\r\n              <img alt=\"\" src={shoppingCartImg} />\r\n            </div>\r\n          </div>\r\n          <label className=\"nav-bar-hamburger pointer\" htmlFor=\"menu\">\r\n            \r\n          </label>\r\n\r\n          <div className=\"nav-bar-menu\">\r\n            <NavLink to=\"/\" exact className=\"nav-link flex align-center\" activeClassName=\"active\" >\r\n              Homepage\r\n        </NavLink>\r\n            <NavLink to=\"/game\" exact className=\"nav-link flex align-center\" activeClassName=\"active\" >\r\n              Explore\r\n        </NavLink>\r\n            <NavLink to={`/user/${userName || 'guest'}`} exact className=\"nav-link flex align-center\" activeClassName=\"active\"  >\r\n              Profile\r\n        </NavLink>\r\n            {(!loggedInUser || !loggedInUser.userName) ? <NavLink to=\"/login\" exact className=\"nav-link flex align-center\" activeClassName=\"active\" >Login</NavLink>\r\n              : <NavLink onClick={this.doLogOut} to=\"/\" exact className=\"nav-link flex align-center\" activeClassName=\"\">Logout</NavLink>}\r\n          </div>\r\n        </div>\r\n      </nav >\r\n\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedInUser: state.userStore.loggedInUser\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  logout\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(NavBar);","import React from 'react'\r\n\r\nexport default function ConfirmDelete(props) {\r\n    return <div>\r\n        <p>Confirm Delete</p>\r\n        <button onClick={props.modalAction}>Confirm</button>\r\n        <button onClick={()=>props.toggleModal(props.modalType)}>Cancel</button>\r\n    </div>\r\n}","import React from 'react';\r\n\r\nexport default function MediaUrlsList(props) {\r\n  return props.mediaUrls.map((url, idx) => {\r\n    if (url.includes(\".mp4\")) {\r\n      return (\r\n        <div className=\"media-container flex\" key={url}>\r\n          <iframe src={url} allowFullScreen='allowfullscreen' title='video' alt={url} />\r\n          <span\r\n            className=\"pointer absolute\"\r\n            onClick={() => props.removeMediaAndTags(\"mediaUrls\", idx)}\r\n          >\r\n            X\r\n          </span>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"media-container  flex\" key={url}>\r\n        <img src={url} alt={url} />\r\n        <span\r\n          className=\"pointer absolute\"\r\n          onClick={() => props.removeMediaAndTags(\"mediaUrls\", idx)}\r\n        >\r\n          X\r\n        </span>\r\n      </div>\r\n    );\r\n  });\r\n}\r\n","import React from 'react';\r\n\r\nexport default function thumbnail(props) {\r\n  const { thumbnail } = props\r\n  return (\r\n    <div className=\"flex media-container\">\r\n      <img src={thumbnail} alt=\"\" />\r\n      <span className=\"pointer absolute\" onClick={() => props.removeMediaAndTags(\"thumbnail\")}>\r\n        X\r\n      </span>\r\n    </div>)\r\n}\r\n","import React from 'react';\r\n\r\nexport default function TagList(props) {\r\n  return props.tags.map((tag, idx) => {\r\n    return (\r\n      <div className=\"tag-container\" key={tag}>\r\n        <span\r\n          className=\"pointer\"\r\n          onClick={() => props.removeMediaAndTags(\"tags\", idx)}\r\n        >\r\n          X\r\n        </span>\r\n        <p>{tag}</p>\r\n      </div>\r\n    );\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport MediaUrlsList from '../media-url-list/MediaUrlList';\r\nimport Thumbnail from '../thumbnail/Thumbnail';\r\nimport TagList from '../tag-list/TagList';\r\nimport trash_bin from '../../../assets/icons/bin.svg';\r\n\r\nexport default function InputForm(props) {\r\n    const { onRemoveGame, inputChange, addMediaAndTags, onSubmit, removeMediaAndTags,\r\n        form: { price, publishedAt, title, mediaUrls, tags, thumbnail, description, loading } } = props\r\n    let addedTags;\r\n    let addedUrls;\r\n    let addedThumbnail\r\n    if (mediaUrls && mediaUrls.length) {\r\n        addedUrls = (<MediaUrlsList removeMediaAndTags={removeMediaAndTags} mediaUrls={mediaUrls} />)\r\n    }\r\n    if (tags && tags.length) {\r\n        addedTags = (<TagList removeMediaAndTags={removeMediaAndTags} tags={tags} />)\r\n    }\r\n    if (thumbnail) {\r\n        addedThumbnail = <Thumbnail thumbnail={thumbnail} removeMediaAndTags={removeMediaAndTags} />\r\n    }\r\n\r\n    return <div className=\"edit-container content-container\">\r\n        {loading && <div className='loader'></div>}\r\n        <p> Title : </p>\r\n        <input type=\"text\" onChange={inputChange} value={title} placeholder=\"title\" name=\"title\" />\r\n        <p>Publish Date</p>\r\n        <input type=\"date\" onChange={inputChange} value={publishedAt} name=\"publishedAt\" />\r\n        <p> Descripiton: </p>\r\n        <textarea type=\"text\" onChange={inputChange} placeholder=\"description\" name=\"description\" value={description} />\r\n        <p> Thumbnail Img: </p>\r\n        <input type=\"file\" onChange={addMediaAndTags} placeholder=\"thumbnail\" name=\"thumbnail\" />\r\n        {addedThumbnail}\r\n        <p> Media: </p>\r\n        <div>\r\n            <input type=\"file\" onChange={addMediaAndTags} placeholder=\"Put your image Urls here\" name=\"mediaUrls\" multiple />\r\n            <div className=\"flex wrap\">{addedUrls}</div>\r\n        </div>\r\n        <p>Price: </p>\r\n        <input type=\"number\" onChange={inputChange} placeholder=\"price\" name=\"price\" value={price} />\r\n        <p>Tags:</p>\r\n        <input type=\"tags\" onChange={inputChange} placeholder=\"tags\" name=\"currTag\" />\r\n        <button name=\"tags\" onClick={addMediaAndTags}>\r\n            Add Tag\r\n          </button>\r\n        <div className=\"flex\">{addedTags}</div>\r\n        <button title=\"Delete\" className=\"btn\" onClick={onRemoveGame}><img alt=\"\" src={trash_bin} /></button>\r\n        <button onClick={onSubmit}>Submit</button>\r\n    </div>\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport history from '../../history'\r\n\r\nimport GameService from '../../services/GameService';\r\nimport MediaUploadService from '../../services/MediaUploadService';\r\n\r\nimport Modal from '../modal/Modal'\r\nimport ConfirmDelete from '../helpers/ConfirmDelete'\r\nimport InputForm from './inputForm/InputForm';\r\n\r\nimport './_EditGame.scss';\r\n\r\nclass EditGame extends Component {\r\n  state = {\r\n    title: '',\r\n    description: '',\r\n    thumbnail: '',\r\n    mediaUrls: [],\r\n    price: '',\r\n    publishedAt: '',\r\n    tags: [],\r\n    currTag: '',\r\n    loading: false,\r\n    modalType: '',\r\n    toggleModal: false,\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    const gameId = this.props.match.params.id\r\n    if (gameId) {\r\n      const game = await GameService.getById(gameId)\r\n      const publishedAt = this.getDateInput(game.publishedAt)\r\n      this.setState({ ...game, publishedAt })\r\n    }\r\n  }\r\n\r\n  onRemoveGame = async () => {\r\n    this.setState({\r\n      toggleModal: true\r\n    })\r\n    this.onToggleModal('confirmDelete')\r\n  }\r\n\r\n  removeGame = async () => {\r\n    this.setState(prevState => { return { toggleModal: !prevState.toggleModal, modalType: '' } })\r\n    try {\r\n      await GameService.remove(this.state._id)\r\n      history.push(`/user/${this.props.loggedInUser.userName}`)\r\n    } catch{\r\n      console.log('cant remove game')\r\n    }\r\n  }\r\n\r\n  onToggleModal = (modalType) => {\r\n    if (!this.state.toggleModal) {\r\n      this.setState({ modalType, toggleModal: true });\r\n    } else if (modalType === this.state.modalType) {\r\n      this.setState(prevState => { return { toggleModal: !prevState.toggleModal, modalType: '' } })\r\n    } else {\r\n      this.setState({ modalType })\r\n    }\r\n  }\r\n\r\n  getDateInput = (publishDate) => {\r\n    const publishedAt = new Date(publishDate / 1)\r\n    const day = (\"0\" + publishedAt.getDate()).slice(-2);\r\n    const month = (\"0\" + (publishedAt.getMonth() + 1)).slice(-2);\r\n    const date = publishedAt.getFullYear() + \"-\" + (month) + \"-\" + (day)\r\n    return date\r\n  }\r\n\r\n  onSubmit = async () => {\r\n    const newGame = { ...this.state }\r\n    newGame.publishedAt = new Date(newGame.publishedAt).getTime()\r\n    if (!newGame.mediaUrls) return\r\n    if (!newGame.thumbnail) return\r\n    if (this.props.match.params.id) {\r\n      delete newGame.currTag\r\n      delete newGame.loading\r\n      const game = await GameService.update(newGame)\r\n      return this.props.history.push(`/game/${game._id}`)\r\n    }\r\n    if (!this.props.loggedInUser) return\r\n    newGame.publisher = this.props.loggedInUser._id\r\n    newGame.comments = []\r\n    newGame.reviews = []\r\n    delete newGame.currTag\r\n    delete newGame.loading\r\n    const game = await GameService.add(newGame)\r\n    return this.props.history.push(`/game/${game._id}`)\r\n  }\r\n\r\n  addMediaAndTags = async ev => {\r\n    const fieldName = ev.target.name\r\n    if (fieldName !== \"tags\") {\r\n      this.setState({ loading: true })\r\n      const urls = await MediaUploadService(ev.target.files);\r\n      if (fieldName === 'thumbnail') {\r\n        return this.setState({ thumbnail: urls[0], loading: false })\r\n      }\r\n      return this.setState(prevState => ({\r\n        mediaUrls: [...prevState.mediaUrls, ...urls], loading: false\r\n      }));\r\n    }\r\n    if (!this.state.currTag) return\r\n    this.setState(prevState => ({\r\n      tags: [...prevState.tags, this.state.currTag]\r\n    }))\r\n  }\r\n\r\n  removeMediaAndTags = (fieldName, idx) => {\r\n    if (fieldName === 'thumbnail') {\r\n      return this.setState({ thumbnail: '' })\r\n    }\r\n    let editedData = [...this.state[fieldName]];\r\n    editedData.splice(idx, 1);\r\n    this.setState({\r\n      [fieldName]: editedData\r\n    });\r\n  };\r\n\r\n  inputChange = ev => {\r\n    let fieldName = ev.target.name;\r\n    this.setState({ [fieldName]: ev.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <InputForm onRemoveGame={this.onRemoveGame} removeMediaAndTags={this.removeMediaAndTags} inputChange={this.inputChange}\r\n          onSubmit={this.onSubmit} addMediaAndTags={this.addMediaAndTags} form={this.state} />\r\n        {this.state.modalType === 'confirmDelete' && <Modal >\r\n          <ConfirmDelete modalType={this.modalType} modalAction={this.removeGame} toggleModal={this.onToggleModal} />\r\n        </Modal>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedInUser: state.userStore.loggedInUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(EditGame);\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport history from '../../history'\r\n\r\n\r\nimport CartService from '../../services/CartService'\r\nimport GameList from '../../cmps/game-list/GameList'\r\nimport GameService from '../../services/GameService';\r\nimport UtilService from '../../services/UtilService';\r\nimport OrderService from '../../services/OrderService';\r\n\r\nimport { updateUser } from '../../actions/userActions'\r\nimport { clearCart } from '../../actions/cartActions';\r\n\r\nclass ShoppingCart extends Component {\r\n    state = {\r\n        games: null,\r\n        gamesIds: null,\r\n        sum: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadGames()\r\n    }\r\n\r\n    async loadGames() {\r\n        const gamesIds = CartService.query();\r\n        let gamesToRender = []\r\n        if (gamesIds.length) {\r\n            gamesToRender = await GameService.query({ shoppingCartIds: gamesIds })\r\n        }\r\n        this.setState({ gamesIds, games: gamesToRender })\r\n        if (this.state.games) {\r\n            this.getSum()\r\n        }\r\n    }\r\n\r\n    onUpdateUser = async (updatedUser) => {\r\n        this.props.updateUser(updatedUser)\r\n    }\r\n\r\n    onRemoveFromCart = (gameId) => {\r\n        CartService.removeFromCart(gameId)\r\n        this.loadGames()\r\n    }\r\n\r\n    onBuyClick = async () => {\r\n        if (!this.props.user) { history.push('/login'); return }\r\n\r\n        const order = {\r\n            createdAt: UtilService.dateByMillisecond(),\r\n            orderBy: this.props.user._id,\r\n            gameIds: this.state.gamesIds\r\n        }\r\n        await OrderService.add(order)\r\n        this.props.clearCart()\r\n        this.props.toggleModal('shoppingCart')\r\n        history.push(`/user/${this.props.user.userName}`)\r\n    }\r\n    getSum = () => {\r\n        const sum = this.state.games.reduce((acc, currGame) => {\r\n            return acc += currGame.price\r\n        }, 0)\r\n        this.setState({ sum })\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"modal totally-center\">\r\n            {(this.state.games && this.state.games.length) ?\r\n                <div className=\"modal-content\">\r\n                    <GameList isModal={true} user={this.props.user} onUpdateUser={this.onUpdateUser} onRemoveFromCart={this.onRemoveFromCart} isCart={true} games={this.state.games} history={this.props.history}></GameList>\r\n                    <div className='flex justify-center align-center space-between '>\r\n                        <div className='money-sum'> Total: ${this.state.sum}</div>\r\n                        <button className=\"pointer cla-btn\" onClick={this.onBuyClick}>Purchase</button>\r\n                    </div>\r\n                </div>\r\n                : <h3 className=\"flex column totally-center\">Your shopping cart is empty</h3>}\r\n        </div>\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    clearCart,\r\n    updateUser\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(ShoppingCart);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport { updateUser } from '../../actions/userActions'\r\nimport { loadGames } from '../../actions/gameActions'\r\nimport GameList from '../game-list/GameList'\r\n\r\nimport './_WishList.scss'\r\n\r\nclass WishList extends Component {\r\n    componentDidMount() {\r\n        loadGames()\r\n    }\r\n\r\n    onUpdateUser = async (updatedUser) => {\r\n        this.props.updateUser(updatedUser)\r\n    }\r\n\r\n    render() {\r\n        if (this.props.user) {\r\n            const { games, user } = this.props\r\n            let wishedGames = games.filter(game => user.wishedGames.includes(game._id))\r\n            return <div className=\"modal\">\r\n                <div className=\"modal-content\">\r\n                    <GameList isModal={true} isWishList={true} history={this.props.history} user={user} onUpdateUser={this.onUpdateUser} games={wishedGames}></GameList>\r\n                </div>\r\n            </div>\r\n        }\r\n        return <div className=\"modal\"><h3 className=\"modal-content empty-wishlist flex align-center\">Please Login to see your wishlist</h3></div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        games: state.gameStore.games,\r\n        user: state.userStore.loggedInUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadGames,\r\n    updateUser\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(WishList);","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './_Footer.scss'\r\n\r\nexport default function Footer(props) {\r\n    return (\r\n        <div className=\"footer-container totally-center flex column\">\r\n            <img className=\"logo-footer\" width=\"10\"alt=\"logo\" src=\"/logo.png\" />\r\n            <small className=\"rights\"> 2020, <span className=\"name\">GameIn</span> Inc. All rights reserved</small>\r\n            <div>\r\n                <Link to=\"/about\">About us</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react';\r\nimport { Router, Switch, Route } from 'react-router';\r\n\r\nimport history from './history';\r\n\r\nimport HomePage from './pages/homepage/HomePage';\r\nimport Login from './pages/login/Login';\r\nimport SignUp from './pages/sign-up/SignUp';\r\nimport Explore from './pages/explore-page/Explore';\r\nimport ProfilePage from './pages/profile-page/ProfilePage';\r\nimport GameDetails from './pages/game-details/GameDetails';\r\nimport PlayGame from './pages/play-game/PlayGame';\r\n\r\nimport NavBar from './cmps/nav-bar/NavBar';\r\nimport Modal from './cmps/modal/Modal'\r\nimport EditGame from './cmps/edit-game/EditGame';\r\nimport ShoppingCart from './cmps/shopping-cart/ShoppingCart';\r\nimport WishList from './cmps/wish-list/WishList';\r\nimport Footer from './cmps/footer/Footer';\r\n\r\nimport './assets/styles/global.scss'\r\n\r\nexport default class App extends Component {\r\n   state = {\r\n      modalType: '',\r\n      toggleModal: false\r\n   }\r\n\r\n   toggleModal = (modalType) => {\r\n      if (!this.state.toggleModal) {\r\n         this.setState({ modalType, toggleModal: true });\r\n      } else if (modalType === this.state.modalType) {\r\n         this.setState(prevState => { return { toggleModal: !prevState.toggleModal, modalType: '' } })\r\n      } else {\r\n         this.setState({ modalType })\r\n      }\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <React.Fragment>\r\n            <Router history={history} className=\"App Site\">\r\n               <NavBar toggleModal={this.toggleModal} />\r\n               <Switch className=\"Site-content\">\r\n                  <Route path=\"/\" component={HomePage} exact />\r\n                  <Route path=\"/login\" component={Login} exact />\r\n                  <Route path=\"/sign-up\" component={SignUp} exact />\r\n                  <Route path=\"/edit/:id?\" component={EditGame} exact />\r\n                  <Route path=\"/game/:id\" component={GameDetails} exact />\r\n                  <Route path=\"/game\"  component={Explore} exact />\r\n                  <Route path=\"/user/:id\" render={() => <ProfilePage history={history} />} exact />\r\n                  <Route path=\"/play/:id\" component={PlayGame} exact />\r\n               </Switch>\r\n               <Footer></Footer>\r\n            </Router>\r\n            {this.state.toggleModal && <Modal>\r\n               {(this.state.modalType === 'wishlist') ? <WishList /> : <ShoppingCart toggleModal={this.toggleModal}/>}\r\n            </Modal>}\r\n         </React.Fragment>\r\n      )\r\n   }\r\n}\r\n\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","const INITIAL_STATE = {\r\n  game: null, games: [], filterBy: { publisher: '' }\r\n};\r\n\r\nexport default function gameReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case \"SET_GAMES\":\r\n      return { ...state, games: action.games };\r\n    case 'SET_FILTER':\r\n      return { ...state, filterBy: { ...action.filterBy } }\r\n    case 'SET_GAME':\r\n      return { ...state, game: action.game }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let localLoggedInUser = null;\r\nif (sessionStorage.user) localLoggedInUser = JSON.parse(sessionStorage.user);\r\n\r\nconst INITIAL_STATE = {\r\n    loggedInUser: localLoggedInUser\r\n};\r\n\r\nexport default function userReducer(state = INITIAL_STATE, action) {\r\n    \r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return { ...state, loggedInUser: action.user };\r\n        case 'UPDATE_USER':\r\n            return { ...state, loggedInUser: action.user };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","const INITIAL_STATE = {\r\n  cart: []\r\n};\r\n\r\nexport default function cartReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case \"SET_CART\":\r\n      return {\r\n        ...state,\r\n        cart: action.cart\r\n      };\r\n    case \"ADD_TO_CART\":\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart, action.item]\r\n      }\r\n    case \"REMOVE_FROM_CART\":\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart.filter(item => item !== action.item)]\r\n      }\r\n    case \"CLEAR_CART\":\r\n      return {\r\n        ...state,\r\n        cart: []\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport gameReducer from './gameReducer'\r\nimport userReducer from './userReducer'\r\nimport cartReducer from './cartReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  gameStore: gameReducer,\r\n  userStore: userReducer,\r\n  cartStore: cartReducer\r\n})\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../src/reducers/index';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst Store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default Store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\n// TODO: use scss\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport Store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={Store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/full_heart.1aab119d.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty_heart.1ff089d1.svg\";"],"sourceRoot":""}