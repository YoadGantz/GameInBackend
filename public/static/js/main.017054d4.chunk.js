(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/full_heart.1aab119d.svg"},101:function(e,t,a){e.exports=a.p+"static/media/empty_heart.1ff089d1.svg"},245:function(e,t,a){e.exports=a.p+"static/media/remove_from_cart.f23f172d.png"},265:function(e,t,a){e.exports=a.p+"static/media/wishlist.58d71a39.svg"},266:function(e,t,a){e.exports=a.p+"static/media/shopping_cart.0ff5ef33.svg"},294:function(e,t,a){e.exports=a(590)},321:function(e,t,a){},322:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},506:function(e,t,a){},507:function(e,t,a){},508:function(e,t,a){},578:function(e,t){},581:function(e,t,a){},582:function(e,t,a){},583:function(e,t,a){},584:function(e,t,a){},585:function(e,t,a){},586:function(e,t,a){},587:function(e,t,a){},588:function(e,t,a){},589:function(e,t,a){},590:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(44),o=a.n(s),c=a(12),i=a(5),l=a(6),u=a(8),m=a(7),p=a(9),d=a(18),g=a(21),h=Object(g.a)(),f=a(19),v=a(16),b=a(1),y=a.n(b),E=a(25),w=a(99),x=a.n(w),O=Object(g.a)(),C=x.a.create({withCredentials:!0}),j=function(e,t,a){return S(e,"GET",t,a)},N=function(e,t){return S(e,"POST",t)},k=function(e,t){return S(e,"PUT",t)},U=function(e,t){return S(e,"DELETE",t)};function S(e){var t,a,n,r,s=arguments;return y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:"get",a=s.length>2&&void 0!==s[2]?s[2]:null,n=s.length>3?s[3]:void 0,s.length>4?s[4]:void 0,o.prev=4,o.next=7,y.a.awrap(C({url:"".concat("/api/").concat(e),method:t,data:a,params:n}));case 7:return r=o.sent,o.abrupt("return",r.data);case 11:throw o.prev=11,o.t0=o.catch(4),console.log("Had Issues ".concat(t,"ing to the backend, endpoint: ").concat(e,", with data: ").concat(a)),console.dir(o.t0),o.t0.response&&401===o.t0.response.status&&O.push("/"),o.t0;case 17:case"end":return o.stop()}}),null,null,[[4,11]])}var T={query:function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",j("order","",e));case 1:case"end":return t.stop()}}))},add:function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",N("order",e));case 1:case"end":return t.stop()}}))}};var A={sortGames:function(e,t){return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if("mostDownloadGames"!==t){a.next=4;break}return a.abrupt("return",R(e));case 4:if("mostRecentGames"!==t){a.next=8;break}return a.abrupt("return",D(e));case 8:return a.abrupt("return",I(e));case 9:case"end":return a.stop()}}))},sortByDownloads:R,getGraphsDetails:B,getGameRating:G,objectIdByTime:M,dateFromObjectId:_,formatDate:function(e){var t=e.getFullYear();return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+t},getSum:function(e){var t,a;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.awrap(B(e,"games"));case 2:return t=n.sent,a=e.map((function(e,a){return t[a]*e.price})),n.abrupt("return",{sum:a,downloadsByGame:t});case 5:case"end":return n.stop()}}))},sortByPrice:function(e,t){return e.sort((function(e,a){return t?a.price>e.price?-1:a.price<e.price?0:1:a.price<e.price?-1:a.price>e.price?0:1}))},formatGameRating:function(e){return e>50?"Really positive":e>10?"Positive":e>-10?"Mixed":e>-50?"Negetive":"Really negetive"}};function G(e){var t=e.reviews;return+t.reduce((function(e,t){return"like"===t.rating?e+1:e-1}),0)/t.length*100}function M(e){var t=new Date;return e&&t.setDate(t.getDate()-e),Math.floor(t.getTime()/1e3).toString(16)+"0000000000000000"}function D(e){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.sort((function(e,t){return t.publishedAt-e.publishedAt})),a.abrupt("return",t);case 2:case"end":return a.stop()}}))}function I(e){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.forEach((function(e){return e.totalRating=G(e)})),t=e.sort((function(e,t){return t.totalRating-e.totalRating})),a.abrupt("return",t);case 3:case"end":return a.stop()}}))}function R(e){var t,a,n,r=arguments;return y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=r.length>1&&void 0!==r[1]&&r[1],s.next=3,y.a.awrap(B(e));case 3:return a=s.sent,e.forEach((function(e){e.downloadsCount=a[e.title]})),n=e.sort((function(e,a){return t?e.downloadsCount<a.downloadsCount?-1:e.downloadsCount>a.downloadsCount?0:1:e.downloadsCount>a.downloadsCount?-1:e.downloadsCount<a.downloadsCount?0:1})),s.abrupt("return",n);case 7:case"end":return s.stop()}}))}function _(e){return new Date(1e3*parseInt(e.substring(0,8),16))}function B(e,t){var a,n,r,s,o,c=arguments;return y.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:31,n=[],r={},s=[],o=[],e.forEach((function(e){n.push(T.query({lastMonthId:M(a),gameIds:e._id})),s.push(e.title),o.push(0)})),i.next=8,y.a.awrap(Promise.all(n));case 8:if(i.sent.forEach((function(e,a){return e.forEach((function(e,n){var c=_(e.createdAt).getDate(),i=r[c];if(!i||0!==n)return"games"===t?o[a]+=1:i?(r[s[a]]=n,r[c]=i+1):r[c]=1}))})),"games"!==t){i.next=12;break}return i.abrupt("return",o);case 12:return i.abrupt("return",r);case 13:case"end":return i.stop()}}))}var F={add:function(e){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.awrap(N("game",e));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=j("game","",e);return t},getById:function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",j("game/".concat(e)));case 1:case"end":return t.stop()}}))},update:function(e){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.awrap(k("game/".concat(e._id),e));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},remove:function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(U("game/".concat(e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}};function P(e){return{type:"SET_GAMES",games:e}}function L(e){return{type:"SET_GAME",game:e}}function W(e){return function(t){var a;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.a.awrap(F.query(e));case 3:return a=n.sent,t(P(a)),n.abrupt("return",a);case 8:n.prev=8,n.t0=n.catch(0),console.log("Had issues getting games",n.t0);case 11:case"end":return n.stop()}}),null,null,[[0,8]])}}var H={login:function(e){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.awrap(N("auth/login",e));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},signUp:function(e){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.awrap(N("auth/signup",e));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},logout:function(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(N("auth/logout"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},add:function(e){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.awrap(N("user",e));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},remove:function(e){return U("user/".concat(e))},getById:function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",j("user/".concat(e)));case 1:case"end":return t.stop()}}))},update:function(e){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.awrap(k("user/".concat(e._id),e));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))}};function q(e){return function(t){var a;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.a.awrap(H.update(e));case 3:return a=n.sent,t(X(a)),n.abrupt("return");case 8:throw n.prev=8,n.t0=n.catch(0),console.log("Had issues in updating user",n.t0),n.t0;case 12:case"end":return n.stop()}}),null,null,[[0,8]])}}function J(e){return{type:"SET_USER",user:e}}function X(e){return{type:"UPDATE_USER",user:e}}var $=a(15);var z={loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]},saveToStorage:function(e,t){localStorage[e]=JSON.stringify(t)}},Y={query:function(){return z.loadFromStorage("cart")},addToCart:function(e){var t=z.loadFromStorage("cart");try{if(!t.find((function(t){return e===t})))return t.push(e),z.saveToStorage("cart",t),"success"}catch(a){throw console.log("Already in the cart"),a}},removeFromCart:function(e){var t=z.loadFromStorage("cart").filter((function(t){return t!==e}));z.saveToStorage("cart",t)},clear:function(){return z.saveToStorage("cart",[]),[]}};function K(e){return{type:"SET_CART",cart:e}}var V=a(100),Q=a.n(V),Z=a(101),ee=a.n(Z),te=a(245),ae=a.n(te),ne=(a(321),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={publisherName:""},a.onOpenDetails=function(e){a.props.history.push("/game/".concat(e))},a.onOpenEdit=function(e){e.stopPropagation(),a.props.history.push("/edit/".concat(a.props.game._id))},a.onRemoveFromCart=function(e){e.stopPropagation(),a.props.onRemoveFromCart(a.props.game._id),a.props.removeGameFromCart(a.props.game._id)},a.onPlayClick=function(e){e.stopPropagation(),a.props.history.push("/play/".concat(a.props.game._id))},a.toggleWishedGame=function(e){var t=a.props,n=t.user,r=t.game;e.stopPropagation();var s,o=n&&n.wishedGames||[];s=-1===o.findIndex((function(e){return e===r._id}))?Object($.a)({},n,{wishedGames:[].concat(Object(v.a)(o),[r._id])}):Object($.a)({},n,{wishedGames:o.filter((function(e){return e!==r._id}))}),a.props.onUpdateUser(s)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props.game,n.next=3,y.a.awrap(H.getById(e.publisher));case 3:t=n.sent,a=t.userName,this.setState({publisherName:a});case 6:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.props,a=t.game,n=t.user,s=t.isProfile,o=t.isDashboard,c=t.isCart,i=A.formatGameRating(A.getGameRating(a));return r.a.createElement("li",{className:"game-card",onClick:function(){return e.onOpenDetails(a._id)}},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{alt:"thumbnail",className:"game-thumbnail",src:a.thumbnail})),r.a.createElement("section",{className:"details-container"},r.a.createElement("div",{className:"flex align-center"},r.a.createElement("strong",{className:"full game-title",title:a.title},a.title),s&&o&&r.a.createElement("p",{className:"price"},"$",a.price),!s&&r.a.createElement("img",{alt:"like",className:"like-icon",onClick:this.toggleWishedGame,src:n&&n.wishedGames.find((function(e){return e===a._id}))?Q.a:ee.a})),r.a.createElement("strong",{className:"publisher"},this.state.publisherName),r.a.createElement("div",{className:"flex space-between"},!s&&r.a.createElement("p",{className:"price"},"$",a.price),!s&&r.a.createElement("p",{className:"rating"},i," (",a.reviews.length,")"),c&&r.a.createElement("img",{alt:"remove",src:ae.a,className:"like-icon",onClick:this.onRemoveFromCart}),s&&!o&&r.a.createElement("button",{className:"play-btn btn",onClick:this.onPlayClick},"Play"),s&&o&&r.a.createElement("div",{className:"dsh-btn-container flex space-between"},r.a.createElement("button",{className:"btn",onClick:this.onOpenEdit},"Edit"),o&&r.a.createElement("button",{className:"btn",onClick:this.onRemoveGame},"X")))))}}]),t}(n.Component)),re={removeGameFromCart:function(e){return function(t){Y.removeFromCart(e),t(function(e){return{type:"REMOVE_FROM_CART",item:e}}(e))}}},se=Object(c.b)((function(e){return{cart:e.cartStore.cart}}),re)(ne);function oe(e){var t=e.games,a=e.user;return r.a.createElement("ul",{className:"cards-container clean-list container"},null===t||void 0===t?void 0:t.map((function(t){return r.a.createElement(se,{key:t._id,onRemoveFromCart:e.onRemoveFromCart,isCart:e.isCart,history:e.history,isProfile:e.isProfile,isDashboard:e.isDashboard,user:a,onUpdateUser:e.onUpdateUser,onRemoveGame:e.onRemoveGame,game:t})})))}a(322);var ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={mostDownloadGames:[],mostRecentGames:[],highestRatingGames:[]},a.onUpdateUser=function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.updateUser(e);case 1:case"end":return t.stop()}}))},a.setGames=function(e){var t,n,r,s=arguments;return y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:3,n=Object(v.a)(a.props.games),o.next=4,y.a.awrap(A.sortGames(n,e));case 4:(r=o.sent).splice(t,n.length),a.setState(Object(f.a)({},e,r));case 7:case"end":return o.stop()}}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,y.a.awrap(this.props.loadGames());case 3:this.setGames("mostDownloadGames"),this.setGames("mostRecentGames"),this.setGames("highestRatingGames");case 6:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.mostDownloadGames,a=e.mostRecentGames,n=e.highestRatingGames;return r.a.createElement("div",{className:"homepage-container content-container container full"},r.a.createElement("div",{className:"hero-text flex column totally-center"},r.a.createElement("h1",{className:"main-heading"},"Gamein"),r.a.createElement("p",null,"The ultimate destination for buying, discussing, and playing games"),r.a.createElement(E.a,{to:"/game",onClick:this.on,className:"hero-btn"},"To the shop")),r.a.createElement("div",{className:"popular"},r.a.createElement("p",null,"Most Popular"),r.a.createElement(oe,{history:this.props.history,user:this.props.user,onUpdateUser:this.onUpdateUser,games:t})),r.a.createElement("div",{className:"recent"},r.a.createElement("p",null,"Recently Released"),r.a.createElement(oe,{history:this.props.history,user:this.props.user,onUpdateUser:this.onUpdateUser,games:a})),r.a.createElement("div",{className:"top-rated"},r.a.createElement("p",null,"Top Rating"),r.a.createElement(oe,{history:this.props.history,user:this.props.user,onUpdateUser:this.onUpdateUser,games:n})))}}]),t}(n.Component),ie={loadGames:W,updateUser:q},le=Object(c.b)((function(e){return{games:e.gameStore.games,user:e.userStore.loggedInUser}}),ie)(ce),ue=(a(324),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loginCred:{userName:"",password:""}},a.loginHandleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState((function(e){return{loginCred:Object($.a)({},e.loginCred,Object(f.a)({},n,r))}}))},a.doLogin=function(e){var t,n,r,s;return y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),t=a.state.loginCred,n=t.userName,r=t.password,n&&r){o.next=4;break}return o.abrupt("return",console.log("all details are required"));case 4:return s={userName:n,password:r},o.prev=5,o.next=8,y.a.awrap(a.props.login(s));case 8:a.setState({loginCred:{userName:"",password:""}},(function(){return h.push("/")})),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(5),console.log("Had issues while logging in ");case 14:case"end":return o.stop()}}),null,null,[[5,11]])},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props.loggedInUser,t=r.a.createElement("form",{className:"login-form flex column justify-center align-center",onSubmit:this.doLogin},r.a.createElement("input",{className:"login-input input",type:"text",name:"userName",value:this.state.loginCred.userName,onChange:this.loginHandleChange,placeholder:"User name"}),r.a.createElement("input",{className:"login-input input",type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,placeholder:"Password"}),r.a.createElement("button",{className:"login-btn btn"},"Login"),r.a.createElement("p",null,"Not with us yet ?"),r.a.createElement("button",{className:"join-btn",onClick:function(){return h.push("/sign-up")}},"Join"));return r.a.createElement("div",{className:"login-container content-container flex column justify-center align-center container"},r.a.createElement("img",{className:"login-logo",alt:"logo",src:"/logo.png",width:"100px"}),(!e||!e.userName)&&t)}}]),t}(n.Component)),me={login:function(e){return function(t){var a;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.a.awrap(H.login(e));case 3:return a=n.sent,t(J(a)),n.abrupt("return");case 8:throw n.prev=8,n.t0=n.catch(0),console.log(n.t0),n.t0;case 12:case"end":return n.stop()}}),null,null,[[0,8]])}}},pe=Object(c.b)((function(e){return{loggedInUser:e.userStore.loggedInUser}}),me)(ue);function de(e){var t,a,n,r,s,o,c;return y.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:for(t=[],a=0;a<e.length;a++){"dfdvfunfj","zc8aff64",n=e[a].type.split("/"),r="https://api.cloudinary.com/v1_1/".concat("dfdvfunfj","/").concat(n[0],"/upload"),(s=new FormData).append("file",e[a]),s.append("upload_preset","zc8aff64");try{t.push(x.a.post(r,s))}catch(l){console.log("Had issues uploading to cloudinary",l)}}return i.next=4,y.a.awrap(Promise.all(t));case 4:return o=i.sent,c=o.map((function(e){return e.data.url})),i.abrupt("return",c);case 7:case"end":return i.stop()}}))}var ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={signUpCred:{fullName:"",userName:"",password:"",about:"",imgUrl:""}},a.addMediaAndTags=function(e){var t;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.awrap(de(e.target.files));case 2:return t=n.sent,n.abrupt("return",a.setState({imgUrl:t[0]}));case 4:case"end":return n.stop()}}))},a.signUpHandleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState((function(e){return{signUpCred:Object($.a)({},e.signUpCred,Object(f.a)({},n,r))}}))},a.doSignUp=function(e){var t,n,r,s,o,c;return y.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.preventDefault(),t=a.state.signUpCred,n=t.fullName,r=t.userName,s=t.password,o=t.about,n&&r&&s&&o){i.next=4;break}return i.abrupt("return",console.log("all inputs are required fullName, userName, password, about",n,r,s,o));case 4:return c={fullName:n,userName:r,password:s,about:o,imgUrl:a.state.imgUrl},i.prev=5,i.next=8,y.a.awrap(a.props.signUp(c));case 8:a.setState({signUpCred:{fullName:"",password:"",userName:"",about:"",imgUrl:""}},(function(){return h.push("/")})),i.next=14;break;case 11:throw i.prev=11,i.t0=i.catch(5),i.t0;case 14:case"end":return i.stop()}}),null,null,[[5,11]])},a.removeImg=function(){return a.setState({imgUrl:""})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.state.imgUrl,t=this.props.loggedInUser,a="";e&&(a=r.a.createElement("div",{className:"media-container"},r.a.createElement("img",{src:e,alt:""}),r.a.createElement("span",{className:"pointer",onClick:this.removeImg},"X")));var n=r.a.createElement("form",{onSubmit:this.doSignUp},r.a.createElement("input",{type:"text",name:"fullName",value:this.state.signUpCred.fullName,onChange:this.signUpHandleChange,placeholder:"Full Name"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"userName",value:this.state.signUpCred.userName,onChange:this.signUpHandleChange,placeholder:"UserName"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",value:this.state.signUpCred.password,onChange:this.signUpHandleChange,placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"about",value:this.state.signUpCred.about,onChange:this.signUpHandleChange,placeholder:"About"}),r.a.createElement("br",null),r.a.createElement("input",{type:"file",name:"imgUrl",placeholder:"Profile Image",onChange:this.addMediaAndTags}),a,r.a.createElement("br",null),a&&r.a.createElement("button",null,"Join"));return r.a.createElement("div",{className:"content-container"},(!t||!t.userName)&&n)}}]),t}(n.Component),he={signUp:function(e){return function(t){var a;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.a.awrap(H.signUp(e));case 3:return a=n.sent,t(J(a)),n.abrupt("return");case 8:throw n.prev=8,n.t0=n.catch(0),console.log("Had issues in signing up",n.t0),n.t0;case 12:case"end":return n.stop()}}),null,null,[[0,8]])}}},fe=Object(c.b)((function(e){return{loggedInUser:e.userStore.loggedInUser}}),he)(ge),ve=(a(325),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",tag:""},a.inputChange=function(e){var t=e.target.name;a.setState(Object(f.a)({},t,e.target.value))},a.onFilterBy=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(f.a)({},n,t),(function(){return a.props.onFilterBy(a.state)}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sortByPrice,a=e.sortByDownloads;return r.a.createElement("div",{className:"search-container"},r.a.createElement("input",{className:"search-input input",name:"title",type:"search",placeholder:"Search",onChange:this.onFilterBy}),r.a.createElement("input",{className:"search-input input",name:"tag",type:"text",placeholder:"Search by Tags",onChange:this.onFilterBy}),r.a.createElement("span",null,"Sort by "),r.a.createElement("button",{className:"btn",onClick:a}," Popular "),r.a.createElement("button",{className:"btn",onClick:t},"  Price"))}}]),t}(n.Component)),be=(a(326),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={games:null,isAscending:!1},a.componentDidMount=function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:window.scrollTo(0,0),a.onFilterBy();case 2:case"end":return e.stop()}}))},a.onUpdateUser=function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.updateUser(e);case 1:case"end":return t.stop()}}))},a.onFilterBy=function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(a.props.loadGames(e));case 2:a.setState({games:a.props.games});case 3:case"end":return t.stop()}}))},a.sortByDownloads=function(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(v.a)(a.props.games),t.next=3,y.a.awrap(A.sortByDownloads(e,a.state.isAscending));case 3:e=t.sent,a.setState((function(t){return{games:e,isAscending:!t.isAscending}}));case 5:case"end":return t.stop()}}))},a.sortByPrice=function(){var e=Object(v.a)(a.props.games);e=A.sortByPrice(e,a.state.isAscending),a.setState((function(t){return{games:e,isAscending:!t.isAscending}}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.games;return r.a.createElement("div",{className:"content-container flex column container align-center"},r.a.createElement(ve,{sortByPrice:this.sortByPrice,sortByDownloads:this.sortByDownloads,onFilterBy:this.onFilterBy}),r.a.createElement(oe,{history:this.props.history,user:this.props.user,onUpdateUser:this.onUpdateUser,games:e}))}}]),t}(n.Component)),ye={loadGames:W,updateUser:q},Ee=Object(c.b)((function(e){return{games:e.gameStore.games,user:e.userStore.loggedInUser}}),ye)(be),we=a(592),xe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLongTxtShown:a.props.isLongTxtShown},a.getText=function(){return a.state.isLongTxtShown?a.props.text:a.props.text.substring(0,a.props.shortLength)},a.handleReadMore=function(){a.setState((function(e){return{isLongTxtShown:!e.isLongTxtShown}}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getButtonTxt",value:function(){return this.state.isLongTxtShown?"":"..."}},{key:"render",value:function(){return r.a.createElement("span",{className:"read-more",onClick:this.handleReadMore},this.getText(),this.props.text.length>=this.props.shortLength&&r.a.createElement("span",{className:"read-more-button"},this.getButtonTxt()))}}]),t}(n.Component),Oe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).el=document.createElement("div"),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("modal").appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.getElementById("modal").removeChild(this.el)}},{key:"render",value:function(){return o.a.createPortal(this.props.children,this.el)}}]),t}(r.a.Component),Ce=a(33),je=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:[{name:"0",purcheses:0}]},a.setData=function(e){var t=[];if(a.props.games.length){for(var n=30;n>=0;n--){var r=new Date;r.setDate(r.getDate()-n);var s=void 0;s=e[r.getDate()]?e[r.getDate()]:0,t.push({name:r.getDate()+"/"+(r.getMonth()+1),purchases:s})}a.setState({data:t})}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){e.orderDates!==this.props.orderDates&&this.setData(this.props.orderDates)}},{key:"render",value:function(){var e=this.state.data;return r.a.createElement(Ce.b,{width:500,height:400,data:e,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement(Ce.f,{dataKey:"name"}),r.a.createElement(Ce.g,null),r.a.createElement(Ce.e,null),r.a.createElement(Ce.a,{type:"monotone",dataKey:"purchases",stroke:"#8884d8",fill:"#8884d8"}))}}]),t}(n.PureComponent),Ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={data:[{fill:"#16578F",name:"publish Games",value:1}],gameTitles:null,colors:["#16578F","#5F89D3","#A45FC1","#4C96D7","lightblue","red","#023436","#FFC09F","#ADF7B6","#D10000","#65AFFF","#274060"]},a.setData=function(e){var t=a.state.colors,n=[],r=[];a.props.games.forEach((function(s,o){e[o]&&(!a.props.user&&o>3||(r.push(s.title),n.push({fill:t[o],name:s.title,value:e[o]})))})),a.setState({data:n,gameTitles:r})},a.renderCustomizedLabel=function(e){var t=e.cx,a=e.cy,n=e.midAngle,s=e.innerRadius,o=e.outerRadius,c=e.percent,i=(e.index,Math.PI/180),l=s+.5*(o-s),u=t+l*Math.cos(-n*i),m=a+l*Math.sin(-n*i);return r.a.createElement("text",{x:u,y:m,fill:"white",textAnchor:u>t?"start":"end",dominantBaseline:"central"},"".concat((100*c).toFixed(0),"%"))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){e.sumOfGames!==this.props.sumOfGames&&this.setData(this.props.sumOfGames)}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.gameTitles,n=e.colors;return r.a.createElement("div",null,r.a.createElement(Ce.d,{width:400,height:400},r.a.createElement(Ce.c,{dataKey:"value",isAnimationActive:!0,data:t,cx:200,cy:200,outerRadius:100,fill:"#8884d8",labelLine:!1,label:this.renderCustomizedLabel}),r.a.createElement(Ce.e,null)),r.a.createElement("table",null,r.a.createElement("tbody",null,a&&a.map((function(e,t){return r.a.createElement("tr",{key:e},r.a.createElement("td",{className:"menu-color",style:{background:n[t],width:"20px"}}),r.a.createElement("td",null,e))})))))}}]),t}(n.PureComponent);a(506);function ke(e){return r.a.createElement("div",{className:"info-card flex column align-center"},r.a.createElement("p",null,e.children),r.a.createElement("p",{className:"data"},e.children.includes("Earned")&&"$",e.data))}function Ue(e){return r.a.createElement("div",null,r.a.createElement("p",null,"Confirm Delete"),r.a.createElement("button",{onClick:e.modalAction},"Confirm"),r.a.createElement("button",{onClick:function(){return e.toggleModal(e.modalType)}},"Cancel"))}a(507);var Se,Te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={orders:null,filterBy:{_id:""},modalType:"",toggleModal:!1,currGameId:"",sumOfGames:[],monthMoneySum:null,downloadsByMonth:null,downloadsByWeek:null},a.onToggleModal=function(e){a.state.toggleModal?e===a.state.modalType?a.setState((function(e){return{toggleModal:!e.toggleModal,modalType:""}})):a.setState({modalType:e}):a.setState({modalType:e,toggleModal:!0})},a.getGraphsDetails=function(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(A.getGraphsDetails(a.props.games));case 2:e=t.sent,a.setState({orders:e});case 4:case"end":return t.stop()}}))},a.getWeekInfo=function(){var e,t;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.awrap(A.getGraphsDetails(a.props.games,"games",7));case 2:e=n.sent,t=e.reduce((function(e,t){return e+t}),0).toLocaleString(),a.setState({downloadsByWeek:t});case 5:case"end":return n.stop()}}))},a.getMonthInfo=function(){var e,t,n;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.a.awrap(A.getSum(a.props.games));case 2:e=r.sent,t=e.sum.reduce((function(e,t){return e+t}),0).toLocaleString(),n=e.downloadsByGame.reduce((function(e,t){return e+t}),0).toLocaleString(),a.setState({sumOfGames:e.sum,monthMoneySum:t,downloadsByMonth:n});case 6:case"end":return r.stop()}}))},a.componentDidUpdate=function(e){e.games.length!==a.props.games.length&&(a.getGraphsDetails(),a.getWeekInfo(),a.getMonthInfo())},a.componentDidMount=function(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.props.loggedInUser?(e=a.props.loggedInUser._id,a.setState({filterBy:{_id:e}},(function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.awrap(a.props.loadGames(a.state.filterBy));case 2:case"end":return e.stop()}}))}))):a.props.loadGames(),t.next=3,y.a.awrap(a.getGraphsDetails());case 3:a.getWeekInfo(),a.getMonthInfo();case 5:case"end":return t.stop()}}))},a.onRemoveGame=function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({toggleModal:!0,currGameId:e}),a.onToggleModal("confirmDelete");case 2:case"end":return t.stop()}}))},a.removeGame=function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState((function(e){return{toggleModal:!e.toggleModal,modalType:""}})),e.next=3,y.a.awrap(F.remove(a.state.currGameId));case 3:a.props.loadGames();case 4:case"end":return e.stop()}}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.state,a=t.orders,n=t.sumOfGames,s=t.monthMoneySum,o=t.downloadsByMonth,c=t.downloadsByWeek;return this.props.loggedInUser&&(e=r.a.createElement("div",{className:"games-container flex column totally-center"},r.a.createElement("h3",{className:"games-header"},"Your uploaded games"),r.a.createElement("div",{className:"publish-button"},r.a.createElement(E.a,{to:"/edit"},"Publish a game")),r.a.createElement(oe,{onRemoveGame:this.onRemoveGame,history:this.props.history,isDashboard:!0,isProfile:!0,games:this.props.games}),"confirmDelete"===this.state.modalType&&r.a.createElement(Oe,null,r.a.createElement(Ue,{modalType:this.modalType,modalAction:this.removeGame,toggleModal:this.onToggleModal}))),!this.props.games.length)?r.a.createElement("div",{className:"container dashboard-container flex column align-center"},r.a.createElement("h3",{className:"dashboard-header"},"Publish games to see more")):r.a.createElement("div",{className:"container dashboard-container flex column align-center"},!this.props.loggedInUser&&r.a.createElement("h3",{className:"dashboard-header"},"This is a demo of the dashboard, login to see your data"),r.a.createElement("div",{className:"flex info-cards-container"},r.a.createElement(ke,{data:s},"Earned this month:"),r.a.createElement(ke,{data:o},"Downloads this month:"),r.a.createElement(ke,{data:c},"Downloads this week:")),r.a.createElement("div",{className:"charts-container flex wrap totally-center"},r.a.createElement(je,{games:this.props.games,orderDates:a}),r.a.createElement(Ne,{user:this.props.loggedInUser,games:this.props.games,sumOfGames:n})),e)}}]),t}(n.Component),Ae={loadGames:W},Ge=Object(c.b)((function(e){return{games:e.gameStore.games,loggedInUser:e.userStore.loggedInUser}}),Ae)(Te),Me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={games:[]},a.componentDidMount=function(){var e,t;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=[],!a.props.user){n.next=6;break}return n.next=4,y.a.awrap(T.query({orderBy:a.props.user._id}));case 4:n.sent.forEach((function(t){t.gameIds.forEach((function(t){e.push(t)}))}));case 6:if(!e.length){n.next=11;break}return n.next=9,y.a.awrap(a.props.loadGames({shoppingCartIds:e}));case 9:t=n.sent,a.setState({games:t});case 11:case"end":return n.stop()}}))},a.onFilterBy=function(e){a.props.loadGames(e)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.games;return r.a.createElement("div",{className:"content-container container"},r.a.createElement(ve,{onFilterBy:this.onFilterBy}),r.a.createElement(oe,{isProfile:!0,history:this.props.history,games:e}))}}]),t}(n.Component),De={loadGames:W},Ie={Dashboard:Ge,OwnedGames:Object(c.b)((function(e){return{games:e.gameStore.games,user:e.userStore.loggedInUser}}),De)(Me)},Re=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getComponent",value:function(){return Ie[this.props.mode]}},{key:"render",value:function(){var e=this.getComponent();return r.a.createElement(r.a.Fragment,null,r.a.createElement(e,{history:this.props.history}))}}]),t}(n.Component),_e=(a(508),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={mode:"OwnedGames",user:{_id:"null",fullName:"Guest",userName:"Guest",about:"Guest",createdAt:123879186123,imgUrl:"http://keenthemes.com/preview/metronic/theme/assets/pages/media/profile/profile_user.jpg",desiredGames:[{game:"gta"}]}},a.updateMode=function(e){var t=e.target.value;a.setState({mode:t})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.props.loggedInUser&&this.props.loggedInUser.userName&&this.setState({user:this.props.loggedInUser})}},{key:"render",value:function(){var e=this.state.user;return"null"!==e._id?e.createdAt=A.formatDate(A.dateFromObjectId(e._id)):e.createdAt="Dec 2013",r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",{className:"user-card flex align-center container"},r.a.createElement("img",{className:"user-img small",alt:"",src:e.imgUrl}),r.a.createElement("div",{className:"user-details"},r.a.createElement("strong",null,e.userName),r.a.createElement("small",null,e.createdAt),r.a.createElement("div",null,r.a.createElement(xe,{shortLength:100,isLongTxtShown:!1,text:e.about}))),r.a.createElement(we.a,{title:"Edit details",type:"edit",key:"edit"})),r.a.createElement("div",{className:"tab-nav flex justify-center"},r.a.createElement("label",{className:"OwnedGames"===this.state.mode?"inner-tab active":"inner-tab",htmlFor:"OwnedGames"},r.a.createElement("p",null,"Games"),r.a.createElement("input",{name:"tab",type:"radio",onChange:this.updateMode,checked:"OwnedGames"===this.state.mode,value:"OwnedGames",id:"OwnedGames"})),r.a.createElement("label",{className:"Dashboard"===this.state.mode?"inner-tab active":"inner-tab",htmlFor:"Dashboard"},r.a.createElement("p",null,"Dashboard"),r.a.createElement("input",{name:"tab",type:"radio",onChange:this.updateMode,value:"Dashboard",id:"Dashboard"}))),r.a.createElement(Re,{className:"dynamic-prev",history:this.props.history,mode:this.state.mode}))}}]),t}(n.Component)),Be=Object(c.b)((function(e){return{loggedInUser:e.userStore.loggedInUser}}),{})(_e),Fe=a(264),Pe=a.n(Fe),Le={setup:function(){Se=Pe()("/")},terminate:function(){Se=null},on:function(e,t){Se.on(e,t)},off:function(e,t){Se.off(e,t)},emit:function(e,t){Se.emit(e,t)}};a(581),a(582);function We(e){return r.a.createElement("div",{className:"notification"},r.a.createElement("p",null,e.modalTxt))}function He(e){return e.mediaUrls.map((function(t){return t.includes("mp4")?r.a.createElement("video",{key:t,onClick:e.onThumbNailPhotoClick,alt:"",className:"game-choose-thumbnail",src:"".concat(t,"#t=23")}):r.a.createElement("img",{key:t,onClick:e.onThumbNailPhotoClick,alt:"",className:"game-choose-thumbnail",src:t})}))}a(583);var qe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={orderCount:"",rating:"",publisherName:"",isOwned:!1},a.componentDidMount=function(){var e=a.props.game;a.setOrderCount(e),a.setGameRating(e),a.setPublisherName(e.publisher),a.purchaseCheck()},a.componentDidUpdate=function(e){var t=a.props.game;t.title!==e.game.title&&(a.setOrderCount(t),a.setGameRating(t),a.setPublisherName(t.publisher),a.purchaseCheck())},a.setOrderCount=function(e){var t;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.awrap(A.getGraphsDetails([e]));case 2:t=n.sent,a.setState({orderCount:t[e.title]});case 4:case"end":return n.stop()}}))},a.onAddToCart=function(){a.props.onAddToCart(a.props.game._id)},a.setGameRating=function(e){var t=A.formatGameRating(A.getGameRating(e));a.setState({rating:t})},a.setPublisherName=function(e){var t,n;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.a.awrap(H.getById(e));case 2:t=r.sent,n=t.userName,a.setState({publisherName:n});case 5:case"end":return r.stop()}}))},a.purchaseCheck=function(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[],!a.props.user){t.next=5;break}return t.next=4,y.a.awrap(T.query({orderBy:a.props.user._id,gameId:a.props.game._id}));case 4:e=t.sent;case 5:if(!e.length){t.next=9;break}return t.abrupt("return",a.setState({isOwned:!0}));case 9:return t.abrupt("return",a.setState({isOwned:!1}));case 10:case"end":return t.stop()}}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.game,a=e.user,n=t.thumbnail,s=t.description,o=t.publishedAt,c=t.price,i=this.state,l=i.publisherName,u=i.rating,m=i.orderCount,p=i.isOwned?r.a.createElement("button",{className:"btn"},"Play"):r.a.createElement("button",{type:"primary",className:"buy-btn",onClick:this.onAddToCart}," ",c,"$ Add to cart "),d=new Date(o/1),g=A.formatDate(d);return r.a.createElement("div",{className:"desc desc-container flex column"},r.a.createElement("img",{alt:"",className:"game-thumbnail",src:n}),r.a.createElement("table",{className:"details"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"publisher"},l),r.a.createElement("td",{className:"published"},g)))),r.a.createElement("div",{className:"rating-downloads"},r.a.createElement("p",{className:"rating"},"Rating: ",u),r.a.createElement("p",{className:"downloads"},"Last month downloads: ",m)),r.a.createElement("p",{className:"description full"},s),r.a.createElement("div",{className:"flex space-between wish-btn"},r.a.createElement("img",{alt:"like",className:"like-icon",onClick:this.props.onToggleWishedGame,src:a&&a.wishedGames.find((function(e){return e===t._id}))?Q.a:ee.a}),r.a.createElement("button",null,p)))}}]),t}(n.Component),Je=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},a.inputChange=function(e){var t=e.target.name;a.setState(Object(f.a)({},t,e.target.value))},a.onAddComment=function(){var e=a.state.text;if(e){var t={userName:"Guest"};a.props.user&&(t=a.props.user),a.props.onAddCommentOrReview({text:e,user:t},!0),a.setState({text:""})}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.comments,t=this.state.text;if(!e)return"";var a=e.map((function(e){return e.user?r.a.createElement("p",{key:e.text+e.user.userName},e.user.userName," : ",e.text):r.a.createElement("p",{key:e.text},e.text)}));return r.a.createElement("div",null,r.a.createElement("div",{className:"social-content-container"},a),r.a.createElement("h3",null,"Add a Comment"),r.a.createElement("div",{className:"flex new-comment-container"},r.a.createElement("textarea",{type:"text",name:"text",value:t,onChange:this.inputChange,placeholder:"write your text"}),r.a.createElement("button",{className:"add-button",onClick:this.onAddComment,type:"primary"},"Add comment")))}}]),t}(n.Component),Xe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={rating:"",text:""},a.inputChange=function(e){var t=e.target.name;a.setState(Object(f.a)({},t,e.target.value))},a.onAddReview=function(){var e=a.state,t=e.rating,n=e.text;t&&(a.props.onAddCommentOrReview({user:{userName:a.props.user.userName},rating:t,text:n},!0,"reviews"),a.setState({text:""}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.text;return r.a.createElement("div",null,r.a.createElement("h3",null,"Add a review"),r.a.createElement("div",{className:"flex align-center"},r.a.createElement("textarea",{type:"text",name:"text",value:e,onChange:this.inputChange,placeholder:"write your text"}),r.a.createElement("input",{className:"hidden",type:"radio",value:"like",onChange:this.inputChange,name:"rating",id:"like"}),r.a.createElement("label",{className:"like-img pointer",htmlFor:"like",name:"rating"},r.a.createElement("img",{alt:"like",src:"https://img.icons8.com/ultraviolet/40/000000/good-quality.png"})),r.a.createElement("input",{className:"hidden",type:"radio",onChange:this.inputChange,value:"dislike",name:"rating",id:"dislike"}),r.a.createElement("label",{htmlFor:"dislike",className:"dislike-img pointer",name:"rating"},r.a.createElement("img",{alt:"dislike",src:"https://img.icons8.com/ultraviolet/40/000000/poor-quality.png"})),r.a.createElement("button",{className:"add-button",onClick:this.onAddReview},"Add Review")))}}]),t}(n.Component);var $e=Object(c.b)((function(e){return{loggedInUser:e.userStore.loggedInUser}}),{})((function(e){return e.loggedInUser?r.a.createElement("div",null,e.children):null})),ze=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.reviews,a=e.user;return r.a.createElement("div",{className:"reviews-container"},r.a.createElement("ul",{className:"social-content-container "}," ",t.map((function(e){return r.a.createElement("div",{className:"review-container flex",key:e.text},r.a.createElement("div",{className:"flex column review-user-details"},r.a.createElement("p",null,e.user.userName),"like"===e.rating?r.a.createElement("img",{alt:"like",src:"https://img.icons8.com/ultraviolet/40/000000/good-quality.png"}):r.a.createElement("img",{alt:"dislike",src:"https://img.icons8.com/ultraviolet/40/000000/poor-quality.png"})),r.a.createElement("div",null,r.a.createElement("p",null,e.text)))}))),r.a.createElement($e,null,r.a.createElement(Xe,{user:a,onAddCommentOrReview:this.props.onAddCommentOrReview,onAddReview:this.onAddReview,inputChange:this.inputChange})))}}]),t}(n.Component);function Ye(e){if(!e.game)return r.a.createElement("h1",null,"Loading");var t,a=e.onAddCommentOrReview,n=e.onThumbNailPhotoClick,s=e.user,o=e.toggleWishedGame,c=e.onAddToCart,i=e.onToggleModal,l=e.toggleModal,u=e.modalTxt,m=e.currMediaUrl,p=e.game,d=p.title,g=p.reviews,h=p.mediaUrls,f=p.tags,v=p.comments;return t=m.includes(".mp4")?r.a.createElement("iframe",{title:"video",src:"".concat(m,"?#t=0&#autoplay=1&mute=1"),allowFullScreen:"allowfullscreen",volume:0,className:"game-main-thumbnail"}):r.a.createElement("img",{src:m,alt:"",className:"game-main-thumbnail"}),r.a.createElement("div",{className:"container content-container"},l&&r.a.createElement(Oe,null,r.a.createElement(We,{modalTxt:u,toggleModal:i})),r.a.createElement("h1",null,d),r.a.createElement("div",{className:"grid game-main-content-container "},t,r.a.createElement("div",{className:"flex game-choose-thumbnail-container"},r.a.createElement(He,{onThumbNailPhotoClick:n,mediaUrls:h})),r.a.createElement(qe,{user:e.user,onToggleWishedGame:o,onAddToCart:c,game:e.game})),r.a.createElement("h2",null,"Tags:"),f.map((function(e){return r.a.createElement("span",{className:"tag",key:e},e," ")})),r.a.createElement("h2",null,"Reviews :"),r.a.createElement(ze,{user:s,onAddCommentOrReview:a,reviews:g}),r.a.createElement("h2",null,"Comments :"),r.a.createElement(Je,{user:s,onAddCommentOrReview:a,comments:v}))}var Ke=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currMediaUrl:"",toggleModal:!1,modalTxt:""},a.componentDidMount=function(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),e=a.props.match.params.id,t.next=4,y.a.awrap(a.props.loadGame(e));case 4:a.setState({currMediaUrl:a.props.game.mediaUrls[0]}),a.initiateSockets();case 6:case"end":return t.stop()}}))},a.initiateSockets=function(){Le.setup(),Le.emit("chat room",a.props.game.title),Le.on("chat newComment",a.onAddCommentOrReview)},a.componentWillUnmount=function(){Le.terminate()},a.onAddCommentOrReview=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"comments",r=Object($.a)({},a.props.game);return r[n]=[].concat(Object(v.a)(r[n]),[e]),t?("comments"===n&&Le.emit("chat newComment",e),a.props.updateGame(r)):a.props.updateComments(r)},a.onAddToCart=function(e){try{a.props.addGameToCart(e),a.setState({modalTxt:"Game has been added to the cart",toggleModal:!0},a.onToggleModal())}catch(t){a.setState({modalTxt:"Game is already in the cart",toggleModal:!0},a.onToggleModal())}},a.toggleWishedGame=function(e){var t=a.props,n=t.loggedInUser,r=t.game;e.stopPropagation();var s,o=n&&n.wishedGames||[];s=-1===o.findIndex((function(e){return e===r._id}))?Object($.a)({},n,{wishedGames:[].concat(Object(v.a)(o),[r._id])}):Object($.a)({},n,{wishedGames:o.filter((function(e){return e!==r._id}))}),a.props.updateUser(s)},a.onToggleModal=function(){setTimeout((function(){a.setState((function(e){return{toggleModal:!e.toggleModal}}))}),2e3)},a.onThumbNailPhotoClick=function(e){a.setState({currMediaUrl:e.target.src})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(Ye,{onThumbNailPhotoClick:this.onThumbNailPhotoClick,onToggleModal:this.onToggleModal,toggleWishedGame:this.toggleWishedGame,game:this.props.game,currMediaUrl:this.state.currMediaUrl,modalTxt:this.state.modalTxt,onAddToCart:this.onAddToCart,onAddCommentOrReview:this.onAddCommentOrReview,user:this.props.loggedInUser})}}]),t}(n.Component),Ve={addGameToCart:function(e){return function(t){try{return Y.addToCart(e),void t(function(e){return{type:"ADD_TO_CART",item:e}}(e))}catch(a){throw console.log(a),a}}},loadGame:function(e){return function(t){var a;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.a.awrap(F.getById(e));case 3:return a=n.sent,t(L(a)),n.abrupt("return",a);case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),null,null,[[0,8]])}},updateGame:function(e){return function(t){var a;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.a.awrap(F.update(e));case 3:return a=n.sent,t(L(e)),n.abrupt("return",a);case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),null,null,[[0,8]])}},updateComments:function(e){return function(t){try{return t(L(e)),e}catch(a){}}},updateUser:q},Qe=Object(c.b)((function(e){return{cart:e.cartStore.cart,game:e.gameStore.game,loggedInUser:e.userStore.loggedInUser}}),Ve)(Ke),Ze=(a(584),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={comments:null},a.componentWillUnmount=function(){Le.terminate()},a.sendComment=function(e){Le.emit("chat newComment",e)},a.addComment=function(e){if(!a.state.comments)return a.setState({comments:[e]});a.setState((function(t){return{comments:[].concat(Object(v.a)(t.comments),[e])}}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.loggedInUser?this.props.loggedInUser.userName:"Guest";Le.setup(),Le.emit("chat room",this.props.match.params.id),Le.emit("user joined",{text:"".concat(e," has joined the chat")}),Le.on("chat newComment",this.addComment),Le.on("user joined",this.addComment)}},{key:"render",value:function(){var e,t=this.state.comments,a=this.props.loggedInUser?"":"Buy the game to enjoy the game fully";return e=r.a.createElement(Je,{onAddCommentOrReview:this.sendComment,comments:t}),r.a.createElement("div",{className:"content-container"},r.a.createElement("h3",null,a),r.a.createElement("div",{className:"flex"},r.a.createElement("iframe",{title:"play",src:"https://www.gameflare.com/embed/cartoon-strike/",frameBorder:"0",scrolling:"no",width:"1000",height:"635",allowFullScreen:!0}),r.a.createElement("ul",null,e)))}}]),t}(n.Component)),et=Object(c.b)((function(e){return{loggedInUser:e.userStore.loggedInUser}}),{})(Ze),tt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.loadCart()}},{key:"render",value:function(){return r.a.createElement("p",{style:{alignSelf:"center",color:"white"}},this.props.cart.length)}}]),t}(n.Component),at={loadCart:function(){return function(e){e(K(Y.query()))}}},nt=Object(c.b)((function(e){return{cart:e.cartStore.cart}}),at)(tt),rt=(a(585),a(265)),st=a.n(rt),ot=a(266),ct=a.n(ot),it=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).doLogOut=function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.awrap(a.props.logout());case 3:h.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Had issues while logging out ",e.t0);case 9:case"end":return e.stop()}}),null,null,[[0,6]])},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.loggedInUser,a=t?t.userName:"guest";return r.a.createElement("nav",{className:"nav-bar flex align-center"},r.a.createElement("div",{className:"nav-logo full"},r.a.createElement(E.a,{to:"/"},r.a.createElement("img",{alt:"logo",src:"/navbar-logo.png"}))),r.a.createElement("input",{type:"checkbox",className:"hidden",id:"menu"}),r.a.createElement("div",{className:"flex nav-link-container"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"nav-link flex align-center",onClick:function(){return e.props.toggleModal("wishlist")}},r.a.createElement("img",{alt:"",src:st.a})),r.a.createElement("div",{className:"nav-link flex align-center",onClick:function(){return e.props.toggleModal("shoppingCart")}},r.a.createElement(nt,null),r.a.createElement("img",{alt:"",src:ct.a}))),r.a.createElement("label",{className:"nav-bar-hamburger pointer",htmlFor:"menu"},"\u2630"),r.a.createElement("div",{className:" nav-bar-menu"},r.a.createElement(E.b,{to:"/",exact:!0,className:"nav-link flex align-center",activeClassName:"active"},"Homepage"),r.a.createElement(E.b,{to:"/game",exact:!0,className:"nav-link flex align-center",activeClassName:"active"},"Explore"),r.a.createElement(E.b,{to:"/user/".concat(a||"guest"),exact:!0,className:"nav-link flex align-center",activeClassName:"active"},"Profile"),t&&t.userName?r.a.createElement(E.b,{onClick:this.doLogOut,to:"/",exact:!0,className:"nav-link flex align-center",activeClassName:""},"Logout"):r.a.createElement(E.b,{to:"/login",exact:!0,className:"nav-link flex align-center",activeClassName:"active"},"Login"))))}}]),t}(n.Component),lt={logout:function(){return function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.awrap(H.logout());case 3:return e(J(null)),t.abrupt("return");case 7:throw t.prev=7,t.t0=t.catch(0),console.log("Had issues in logging out",t.t0),t.t0;case 11:case"end":return t.stop()}}),null,null,[[0,7]])}}},ut=Object(c.b)((function(e){return{loggedInUser:e.userStore.loggedInUser}}),lt)(it);a(586);function mt(e){return e.mediaUrls.map((function(t,a){return t.includes(".mp4")?r.a.createElement("div",{className:"media-container flex",key:t},r.a.createElement("iframe",{src:t,allowFullScreen:"allowfullscreen",title:"video",alt:t}),r.a.createElement("span",{className:"pointer",onClick:function(){return e.removeMediaAndTags("mediaUrls",a)}},"X")):r.a.createElement("div",{className:"media-container  flex",key:t},r.a.createElement("img",{src:t,alt:t}),r.a.createElement("span",{className:"pointer",onClick:function(){return e.removeMediaAndTags("mediaUrls",a)}},"X"))}))}function pt(e){var t=e.thumbnail;return r.a.createElement("div",{className:"media-container"},r.a.createElement("img",{src:t,alt:""}),r.a.createElement("span",{className:"pointer",onClick:function(){return e.removeMediaAndTags("thumbnail")}},"X"))}function dt(e){return e.tags.map((function(t,a){return r.a.createElement("div",{className:"tag-container",key:t},r.a.createElement("span",{className:"pointer",onClick:function(){return e.removeMediaAndTags("tags",a)}},"X"),r.a.createElement("p",null,t))}))}function gt(e){var t,a,n,s=e.inputChange,o=e.addMediaAndTags,c=e.onSubmit,i=e.removeMediaAndTags,l=e.form,u=l.price,m=l.publishedAt,p=l.title,d=l.mediaUrls,g=l.tags,h=l.thumbnail,f=l.description;return d&&d.length&&(a=r.a.createElement(mt,{removeMediaAndTags:i,mediaUrls:d})),g&&g.length&&(t=r.a.createElement(dt,{removeMediaAndTags:i,tags:g})),h&&(n=r.a.createElement(pt,{thumbnail:h,removeMediaAndTags:i})),r.a.createElement("div",{className:"edit-container"},r.a.createElement("p",null," Title : "),r.a.createElement("input",{type:"text",onChange:s,value:p,placeholder:"title",name:"title"}),r.a.createElement("p",null,"Publish Date"),r.a.createElement("input",{type:"date",onChange:s,value:m,name:"publishedAt"}),r.a.createElement("p",null," Descripiton: "),r.a.createElement("textarea",{type:"text",onChange:s,placeholder:"description",name:"description",value:f}),r.a.createElement("p",null," Thumbnail Img: "),r.a.createElement("input",{type:"file",onChange:o,placeholder:"thumbnail",name:"thumbnail"}),n,r.a.createElement("p",null," Media: "),r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:o,placeholder:"Put your image Urls here",name:"mediaUrls",multiple:!0}),r.a.createElement("div",{className:"flex wrap"},a)),r.a.createElement("p",null,"Price: "),r.a.createElement("input",{type:"number",onChange:s,placeholder:"price",name:"price",value:u}),r.a.createElement("p",null,"Tags:"),r.a.createElement("input",{type:"tags",onChange:s,placeholder:"tags",name:"currTag"}),r.a.createElement("button",{name:"tags",onClick:o},"Add Tag"),r.a.createElement("div",{className:"flex"},t),r.a.createElement("button",{onClick:c},"Submit"))}var ht=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",thumbnail:"",mediaUrls:[],price:"",publishedAt:"",tags:null,currTag:""},a.componentDidMount=function(){var e,t,n;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e=a.props.match.params.id)){r.next=7;break}return r.next=4,y.a.awrap(F.getById(e));case 4:t=r.sent,n=a.getDateInput(t.publishedAt),a.setState(Object($.a)({},t,{publishedAt:n}));case 7:case"end":return r.stop()}}))},a.getDateInput=function(e){var t=new Date(e/1),a=("0"+t.getDate()).slice(-2),n=("0"+(t.getMonth()+1)).slice(-2);return t.getFullYear()+"-"+n+"-"+a},a.onSubmit=function(){var e,t,n;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if((e=Object($.a)({},a.state)).publishedAt=new Date(e.publishedAt).getTime(),console.log(e),e.mediaUrls){r.next=5;break}return r.abrupt("return");case 5:if(e.thumbnail){r.next=7;break}return r.abrupt("return");case 7:if(!a.props.match.params.id){r.next=13;break}return delete e.currTag,r.next=11,y.a.awrap(F.update(e));case 11:return t=r.sent,r.abrupt("return",a.props.history.push("/game/".concat(t._id)));case 13:if(a.props.loggedInUser){r.next=15;break}return r.abrupt("return");case 15:return e.publisher=a.props.loggedInUser._id,e.comments=[],e.reviews=[],delete e.currTag,r.next=21,y.a.awrap(F.add(e));case 21:return n=r.sent,r.abrupt("return",a.props.history.push("/game/".concat(n._id)));case 23:case"end":return r.stop()}}))},a.addMediaAndTags=function(e){var t,n;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("tags"===(t=e.target.name)){r.next=8;break}return r.next=4,y.a.awrap(de(e.target.files));case 4:if(n=r.sent,"thumbnail"!==t){r.next=7;break}return r.abrupt("return",a.setState({thumbnail:n[0]}));case 7:return r.abrupt("return",a.setState((function(e){return{mediaUrls:[].concat(Object(v.a)(e.mediaUrls),Object(v.a)(n))}})));case 8:if(a.state.currTag){r.next=10;break}return r.abrupt("return");case 10:a.setState((function(e){return{tags:[].concat(Object(v.a)(e.tags),[a.state.currTag])}}));case 11:case"end":return r.stop()}}))},a.removeMediaAndTags=function(e,t){if("thumbnail"===e)return a.setState({thumbnail:""});var n=Object(v.a)(a.state[e]);n.splice(t,1),a.setState(Object(f.a)({},e,n))},a.inputChange=function(e){var t=e.target.name;a.setState(Object(f.a)({},t,e.target.value))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(gt,{removeMediaAndTags:this.removeMediaAndTags,inputChange:this.inputChange,onSubmit:this.onSubmit,addMediaAndTags:this.addMediaAndTags,form:this.state})}}]),t}(n.Component),ft=Object(c.b)((function(e){return{loggedInUser:e.userStore.loggedInUser}}),{})(ht),vt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={games:null,gamesIds:null},a.onUpdateUser=function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.updateUser(e);case 1:case"end":return t.stop()}}))},a.onRemoveFromCart=function(e){Y.removeFromCart(e),a.loadGames()},a.onBuyClick=function(){if(a.props.user){var e={createdAt:A.objectIdByTime(),orderBy:a.props.user._id,gameIds:a.state.gamesIds};T.add(e),a.props.clearCart(),a.loadGames()}else h.push("/login")},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadGames()}},{key:"loadGames",value:function(){var e,t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=Y.query(),t=[],!e.length){a.next=6;break}return a.next=5,y.a.awrap(F.query({shoppingCartIds:e}));case 5:t=a.sent;case 6:this.setState({gamesIds:e,games:t});case 7:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",{className:"modal totally-center"},this.state.games&&this.state.games.length?r.a.createElement("div",{className:"modal-content"},r.a.createElement(oe,{user:this.props.user,onUpdateUser:this.onUpdateUser,onRemoveFromCart:this.onRemoveFromCart,isCart:!0,games:this.state.games,history:this.props.history}),r.a.createElement("div",{className:"flex justify-center"},r.a.createElement("button",{className:"pointer cla-btn",onClick:this.onBuyClick},"Purchase"))):r.a.createElement("h3",{className:"flex column totally-center"},"Your shopping cart is empty"))}}]),t}(n.Component),bt={clearCart:function(){return function(e){e(K(Y.clear()))}},updateUser:q},yt=Object(c.b)((function(e){return{user:e.userStore.loggedInUser}}),bt)(vt),Et=(a(587),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onUpdateUser=function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.updateUser(e);case 1:case"end":return t.stop()}}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){W()}},{key:"render",value:function(){if(this.props.user){var e=this.props,t=e.games,a=e.user,n=t.filter((function(e){return a.wishedGames.includes(e._id)}));return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement(oe,{history:this.props.history,user:a,onUpdateUser:this.onUpdateUser,games:n})))}return r.a.createElement("div",{className:"modal"},r.a.createElement("h3",{className:"modal-content empty-wishlist flex align-center"},"Please Login to see your wishlist"))}}]),t}(n.Component)),wt={loadGames:W,updateUser:q},xt=Object(c.b)((function(e){return{games:e.gameStore.games,user:e.userStore.loggedInUser}}),wt)(Et);a(588);function Ot(e){return r.a.createElement("div",{className:"footer-container totally-center flex column"},r.a.createElement("img",{className:"logo-footer",width:"10",alt:"logo",src:"/logo.png"}),r.a.createElement("small",{className:"rights"},"\xa9 2020, ",r.a.createElement("span",{className:"name"},"GameIn")," Inc. All rights reserved"),r.a.createElement("div",null,r.a.createElement(E.a,{to:"/about"},"About us")))}a(589);var Ct=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={modalType:"",toggleModal:!1},a.toggleModal=function(e){a.state.toggleModal?e===a.state.modalType?a.setState((function(e){return{toggleModal:!e.toggleModal,modalType:""}})):a.setState({modalType:e}):a.setState({modalType:e,toggleModal:!0})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{history:h,className:"App Site"},r.a.createElement(ut,{toggleModal:this.toggleModal}),r.a.createElement(d.c,{className:"Site-content"},r.a.createElement(d.a,{path:"/",render:function(){return r.a.createElement(le,{history:h})},exact:!0}),r.a.createElement(d.a,{path:"/login",component:pe,exact:!0}),r.a.createElement(d.a,{path:"/sign-up",component:fe,exact:!0}),r.a.createElement(d.a,{path:"/edit/:id?",component:ft,exact:!0}),r.a.createElement(d.a,{path:"/game/:id",component:Qe,exact:!0}),r.a.createElement(d.a,{path:"/game",render:function(){return r.a.createElement(Ee,{history:h})},exact:!0}),r.a.createElement(d.a,{path:"/user/:id",render:function(){return r.a.createElement(Be,{history:h})},exact:!0}),r.a.createElement(d.a,{path:"/play/:id",component:et,exact:!0})),r.a.createElement(Ot,null)),this.state.toggleModal&&r.a.createElement(Oe,null,"wishlist"===this.state.modalType?r.a.createElement(xt,{history:h}):r.a.createElement(yt,{history:h})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jt=a(45),Nt=a(267),kt={game:null,games:[],filterBy:{publisher:""}};var Ut=null;sessionStorage.user&&(Ut=JSON.parse(sessionStorage.user));var St={loggedInUser:Ut};var Tt={cart:[]};var At=Object(jt.c)({gameStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAMES":return Object($.a)({},e,{games:t.games});case"SET_FILTER":return Object($.a)({},e,{filterBy:Object($.a)({},t.filterBy)});case"SET_GAME":return Object($.a)({},e,{game:t.game});default:return e}},userStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":case"UPDATE_USER":return Object($.a)({},e,{loggedInUser:t.user});default:return e}},cartStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CART":return Object($.a)({},e,{cart:t.cart});case"ADD_TO_CART":return Object($.a)({},e,{cart:[].concat(Object(v.a)(e.cart),[t.item])});case"REMOVE_FROM_CART":return Object($.a)({},e,{cart:Object(v.a)(e.cart.filter((function(e){return e!==t.item})))});case"CLEAR_CART":return Object($.a)({},e,{cart:[]});default:return e}}}),Gt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||jt.d,Mt=Object(jt.e)(At,Gt(Object(jt.a)(Nt.a)));o.a.render(r.a.createElement(c.a,{store:Mt},r.a.createElement(Ct,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[294,1,2]]]);
//# sourceMappingURL=main.017054d4.chunk.js.map